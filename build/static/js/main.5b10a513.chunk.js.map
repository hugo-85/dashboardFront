{"version":3,"sources":["reducers/authReducer.js","config/firebase.js","middleware/Middleware.js","contexts/AuthContext.js","components/Main.js","components/NavBar.js","components/Sellers.js","floating-button/components/button.jsx","floating-button/components/input.jsx","floating-button/components/container.jsx","floating-button/components/titles.jsx","floating-button/components/circle.jsx","floating-button/src/scriptGenerating.js","floating-button/components/app.jsx","components/Campaigns.js","components/SearchSellers.js","components/Campaign.js","components/Wellcome.js","components/Seller.js","components/Users.js","components/Admins.js","components/NpsReport.js","components/StatsReport.js","components/Reports.js","components/reports/npsReport/NpsSeller.js","components/reports/npsReport/NpsCampaign.js","components/reports/npsReport/NpsReportDetails.js","components/reports/statsReport/StatsSeller.js","components/reports/statsReport/StatsCampaign.js","components/reports/statsReport/StatsReportDetails.js","App.js","serviceWorker.js","index.js"],"names":["authReducer","state","action","type","user","error","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","db_firestore","firestore","db_realtime","database","ref","storage","apiUrl","process","getCampaigns","id","axios","get","then","res","data","catch","console","log","getCampaign","method","url","getCampaignsForCompany","campaigns","err","getOnlineSellers","users","idcompany","result","retorno","forEach","ret","val","uid","push","getOfflineSellers","child","name","toLowerCase","once","exists","getSeller","getSellers","seller","getClients","element","getAdmins","getUser","headers","getUsersCampaign","updateUser","Accept","getSessions","AuthContext","createContext","AuthContextProvider","props","useState","loading","setLoading","campaign","setCampaign","getCurrentUser","a","dispatch","message","useReducer","localStorage","getItem","useEffect","getUserCampaing","camp","hasOwnProperty","admin","Provider","value","children","Main","sellers","setSellers","camps","setCamps","setOfflineSeller","totalNps","setTotalNps","lastUpdate","setNewUpdate","history","useHistory","getOnline","sellersOnline","rightNow","Date","getHours","getMinutes","callGetSellers","getOffline","sellersOffline","avgNPS","cant","length","isNaN","nps","parseFloat","toFixed","getUserNamesOnline","registers","setInterval","useContext","document","getElementsByTagName","style","classes","makeStyles","theme","root","padding","marginBottom","dataDiv","display","width","iconTitle","marginLeft","textAlign","personIcon","color","backgroundColor","float","marginRight","npcIcon","equalizerIcon","iconNumber","dataGrid","defaultPaper","minHeight","offlineSellers","marginTop","linkButton","textDecoration","updateTime","fontSize","fontWeight","useStyles","Grid","container","spacing","className","item","xs","sm","Paper","elevation","Avatar","to","pathname","search","hash","title","paddingLeft","columns","field","editable","render","rowData","avatar","src","alt","borderRadius","match","join","toUpperCase","headerStyle","actions","icon","ArrowForwardIosIcon","tooltip","onClick","event","vendedor","to2","options","pageSize","pageSizeOptions","NavBar","flexGrow","appBar","appBarProfile","height","border","cursor","divProfile","imgProfile","objectFit","logOutAvatar","menuButton","clienteInfo","userMenu","presentation","navLink","headerLink","margin","menuList","paddingTop","paddingBottom","sideMenuLink","sideMenuLinkIcon","sideMenuDivider","logOutButton","transform","floatSignOut","borderStyle","borderWidth","borderColor","floatSignOutContent","menuOpen","setMenuOpen","showLogOut","setShowLogOut","handleSignout","auth","signOut","removeItem","AppBar","position","Toolbar","variant","IconButton","edge","aria-label","Typography","Badge","overlap","anchorOrigin","vertical","horizontal","badgeContent","Drawer","open","onClose","role","onKeyDown","justify","List","ListItem","button","key","ListItemIcon","ListItemText","primary","Button","Sellers","setOpen","sels","sellersTable","popList","uploadFile","file","setFile","goToVendedor","Alert","handleClose","reason","editComponent","getElementById","click","inputProps","accept","onChange","e","target","files","indexOf","reader","FileReader","readAsDataURL","onloadend","uploadImage","undefined","map","Chip","label","size","onRowAdd","newData","Promise","resolve","reject","mail","password","displayName","resp","userRecord","onRowUpdate","oldData","photoURL","onRowDelete","delete","filter","s","Snackbar","autoHideDuration","severity","ButtonModelOne","boxShadow","justifyContent","alignItems","bottom","zIndex","pos","this","left","right","Object","assign","background","faComment","colorText","React","Component","ButtonModelTwo","expandContainer","bind","hideContainer","setState","data-text","text","onMouseEnter","onMouseLeave","x","y","viewBox","data-reactid","fill","d","Input","maxLength","placeholder","InputRange","min","max","Container","flexDirection","overflow","show","titleStyle","fontFamily","company","frameBorder","ColorSelector","red","green","blue","Parrafo","Circle","tryDOM","DOM","marca","finalString","ButtonContainer","generate","model","showBubble","previsualizar","backgroundBlue","backgroundRed","backgroundGreen","colorBlue","colorRed","colorGreen","buttonModel","containerIframe","changeModel","changeBackground","changeColorText","changePosition","changeText","generateScript","chooseElementToShow","changeCheckBox","changeCustomBackground","changeCustomColor","copyContent","ev","getAttribute","rej","cnt","floatingStyle","ReactDOMServer","renderToString","script","getElementsByName","select","execCommand","modalBackStyle","top","lineHeight","faTimes","containerStyle","rowStyle","alignSelf","spanStyle","inputStyle","checked","columnStyle","buttonStyle","borderTop","readOnly","faCopy","outline","Campaigns","showGenerator","setButtonBehaviour","iframeContent","setIframeContent","getCamps","campaignsTable","selectInput","typeLogin","FormControl","Select","labelId","defaultValue","MenuItem","split","window","SearchSellers","addSeller","searchedItems","setItems","searchText","debounce","items_res","includes","resetIdCounter","searchInput","writingMode","textRendering","letterSpacing","wordSpacing","textTransform","textIndent","textShadow","font","pointerEvents","dropDown","dropDownItem","borderBottom","transition","borderLeft","sellerAvatar","itemToString","getInputProps","getItemProps","isOpen","inputValue","highlightedIndex","persist","index","Campaign","location","setCamp","allSellers","setAllSellers","setSellersCampaign","sellersCompany","setSellersCompany","resources","setResources","fileBanner","setFileBanner","fileBackground","setFileBackground","handleChange","getClientCampaing","getSellersCampaign","some","c","getAllSellers","sellersAll","aux","sel","getSellersCompany","finded","addNewSeller","sellerId","statusText","getSellersForCampaign","campId","userId","post","campaignId","promise","HtmlTooltip","withStyles","maxWidth","maxHeight","typography","pxToRem","Tooltip","ress","getResoursesforCampaign","campaniaInfo","defaultGrid","columnGrid","textInputTitle","textInputLoadText","selectInput2","campAvatar","imgPreview","searchVendedor","saveButton","headerDiv","headerDivCampaign","circularLoading","component","banner","image","fontColor","headerColor","loadText","welcomeText","urlOrigen","parseInt","backgroundImage","Save","TextField","disabled","placement","Fragment","InputLabel","newCampValues","removeImage","fileInput","removeImageBanner","uploadBannerImage","removeImageBackground","uploadBackgroundImage","hex","cellStyle","campaignNps","newList","lookup","0","1","2","3","4","5","idCampaign","recurso","content","resourceId","r","CircularProgress","Wellcome","newUser","forget","setForget","emailRecover","setEmailRecover","email","pass","phone","values","setValues","innerWidth","innerHeight","dimensions","setDimensions","handleResize","addEventListener","removeEventListener","body","loginForm","emailAndPass","textInput","textInput2","ckeckInput","modalButtons","modalButton","logo","errorLogin","imgLogoMobileContent","imgLogoMobile","useSpring","from","config","mass","tension","friction","names","productName","getUserData","setItem","loginWithMail","signInWithEmailAndPassword","img","onSubmit","preventDefault","response","autoComplete","endIcon","Send","Seller","sell","setSeller","sellCamps","setSellCamps","changePass","setChange","setNewPassword","disponibleCamps","setDisponible","chats","setChats","allCamps","disp","sc","campAux","aux2","setRawCamps","listAll","chatsFiles","items","itemRef","path","vendedorInfo","personAvatar","changeButton","modalPassword","fileLikeUrl","setFileLikeUrl","rawCamps","downloadPdf","pdf","escape","storageRef","getDownloadURL","downloadUrl","createElement","href","download","openModalPassword","put","snapshot","fullPath","resource","phoneNumber","PriorityHigh","Modal","aria-labelledby","aria-describedby","newPass","rawData","PictureAsPdfIcon","Users","setUsers","setCampaigns","infoCamp","Admins","listen","collection","where","onSnapshot","docs","u","NpsReport","bestSeller","bestCampaign","reportContainer","resume","ItemTitle","resumeTotal","resumeBestCampaign","resumeBestSeller","StatsReport","avrgQueryTime","adherence","effectiveness","attention1","attention2","dropOuts1","dropOuts2","entries","showDetails","detailButton","Reports","setCompany","setBestSeller","setBestCampaign","setAvrgQueryTime","setAttention1","setAttention2","setDropouts1","setDropouts2","setEntries","selCamp","c2","company1","queryTime","countChats","countAttended","countShortAttended","countRejected","countTotalUsers","i","sessions","selQueryTime","chat","tiempoTotal","selAttended","selShortAttended","selRejected","selTotalUsers","session","Number","atendidos","antecionesCortas","rechazados","totalUsuarios","Math","round","vAvrgQueryTime","vAttention1","vAttention2","vDropouts1","vDropouts2","npsTotal","maxNpsCampaign","npsCamp","maxNps","indexSel","j","NaN","goToReport","reportsCointainer","reportsList","report","paddingRight","NpsSeller","sellerEntry","npsSeller","NpsCampaign","campEntry","NpsReportDetails","details","companyTitle","npsCompany","StatsSeller","nested","StatsCampaign","Collapse","in","timeout","unmountOnExit","disablePadding","StatsReportDetails","effectiviness","dropouts1","droputs2","service1","service2","service3","palette","paper","subheader","ListSubheader","App","app","Boolean","hostname","ReactDOM","StrictMode","navigator","serviceWorker","ready","registration","unregister"],"mappings":"6PAAaA,EAAc,SAACC,EAAOC,GACjC,OAAQA,EAAOC,MACb,IAAK,gBACH,MAAO,CAAEC,KAAMF,EAAOE,KAAMC,MAAO,MACrC,IAAK,cACH,MAAO,CAAED,KAAM,KAAMC,MAAOH,EAAOG,OACrC,IAAK,iBACH,MAAO,CAAED,KAAMF,EAAOE,KAAMC,MAAO,MACrC,IAAK,eACH,MAAO,CAAED,KAAM,KAAMC,MAAOH,EAAOG,OACrC,IAAK,kBACH,MAAO,CAAED,KAAM,KAAMC,MAAO,MAC9B,QACE,OAAOJ,I,uECcbK,IAASC,cAVY,CACnBC,OAAQ,0CACRC,WAAY,6BACZC,YAAa,oCACbC,UAAW,aACXC,cAAe,yBACfC,kBAAmB,eACnBC,MAAO,8CAOF,IAAMC,EAAeT,IAASU,YACxBC,EAAcX,IAASY,WAAWC,MAClCC,EAAUd,IAASc,UAEjBd,IAAf,EChCMe,EAASC,sCAGFC,EAAe,SAACC,GA6BzB,OAAOC,IACJC,IADI,UACGL,EADH,8BAC+BG,IACnCG,MAAK,SAACC,GAGL,OAFeA,EAAIC,QAIpBC,OAAM,SAACzB,GACN0B,QAAQC,IAAI,QAAS3B,OAIhB4B,EAAc,SAACT,GA4BxB,OAAOC,IAAM,CACXS,OAAQ,MACRC,IAAI,GAAD,OAAKd,EAAL,oBAAuBG,KAEzBG,MAAK,SAACC,GAKL,OAJeA,EAAIC,QAMpBC,OAAM,SAACzB,GACN0B,QAAQC,IAAI,QAAS3B,OAiBhB+B,EAAyB,SAACZ,GACrC,OAAOC,IAAM,CACXS,OAAQ,MACRC,IAAI,GAAD,OAAKd,EAAL,qBAAwBG,KAE1BG,MAAK,SAACC,GACL,OAAOA,EAAIC,KAAKQ,aAEjBP,OAAM,SAACQ,GACNP,QAAQC,IAAIM,OA2DLC,EAAmB,WAAqC,IAApCC,EAAmC,uDAA3B,KAAMC,EAAqB,uDAAT,KAwCvD,OAAOhB,IACJC,IADI,UACGL,EADH,2BAEJM,MAAK,SAACC,GACL,IAAMc,EAASd,EAAIC,KACfc,EAAU,GAWd,OATAD,EAAOE,SAAQ,SAACC,GACdL,EAAMI,SAAQ,SAACxC,GACbA,EAAKwC,SAAQ,SAACf,GACRA,EAAKiB,MAAMtB,KAAOqB,EAAIE,KAAOF,EAAIJ,YAAcA,GACjDE,EAAQK,KAAKH,YAKdF,KAERb,OAAM,SAACzB,GACN0B,QAAQC,IAAI,QAAS3B,OAKhB4C,EAAoB,SAACzB,GAuC9B,OAAOC,IACJC,IADI,UACGL,EADH,2BAEJM,MAAK,SAACC,GACL,IAAMc,EAASd,EAAIC,KACfc,EAAU,GAWd,OATAD,EAAOE,SAAQ,SAACC,GACVA,EAAIJ,YAAcjB,GACpBP,EACGiC,MAAM,qBAAuBL,EAAIM,KAAKC,eACtCC,KAAK,SAAS,SAACjD,GACTA,EAAKkD,UAAUX,EAAQK,KAAKH,SAIlCF,KAERb,OAAM,SAACzB,GACN0B,QAAQC,IAAI,QAAS3B,OAIhBkD,EAAY,SAAC/B,GA2CtB,OAAOC,IACJC,IADI,UACGL,EADH,sBACuBG,IAC3BG,MAAK,SAACC,GAIL,OAHeA,EAAIC,QAKpBC,OAAM,SAACzB,GACN0B,QAAQC,IAAI,QAAS3B,OAIhBmD,EAAa,SAAChC,GA8BvB,OAAOC,IACJC,IADI,UACGL,EADH,4BAEJM,MAAK,SAACC,GACL,IAAIC,EAAO,GAMX,OAJAD,EAAIC,KAAKe,SAAQ,SAACa,GACZA,EAAOhB,YAAcjB,GAAIK,EAAKmB,KAAKS,MAGlC5B,KAERC,OAAM,SAACzB,GACN0B,QAAQC,IAAI,QAAS3B,OA6BhBqD,EAAa,SAAClC,GACzB,OAAOC,IACJC,IADI,UACGL,EADH,8BAC+BG,IACnCG,MAAK,SAACC,GACLG,QAAQC,IAAI,MAAOJ,GACnB,IAAMC,EAAO,GAIb,OAHAD,EAAIC,KAAKe,SAAQ,SAACe,GACZA,EAAQlB,YAAcjB,GAAIK,EAAKmB,KAAKW,MAEnC9B,KAERC,OAAM,SAACzB,GACN0B,QAAQC,IAAI,QAAS3B,OAIduD,EAAY,SAACpC,GACxB,OAAOC,IACJC,IADI,UACGL,EADH,0BAEJM,MAAK,SAACC,GACL,IAAMC,EAAO,GAIb,OAHAD,EAAIC,KAAKe,SAAQ,SAACe,GACZA,EAAQlB,YAAcjB,GAAIK,EAAKmB,KAAKW,MAEnC9B,KAERC,OAAM,SAACzB,GACN0B,QAAQC,IAAI,QAAS3B,OAIdwD,EAAU,SAACd,GACtB,OAAOtB,IACJC,IADI,UACGL,EADH,sBACuB0B,GAAO,CACjCe,QAAS,CAAE,8BAA+B,OAE3CnC,MAAK,SAACC,GAGL,OAFaA,EAAIC,QAIlBC,OAAM,SAACzB,GAEN,OADA0B,QAAQC,IAAI,QAAS3B,GACdA,MAIA0D,EAAmB,SAACvC,GAC/B,OAAOC,IACJC,IADI,UACGL,EADH,oCACqCG,GAAM,CAC9CsC,QAAS,CAAE,8BAA+B,OAE3CnC,MAAK,SAACC,GAEL,OADaA,EAAIC,QAGlBC,OAAM,SAACzB,GACN,OAAOA,MAwEA2D,EAAa,SAACnC,GACzBE,QAAQC,IAAIH,GACZJ,IAAM,CACJS,OAAQ,OACRC,IAAI,GAAD,OAAKd,EAAL,cACHyC,QAAS,CACP,eAAgB,mBAChBG,OAAQ,oBAEVpC,KAAMA,IAELF,MAAK,SAACC,GAEL,OADAG,QAAQC,IAAI,sBAAoBJ,GACzBA,KAERE,OAAM,SAACzB,GAEN,OADA0B,QAAQC,IAAI,QAAS3B,GACdA,MAoBA6D,EAAc,SAACnB,GAC1B,OAAOtB,IACJC,IADI,UACGL,EADH,iCACkC0B,GAAO,CAC5Ce,QAAS,CAAE,8BAA+B,OAE3CnC,MAAK,SAACC,GAGL,OAFaA,EAAIC,QAIlBC,OAAM,SAACzB,GAEN,OADA0B,QAAQC,IAAI,QAAS3B,GACdA,MCrlBA8D,EAAcC,0BAmDZC,EAjDa,SAACC,GAAW,IAAD,EACPC,oBAAS,GADF,mBAC9BC,EAD8B,KACrBC,EADqB,OAELF,qBAFK,mBAE9BG,EAF8B,KAEpBC,EAFoB,KAI/BC,EAAc,uCAAG,WAAO7B,GAAP,eAAA8B,EAAA,6DACrBJ,GAAW,GADU,SAEFZ,EAAQd,GAFN,UAEflB,EAFe,OAGrB4C,GAAW,IACP5C,EAAKkB,IAJY,wBAKnB+B,EAAS,CAAE3E,KAAM,gBAAiBC,KAAMyB,IALrB,kBAMZ,CAAEzB,KAAMyB,EAAMxB,MAAO,OANT,iCAOP,CAAED,KAAM,KAAMC,MAAO,CAAE0E,QAASlD,KAPzB,4CAAH,sDAJiB,EAcZmD,qBACvBhF,EACA,CAAEI,KAAM,KAAMC,MAAO,OACrB,WACE,IAAM0C,EAAMkC,aAAaC,QAAQ,QACjC,OAAOnC,EAAM6B,EAAe7B,GAAO,CAAE3C,KAAM,KAAMC,MAAO,SAnBvB,mBAc9BD,EAd8B,KAcxB0E,EAdwB,KA0CrC,OAnBAK,qBACE,SAAC3D,GACC,IAAM4D,EAAe,uCAAG,WAAO5D,GAAP,eAAAqD,EAAA,sEACH5C,EAAYT,GADT,OAChB6D,EADgB,OAEtBV,EAAYU,GAFU,2CAAH,sDAMnBjF,GACc,OAAdA,EAAKA,MACLA,EAAKkF,eAAe,UACnBlF,EAAKA,KAAKmF,OAEXH,EAAgBhF,EAAKiC,UAAU,MAGnC,CAACjC,IAID,kBAAC+D,EAAYqB,SAAb,CAAsBC,MAAO,CAAErF,OAAMsE,WAAUF,UAASM,aACrDR,EAAMoB,W,2KCmVEC,GAjXF,SAACrB,GAAW,IAAD,EACQC,mBAAS,IADjB,mBACfqB,EADe,KACNC,EADM,OAEItB,mBAAS,IAFb,mBAEfuB,EAFe,KAERC,EAFQ,OAGqBxB,mBAAS,IAH9B,mBAGCyB,GAHD,aAIUzB,mBAAS,GAJnB,mBAIf0B,EAJe,KAILC,EAJK,OAKa3B,qBALb,mBAKf4B,EALe,KAKHC,EALG,KAMhBC,EAAUC,cAEVC,EAAS,uCAAG,WAAOX,GAAP,iBAAAf,EAAA,sEACYtC,EAAiBqD,EAASxF,EAAKqC,WAD3C,OACV+D,EADU,OAGhBC,GADIA,EAAW,IAAIC,MACCC,WAAa,IAAMF,EAASG,aAEhDf,EAAWW,GACXJ,EAAaK,GACbI,IAPgB,2CAAH,sDASTC,EAAU,uCAAG,4BAAAjC,EAAA,sEACY5B,EAAkB7C,EAAKqC,WADnC,OACXsE,EADW,OAEjBf,EAAiBe,GAFA,2CAAH,qDAKVF,EAAc,uCAAG,gCAAAhC,EAAA,sEACDrB,EAAWpD,EAAKqC,WADf,OACjBmD,EADiB,OAEnBoB,EAAS,EACTC,EAAO,EACLrB,EAAQsB,OAAS,GACnBtB,EAAQhD,SAAQ,SAACa,IACV0D,MAAM1D,EAAO2D,MAAQ3D,EAAO2D,IAAM,IACrCJ,GAAUK,WAAW5D,EAAO2D,KAC5BH,QAKND,EAAS,EAAKA,GAAUC,EAASD,EAAS,EAC1Cd,EAAYc,EAAOM,QAAQ,IAdN,2CAAH,qDAiBdC,EAAqB,WACzBtG,EAAYiC,MAAM,qBAAqBG,KAAK,SAAS,SAACmE,GACpDjB,EAAUiB,GACVV,QAIJ3B,qBAAU,WACRoC,IAEAE,aAAY,kBAAMF,MAAsB,OACvC,IAlDmB,IAsDZnH,EACNsH,qBAAWvD,GADb/D,KAAQA,KAGV+E,qBAAU,WACR,IAAMzD,EAAG,uCAAG,4BAAAmD,EAAA,sEACUzC,EAAuBhC,EAAKqC,WADtC,OACJqD,EADI,OAGVC,EAASD,GAHC,2CAAH,qDAKLA,GAA0B,IAAjBA,EAAMoB,QACjBxF,MAED,CAACoE,EAAO1F,IAcX+E,qBAAU,WACRwC,SAASC,qBAAqB,QAAQ,GAAGC,MACvC,+BAGJ,IA4DMC,EA5DYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJC,QAAS,OACTC,aAAc,QAEhBC,QAAS,CACPC,QAAS,OACT,SAAU,CACRC,MAAO,QAGXC,UAAW,CACTC,WAAY,MACZC,UAAW,UAEbC,WAAY,CACVC,MAAO,QACPC,gBAAiB,UACjBC,MAAO,OACPL,WAAY,MACZM,YAAa,QAEfC,QAAS,CACPJ,MAAO,QACPC,gBAAiB,SACjBC,MAAO,OACPL,WAAY,MACZM,YAAa,QAEfE,cAAe,CACbL,MAAO,QACPC,gBAAiB,UACjBC,MAAO,OACPL,WAAY,MACZM,YAAa,QAEfG,WAAY,CACVR,UAAW,UAEbS,SAAU,CACRf,aAAc,QAEhBgB,aAAc,CACZjB,QAAS,OACTkB,UAAW,SAEbC,eAAgB,CACdC,UAAW,QAEbC,WAAY,CACVC,eAAgB,OAChBhB,WAAY,MACZ,SAAU,CAAEc,UAAW,QAEzBG,WAAY,CACVvB,QAAS,IACTwB,SAAU,QACVC,WAAY,WAGAC,GAUhB,OACE,kBAAC,IAAD,KAME,kBAACC,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAGC,UAAWlC,EAAQ2B,YAC7C,kBAACI,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,IACb,0DAA0B/D,KAG9B,kBAAC0D,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAGC,UAAWlC,EAAQoB,UAC7C,kBAACW,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAACC,EAAA,EAAD,CAAOC,UAAW,EAAGL,UAAWlC,EAAQqB,cACtC,uBAAGa,UAAWlC,EAAQS,WAAtB,aACA,kBAAC+B,EAAA,EAAD,CAAQN,UAAWlC,EAAQkB,eACzB,kBAAC,IAAD,OAEF,wBAAIgB,UAAWlC,EAAQmB,YAAanD,EAAMoB,QAE1C,kBAAC,IAAD,CACEqD,GAAI,CACFC,SAAU,IACVC,OAAQ,GACRC,KAAM,GACNzK,MAAO,CAAEsK,GAAI,cAEfP,UAAWlC,EAAQyB,YAEnB,kBAAC,IAAD,CAAgBG,SAAS,aAI/B,kBAACG,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAACC,EAAA,EAAD,CAAOC,UAAW,EAAGL,UAAWlC,EAAQqB,cACtC,uBAAGa,UAAWlC,EAAQS,WAAtB,kBACA,kBAAC+B,EAAA,EAAD,CAAQN,UAAWlC,EAAQY,YACzB,kBAAC,IAAD,OAEF,wBAAIsB,UAAWlC,EAAQmB,YAAarD,EAAQsB,QAI5C,kBAAC,IAAD,CACEqD,GAAI,CACFC,SAAU,IACVC,OAAQ,GACRC,KAAM,GACNzK,MAAO,CAAEsK,GAAI,YAEfP,UAAWlC,EAAQyB,YAEnB,kBAAC,IAAD,CAAgBG,SAAS,aAI/B,kBAACG,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAACC,EAAA,EAAD,CAAOC,UAAW,EAAGL,UAAWlC,EAAQqB,cACtC,uBAAGa,UAAWlC,EAAQS,WAAtB,OACA,kBAAC+B,EAAA,EAAD,CAAQN,UAAWlC,EAAQiB,SACzB,kBAAC,IAAD,OAEF,wBAAIiB,UAAWlC,EAAQmB,YAAahD,GACpC,kBAAC,IAAD,CACEsE,GAAI,CACFC,SAAU,IACVC,OAAQ,GACRC,KAAM,GACNzK,MAAO,CAAEsK,GAAI,YAEfP,UAAWlC,EAAQyB,YAEnB,kBAAC,IAAD,CAAgBG,SAAS,cAMjC,kBAAC,KAAD,CACEiB,MAAM,iBACN9C,MAAO,CACL+C,YAAa,QAEfC,QAAS,CACP,CACEF,MAAO,SACPG,MAAO,SACPC,SAAU,SACVC,OAAQ,SAACC,GAAD,OACNA,EAAQC,OACN,yBACEC,IAAKF,EAAQC,OACbE,IAAI,SACJvD,MAAO,CAAES,MAAO,GAAI+C,aAAc,SAGpC,kBAACf,EAAA,EAAD,KACGW,EAAQ9H,KACNmI,MAAM,WACNC,KAAK,IACLC,gBAGTC,YAAa,CACXnD,MAAO,QAGX,CACEqC,MAAO,QACPG,MAAO,OACPW,YAAa,CACXnD,MAAO,QAGX,CACEqC,MAAO,OACPG,MAAO,OACPC,SAAU,QACVU,YAAa,CACXnD,MAAO,QAGX,CACEqC,MAAO,MACPG,MAAO,MACPC,SAAU,QACVU,YAAa,CACXnD,MAAO,SAIbzG,KAAM+D,EACN8F,QAAS,CACP,CACEC,KAAMC,IACNC,QAAS,eACTC,QAAS,SAACC,EAAOd,GAAR,OAjJGe,EAiJ8Bf,OAhJlD5E,EAAQrD,KAAK,CACXwH,SAAU,UACVhJ,GAAIwK,EAASjJ,IACbkJ,IAAK,WAJY,IAACD,KAoJhBE,QAAS,CACPC,SAAU,GACVC,gBAAiB,CAAC,EAAG,GAAI,S,2OCkEpBC,GA9VA,SAAC/H,GACd,IA8IMwD,EA9IYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJqE,SAAU,EACVnE,aAAc,QAEhBoE,OAAQ,CAAE3D,gBAAiB,UAAWQ,UAAW,OAAQlB,QAAS,OAClEsE,cAAe,CACbC,OAAQ,OACRnE,MAAO,QACP,UAAW,CACTE,WAAY,OACZc,UAAW,OACX,UAAW,CACT+B,aAAc,MACdzC,gBAAiB,QACjB8D,OAAQ,kBACRpE,MAAO,MACP,UAAW,CACTqE,OAAQ,cAKhBC,WAAY,CACVtE,MAAO,QAETuE,WAAY,CACVvE,MAAO,OACPwE,UAAW,SAEbC,aAAc,CACZzE,MAAO,MACPmE,OAAQ,MACR7D,gBAAiB,UACjBV,QAAS,MACTwE,OAAQ,kBACRC,OAAQ,WAEVK,WAAY,CACVlE,YAAad,EAAM+B,QAAQ,IAE7BkD,YAAa,CACXrE,gBAAiB,UACjB6D,OAAQ,QACRnE,MAAO,QACP+C,aAAc,oBACdhD,QAAS,YACT,SAAU,CACRiB,UAAW,MACXnB,aAAc,KACdK,WAAY,QAEd,QAAS,CACPG,MAAO,QACP8D,OAAQ,cACRjE,WAAY,OACZkB,SAAU,QAEZ,QAAS,CACPf,MAAO,QACP8D,OAAQ,cACRjE,WAAY,OACZkB,SAAU,WAGdiB,MAAO,CACL2B,SAAU,GAEZY,SAAU,CACRvE,MAAO,SAETwE,aAAc,CACZ9B,aAAc,qBAEhB+B,QAAS,CACP5D,eAAgB,OAChBb,MAAO,QACPL,MAAO,OAET+E,WAAY,CACV7D,eAAgB,OAChBb,MAAO,QACPL,MAAO,MACP,QAAS,CACPA,MAAO,OACPgF,OAAQ,SAGZC,SAAU,CACRC,WAAY,OACZ5C,YAAa,MACb6C,cAAe,OAEjBC,aAAc,CACZlE,eAAgB,OAChBb,MAAO,UACP,UAAW,CACTC,gBAAiB,YAGrB+E,iBAAkB,CAChBhF,MAAO,WAETiF,gBAAiB,CACfhF,gBAAiB,mBACjB6D,OAAQ,MACRtE,aAAc,MACdmB,UAAW,OAEbuE,aAAc,CACZvE,UAAW,MACX,QAAS,CACPwE,UAAW,iBACXhF,YAAa,SAGjBiF,aAAc,CACZzF,MAAO,EACPmE,OAAQ,EACRjE,WAAY,MACZwF,YAAa,QACbC,YAAa,iBACbC,YAAa,+CAEfC,oBAAqB,CACnBzB,OAAQ,iBACRrB,aAAc,kBACdzC,gBAAiB,UACjBP,QAAS,OACT,QAAS,CACPC,MAAO,OACPwF,UAAW,kBAEb,OAAQ,CACNR,OAAQ,OAEV,UAAW,CACT1E,gBAAiB,SACjB+D,OAAQ,eAIE/C,GA/IQ,EAiJQrF,oBAAS,GAjJjB,mBAiJjB6J,EAjJiB,KAiJPC,EAjJO,OAsJpB3G,qBAAWvD,GAHL/D,EAnJc,EAmJtBA,KAAQA,KACRsE,EApJsB,EAoJtBA,SACAI,EArJsB,EAqJtBA,SArJsB,EAuJYP,oBAAS,GAvJrB,mBAuJjB+J,EAvJiB,KAuJLC,EAvJK,KAyJlBC,EAAgB,WACpBlO,EACGmO,OACAC,UACA/M,MAAK,WACJsD,aAAa0J,WAAW,QACxB1J,aAAa0J,WAAW,aACxB1J,aAAa0J,WAAW,cACxB7J,EAAS,CACP3E,KAAM,wBAKR4N,EACJ,6BACE,yBAAK/D,UAAWlC,EAAQiG,eACxB,yBAAK/D,UAAWlC,EAAQqG,qBACtB,kBAAC,KAAD,MACA,wBAAIrC,QAAS0C,GAAb,aAKN,OACE,kBAAC,WAAD,KACE,yBAAKxE,UAAWlC,EAAQG,MACtB,kBAAC2G,GAAA,EAAD,CAAQC,SAAS,SAAS7E,UAAWlC,EAAQyE,QAC3C,kBAACuC,GAAA,EAAD,CAAS9E,UAAU,YAAY+E,QAAQ,SACrC,kBAACC,GAAA,EAAD,CACEC,KAAK,QACLjF,UAAWlC,EAAQkF,WACnBrE,MAAM,UACNuG,aAAW,OACXpD,QAAS,kBAAMuC,GAAY,KAE3B,kBAAC,KAAD,OAEF,kBAACc,GAAA,EAAD,CAAYJ,QAAQ,KAAK/E,UAAWlC,EAAQ6C,OAC1C,kBAAC,IAAD,CACEJ,GAAI,CACFC,SAAU,IACVC,OAAQ,GACRC,KAAM,GACNzK,MAAO,CAAEsK,GAAI,MAEfP,UAAWlC,EAAQuF,YAEnB,yBAAKlC,IAAI,iBAAiBC,IAAI,UAGlC,yBAAKpB,UAAWlC,EAAQ0E,eACtB,kBAAC4C,GAAA,EAAD,CACEC,QAAQ,SACRC,aAAc,CACZC,SAAU,SACVC,WAAY,SAEdC,aAAc,kBAAC,KAAD,CAAgC9G,MAAM,WACpDmD,QAAS,kBAAMyC,GAAeD,KAE7BlO,EAAK8K,OACJ,kBAACZ,EAAA,EAAD,CAAQc,IAAI,UAAUD,IAAK/K,EAAK8K,SAEhC,kBAACZ,EAAA,EAAD,CAAQc,IAAI,WACThL,EAAK+C,KACHmI,MAAM,WACNC,KAAK,IACLC,gBAIR8C,GAAcP,MAKvB,kBAAC2B,GAAA,EAAD,CAAQC,KAAMvB,EAAUwB,QAAS,kBAAMvB,GAAY,KACjD,yBACEwB,KAAK,eACL7F,UAAWlC,EAAQqF,aACnBrB,QAAS,kBAAMuC,GAAY,IAC3ByB,UAAW,kBAAMzB,GAAY,KAE7B,kBAACxE,EAAA,EAAD,CAAMC,WAAS,EAACiG,QAAQ,SAAS/F,UAAWlC,EAAQmF,aACjD7M,EAAK8K,OACJ,kBAACZ,EAAA,EAAD,CAAQc,IAAI,UAAUD,IAAK/K,EAAK8K,SAEhC,kBAACZ,EAAA,EAAD,CAAQc,IAAI,WACThL,EAAK+C,KACHmI,MAAM,WACNC,KAAK,IACLC,eAGP,kBAAC2D,GAAA,EAAD,CAAYJ,QAAQ,MAAM3O,GAAQA,EAAK+C,MAEvC,kBAACgM,GAAA,EAAD,CAAYJ,QAAQ,MACjB3O,GAAQA,EAAKmF,MAAQ,QAAUb,EAASvB,OAI7C,kBAAC6M,GAAA,EAAD,CAAMhG,UAAWlC,EAAQyF,UACvB,kBAAC,IAAD,CACEhD,GAAI,CACFC,SAAU,IACVC,OAAQ,GACRC,KAAM,GACNzK,MAAO,CAAEsK,GAAI,YAEfP,UAAWlC,EAAQ4F,cAEnB,kBAACuC,GAAA,EAAD,CAAUC,QAAM,EAACC,IAAK,WACpB,kBAACC,GAAA,EAAD,CAAcpG,UAAWlC,EAAQ6F,kBAC/B,kBAAC,IAAD,OAEF,kBAAC0C,GAAA,EAAD,CAAcC,QAAS,cAG3B,kBAAC,IAAD,CACE/F,GAAI,CACFC,SAAU,IACVC,OAAQ,GACRC,KAAM,GACNzK,MAAO,CAAEsK,GAAI,cAEfP,UAAWlC,EAAQ4F,cAEnB,kBAACuC,GAAA,EAAD,CAAUC,QAAM,EAACC,IAAK,aACpB,kBAACC,GAAA,EAAD,CAAcpG,UAAWlC,EAAQ6F,kBAC/B,kBAAC,IAAD,OAEF,kBAAC0C,GAAA,EAAD,CAAcC,QAAS,gBAG3B,kBAAC,IAAD,CACE/F,GAAI,CACFC,SAAU,IACVC,OAAQ,GACRC,KAAM,GACNzK,MAAO,CAAEsK,GAAI,YAEfP,UAAWlC,EAAQ4F,cAEnB,kBAACuC,GAAA,EAAD,CAAUC,QAAM,EAACC,IAAK,WACpB,kBAACC,GAAA,EAAD,CAAcpG,UAAWlC,EAAQ6F,kBAC/B,kBAAC,KAAD,OAEF,kBAAC0C,GAAA,EAAD,CAAcC,QAAS,cAG1BlQ,EAAKmF,OACJ,kBAAC,IAAD,CACEgF,GAAI,CACFC,SAAU,IACVC,OAAQ,GACRC,KAAM,GACNzK,MAAO,CAAEsK,GAAI,UAEfP,UAAWlC,EAAQ4F,cAEnB,kBAACuC,GAAA,EAAD,CAAUC,QAAM,EAACC,IAAK,WACpB,kBAACC,GAAA,EAAD,CAAcpG,UAAWlC,EAAQ6F,kBAC/B,kBAAC,KAAD,OAEF,kBAAC0C,GAAA,EAAD,CAAcC,QAAS,cAK7B,kBAAC,IAAD,CACE/F,GAAI,CACFC,SAAU,IACVC,OAAQ,GACRC,KAAM,GACNzK,MAAO,CAAEsK,GAAI,WAEfP,UAAWlC,EAAQ4F,cAEnB,kBAACuC,GAAA,EAAD,CAAUC,QAAM,EAACC,IAAK,UACpB,kBAACC,GAAA,EAAD,CAAcpG,UAAWlC,EAAQ6F,kBAC/B,kBAAC,KAAD,OAEF,kBAAC0C,GAAA,EAAD,CAAcC,QAAS,eAK/B,kBAACC,GAAA,EAAD,CAAQvG,UAAWlC,EAAQ+F,aAAc/B,QAAS0C,GAChD,kBAAC,KAAD,MACA,2C,wCC1CKgC,GAhUC,SAAClM,GAAW,IAAD,EACKC,mBAAS,IADd,mBAClBqB,EADkB,KACTC,EADS,OAEDtB,oBAAS,GAFR,mBAElBoL,EAFkB,KAEZc,EAFY,KAGnBpP,EAASC,sCACT+E,EAAUC,cAGNlG,EACNsH,qBAAWvD,GADb/D,KAAQA,KAGJsB,EAAG,uCAAG,4BAAAmD,EAAA,sEACSrB,EAAWpD,EAAKqC,WADzB,OACJiO,EADI,OAEV3O,QAAQC,IAAI,WAAY0O,GACxB7K,EAAW6K,GAHD,2CAAH,qDAOTvL,qBAAU,WACRzD,MACC,IAGH,IAgBMoG,EAhBYC,aAAW,SAACC,GAAD,MAAY,CACvC2I,aAAc,CACZrH,UAAW,QAEbsH,QAAS,CACPtI,MAAO,QAETuI,WAAY,CACVxF,aAAc,MACdsB,OAAQ,UACR,SAAU,CACRrE,MAAO,OACPwE,UAAW,aAIDlD,GAtCS,EAwCDrF,qBAxCC,mBAwClBuM,EAxCkB,KAwCZC,EAxCY,KAwDnBC,EAAe,SAACvN,GACpB4C,EAAQrD,KAAK,CACXwH,SAAU,IACVhJ,GAAIiC,EAAOV,IACXkJ,IAAK,YAKT,SAASgF,EAAM3M,GACb,OAAO,kBAAC,KAAD,eAAU+F,UAAW,EAAG0E,QAAQ,UAAazK,IAGtD,IAAM4M,EAAc,SAACnF,EAAOoF,GACX,cAAXA,GAIJV,GAAQ,IAGV,OACE,kBAAC,IAAD,CAAWzG,UAAWlC,EAAQ6I,cAC5B,kBAAC,KAAD,CACEhG,MAAM,UACNE,QAAS,CACP,CACEF,MAAO,SACPG,MAAO,SACPC,SAAU,SACVqG,cAAe,SAAC9M,GAAD,OACb,6BACE,kBAACgG,EAAA,EAAD,CAAQN,UAAWlC,EAAQ+I,YACzB,yBACE1F,IAAK2F,GAAc,wBACnB1F,IAAI,SACJU,QAAS,kBACPnE,SAAS0J,eAAe,cAAcC,YAI5C,kBAAC,KAAD,CACEnR,KAAK,OACLqB,GAAG,aACH2B,KAAK,OACL0E,MAAO,CACLQ,QAAS,QAEXkJ,WAAY,CAAEC,OAAQ,WAEtBC,SAAU,SAACC,GAAD,OAhEN,SAACA,GACnB,IAAMZ,EAAOY,EAAEC,OAAOC,MAAM,GAC5B,GAAId,EAAK3Q,KAAK0R,QAAQ,SAAW,EAC/Bd,QADF,CAKA,IAAMe,EAAS,IAAIC,WACnBD,EAAOE,cAAclB,GACrBgB,EAAOG,UAAY,SAAUP,GAC3BX,EAAQe,EAAOpP,UAsDcwP,CAAYR,QAInC1G,OAAQ,SAACC,GAAD,OACNA,EAAQC,OACN,yBACEC,IAAKF,EAAQC,OACbE,IAAI,SACJvD,MAAO,CAAES,MAAO,GAAI+C,aAAc,SAGpC,kBAACf,EAAA,EAAD,KACGW,EAAQ9H,KACNmI,MAAM,WACNC,KAAK,IACLC,gBAGTC,YAAa,CACXnD,MAAO,QAGX,CACEqC,MAAO,QACPG,MAAO,OACPC,SAAU,SACVU,YAAa,CACXnD,MAAO,QAGX,CACEqC,MAAO,WACPG,MAAO,WACPC,SAAU,SACVU,YAAa,CACXnD,MAAO,MACPG,UAAW,WAGf,CACEkC,MAAO,OACPG,MAAO,OACPC,SAAU,SACVU,YAAa,CACXnD,MAAO,QAGX,CACEqC,MAAO,MACPG,MAAO,MACPC,SAAU,QACVU,YAAa,CACXnD,MAAO,QAGX,CACEqC,MAAO,wBACPG,MAAO,cACPC,SAAU,QACVC,OAAQ,SAACC,GAAD,OACN,6BACGA,QAAuBkH,IAAZlH,EACRA,EAAQ5I,UAAU+P,KAAI,SAAC/M,GAAD,OACpB,kBAACgN,GAAA,EAAD,CACExK,MAAO,CAAEiB,YAAa,MAAOX,aAAc,OAC3CmK,MAAOjN,EAAKlC,KACZ4L,QAAQ,UACRwD,KAAK,QACL5J,MAAM,eAiBV,OAGR8C,YAAa,CACXnD,MAAO,MACPG,UAAW,YAIjB5G,KAAM+D,EACNmF,SAAU,CACRyH,SAAU,SAACC,GAAD,OACR,IAAIC,SAAQ,SAACC,EAASC,GACpBnR,IAAM,CACJS,OAAQ,OACRC,IAAI,GAAD,OAAKd,EAAL,SACHyC,QAAS,CACP,eAAgB,mBAChBG,OAAQ,oBAEVpC,KAAM,CACJqJ,OAAQuH,EAAQvH,OAChB2H,KAAMJ,EAAQI,KACdC,SAAUL,EAAQK,SAClB3P,KAAMsP,EAAQtP,KACd4P,YAAaN,EAAQtP,KACrB0M,KAAM,SACNtK,OAAO,EACP9C,UAAWrC,EAAKqC,aAGjBd,MAAK,SAACqR,GACLvC,GAAQ,GACRkC,IACA3B,EAAagC,EAAKnR,KAAKoR,eAExBnR,OAAM,SAACzB,GACN0B,QAAQC,IAAI,sBAAuB3B,GAEnCuS,WAGRM,YAAa,SAACT,EAASU,GAAV,OACX,IAAIT,SAAQ,SAACC,EAASC,GACpBnR,IAAM,CACJS,OAAQ,OACRC,IAAI,GAAD,OAAKd,EAAL,cACHyC,QAAS,CACP,eAAgB,mBAChBG,OAAQ,oBAEVpC,KAAM,CACJgR,KAAMJ,EAAQI,KAEdE,YAAaN,EAAQtP,KACrBiQ,SAAUX,EAAQvH,OAClBnI,IAAK0P,EAAQ1P,IACbI,KAAMsP,EAAQtP,KACdiE,IAAKqL,EAAQrL,KAAO,EACpB7B,OAAO,EACPsK,KAAM,YAGPlO,MAAK,SAACC,GAEH6Q,EAAQK,eACaX,IAArBM,EAAQK,UACa,KAArBL,EAAQK,SAERrR,IAAM,CACJS,OAAQ,OACRC,IAAI,GAAD,OAAKd,EAAL,yBACHyC,QAAS,CACP,eAAgB,mBAChBG,OAAQ,oBAEVpC,KAAM,CACJiR,SAAUL,EAAQK,SAClB/P,IAAK0P,EAAQ1P,OAGdpB,MAAK,SAACC,GACL6O,GAAQ,GACRkC,IACA3B,EAAayB,MAEd3Q,OAAM,SAACQ,GAAD,OAASP,QAAQC,IAAIM,OAE9BmO,GAAQ,GACRkC,IACA3B,EAAayB,OAGhB3Q,OAAM,SAACQ,GACNP,QAAQC,IAAIM,GACZsQ,WAGRS,YAAa,SAACF,GAAD,OACX1R,IACG6R,OADH,UACajS,EADb,iBAC4B8R,EAAQpQ,MACjCpB,MAAK,SAACC,GACL6O,GAAQ,GACR5K,EAAWD,EAAQ2N,QAAO,SAACC,GAAD,OAAOA,EAAEzQ,MAAQoQ,EAAQpQ,WAEpDjB,OAAM,SAACQ,GAAD,OAASP,QAAQC,IAAIM,QAElCoJ,QAAS,CACP,CACEC,KAAMC,IACNC,QAAS,eACTC,QAAS,SAACC,EAAOd,GAAR,OAAoB+F,EAAa/F,MAG9CiB,QAAS,CACPC,SAAU,GACVC,gBAAiB,CAAC,EAAG,GAAI,OAG7B,kBAACqH,GAAA,EAAD,CAAU9D,KAAMA,EAAM+D,iBAAkB,IAAM9D,QAASsB,GACrD,kBAACD,EAAD,CAAOrB,QAASsB,EAAayC,SAAS,WAAtC,+B,yIClUKC,GAAb,oDACI,WAAYtP,GAAO,IAAD,+BACd,cAAMA,IACDuD,MAAQ,CACT4E,OAAQ,OACRnE,MAAO,OACP+C,aAAc,MACdwI,UAAW,kBACXxL,QAAS,OACTyL,eAAgB,SAChBC,WAAY,SACZlF,SAAU,QACVmF,OAAQ,OACRC,OAAQ,SAZE,EADtB,sDAkBQ,IAAIC,EAA8B,QAAvBC,KAAK7P,MAAMuK,SAAsB,CAAEuF,KAAO,QAAW,CAAEC,MAAQ,QAC1E,OACI,yBACIxM,MACIyM,OAAOC,OAAO,GACVJ,KAAKtM,MACL,CAAEe,gBAAiBuL,KAAK7P,MAAMkQ,YAC9BN,GAERpI,QAAUqI,KAAK7P,MAAMyH,MACrBvK,GAAG,UAEH,kBAAC,KAAD,CACImK,KAAO8I,KACP5M,MAAO,CAAEc,MAAOwL,KAAK7P,MAAMoQ,UAAWpM,MAAO,OAAQmE,OAAQ,eAhCjF,GAAoCkI,IAAMC,WAsC7BC,GAAb,oDACI,WAAYvQ,GAAO,IAAD,+BACd,cAAMA,IAEDrE,MAAQ,CACTqI,MAAO,QAGX,EAAKT,MAAQ,CACTQ,QAAS,QACTH,QAAS,WACTmD,aAAc,WACdwI,UAAW,qCACXhF,SAAU,QACVmF,OAAQ,QAGZ,EAAKc,gBAAkB,EAAKA,gBAAgBC,KAArB,iBACvB,EAAKC,cAAgB,EAAKA,cAAcD,KAAnB,iBAjBP,EADtB,+DAsBQZ,KAAKc,SAAS,CAAE3M,MAAO,YAtB/B,sCA0BQ6L,KAAKc,SAAS,CAAE3M,MAAO,WA1B/B,+BA8BQ,IAAI4L,EAA8B,QAAvBC,KAAK7P,MAAMuK,SAAsB,CAAEuF,KAAO,QAAW,CAAEC,MAAQ,QAC1E,OACI,yBAAKxM,MACDyM,OAAOC,OAAO,GACVJ,KAAKtM,MACL,CAAEe,gBAAiBuL,KAAK7P,MAAMkQ,YAC9B,CAAElM,MAAO6L,KAAKlU,MAAMqI,OACpB,CAAEK,MAAOwL,KAAK7P,MAAMoQ,WACpBR,GAEJgB,YAAYf,KAAK7P,MAAM6Q,KACvBC,aAAejB,KAAKW,gBACpBO,aAAelB,KAAKa,cACpBlJ,QAAUqI,KAAK7P,MAAMyH,MACrBvK,GAAG,UAEH,yBAAK8T,EAAE,MAAMC,EAAE,MAAMC,QAAQ,cAAc3F,KAAK,MAAM4F,eAAa,SAC/D5N,MACIyM,OAAOC,OAAO,GACd,CAAE9H,OAAQ,QACV,CAAEnE,MAAO,UAGb,0BACIoN,KAAOvB,KAAK7P,MAAMoQ,UAClBiB,EAAE,2fACFF,eAAa,cAGE,QAApBtB,KAAKlU,MAAMqI,MACR,0BAAMT,MAAQyM,OAAOC,OAAO,GAC1B,CAAElM,QAAS,gBACX,CAAEG,WAAY,UACT2L,KAAK7P,MAAM6Q,MAClB,UAhEtB,GAAoCR,IAAMC,WCxC7BgB,GAAb,oDACI,WAAYtR,GAAO,wCACTA,GAFd,sDAMQ,OACI,2BACInE,KAAOgU,KAAK7P,MAAMnE,KAClB0V,UAAY1B,KAAK7P,MAAM4C,QAAU,GACjCW,MAAQsM,KAAK7P,MAAMuD,MACnBpC,MAAQ0O,KAAK7P,MAAM6Q,KACnBW,YAAc3B,KAAK7P,MAAM6Q,KACzB1D,SAAW0C,KAAK7P,MAAMyH,YAbtC,GAA2B4I,IAAMC,WAkBpBmB,GAAb,oDACI,WAAYzR,GAAO,wCACTA,GAFd,sDAMQ,OACI,2BACInE,KAAK,QACL6V,IAAM7B,KAAK7P,MAAM0R,IACjBC,IAAM9B,KAAK7P,MAAM2R,IACjBxE,SAAW0C,KAAK7P,MAAMyH,MACtB5I,KAAOgR,KAAK7P,MAAMnB,WAZlC,GAAgCwR,IAAMC,WCjBzBsB,GAAb,oDACI,WAAY5R,GAAO,IAAD,+BACd,cAAMA,IACDuD,MAAQ,CACT4E,OAAQ,QACRnE,MAAO,QACPgF,OAAQ,SACR6I,cAAe,SACftC,UAAW,8BACXxI,aAAc,OACdwD,SAAU,QACVmF,OAAQ,OACRoC,SAAU,SACVnC,OAAQ,SAZE,EADtB,sDAkBQ,IAAIC,EAA8B,QAAvBC,KAAK7P,MAAMuK,SAAsB,CAAEuF,KAAO,QAAW,CAAEC,MAAQ,QACtEhM,EAAW8L,KAAK7P,MAAM+R,KAAQ,OAAS,QAE3C,OACI,yBAAKxO,MAAQyM,OAAOC,OAAO,GACnBJ,KAAKtM,MACLqM,EACA,CAAE7L,QAAUA,IAEhB7G,GAAG,WACH,yBAAKqG,MACDyM,OAAOC,OAAO,GAAI+B,GAClB,CAAE1N,gBAAiBuL,KAAK7P,MAAMkQ,YAC9B,CAAE7L,MAAOwL,KAAK7P,MAAMoQ,aAEpB,wBAAI7M,MACAyM,OAAOC,OAAO,GACd,CAAE7K,SAAU,QACZ,CAAE6M,WAAY,cACd,CAAE5M,WAAY,SAJlB,gBAQA,uBACI9B,MAAQ,CAAC6B,SAAU,QACnBoC,QAAUqI,KAAK7P,MAAMyH,MACrBvK,GAAG,iBAHP,MAQJ,4BAAQ2J,IAAM,gCACFgJ,KAAK7P,MAAMkS,QAAQpT,cAAgB,IACnC+Q,KAAK7P,MAAMI,SAAW,cAC9B+R,YAAY,IACZ5O,MACIyM,OAAOC,OAAO,GACd,CAAE9H,OAAQ,OACV,CAAEnE,MAAO,QACT,CAAED,QAAS,wBAzDnC,GAA+BsM,IAAMC,WAiExB8B,GAAb,oDACI,WAAYpS,GAAO,wCACTA,GAFd,sDAMQ,OACI,yBAAKuD,MAAO,CAAEyF,OAAQ,cAClB,qCACI,kBAAC,GAAD,CAAYnN,KAAK,QAAQ6V,IAAI,IAAIC,IAAI,MACjClK,MAAQoI,KAAK7P,MAAMyH,MAAQ5I,KAAK,QAClCgR,KAAK7P,MAAMqS,KAEjB,sCACI,kBAAC,GAAD,CAAYxW,KAAK,QAAQ6V,IAAI,IAAIC,IAAI,MACjClK,MAAQoI,KAAK7P,MAAMyH,MAAQ5I,KAAK,UAClCgR,KAAK7P,MAAMsS,OACX,qCACF,kBAAC,GAAD,CAAYzW,KAAK,QAAQ6V,IAAI,IAAIC,IAAI,MACjClK,MAAQoI,KAAK7P,MAAMyH,MAAQ5I,KAAK,SAClCgR,KAAK7P,MAAMuS,WApBjC,GAAmClC,IAAMC,WA2BnC0B,GAAa,CACf7J,OAAQ,KACRpB,aAAc,gBACdhD,QAAS,OACTyL,eAAgB,gBAChBC,WAAY,SACZ7L,QAAS,OACT2L,UAAW,mCCpGFiD,GAAb,oDACI,WAAYxS,GAAO,wCACTA,GAFd,sDAMQ,OAAO,2BAAK6P,KAAK7P,MAAMqG,WAN/B,GAA6BgK,IAAMC,WCAtBmC,GAAb,oDACI,WAAYzS,GAAO,wCACTA,GAFd,sDAMQ,OACI,0BACIuD,MAAQsM,KAAK7P,MAAMuD,MACnBc,MAAQwL,KAAK7P,MAAMqE,MACnBmD,QAAUqI,KAAK7P,MAAMyH,YAVrC,GAA4B4I,IAAMC,WCE3B,SAAeoC,GAAtB,qC,8CAAO,WAAsBC,EAAKC,GAA3B,iBAAArS,EAAA,4DACe,uHAEH,gMAGA,uMAGI,0gBACfsS,EAAcF,EADC,0gBAThB,SAWiBxV,IAAM,CACtBS,OAAQ,OACRC,IAAI,GAAD,OAfIb,sCAeJ,yBACHwC,QAAS,CACL,eAAgB,mBAChB,OAAU,oBAEdjC,KAAM,CACFqO,OAAQiH,EACRD,MAAOA,KAGdvV,MAAK,SAAAC,GAAS,OAAOA,EAAIC,QACzBC,OAAM,SAAAQ,GAAS,OAAOA,KAxBpB,cAWCK,EAXD,yBA0BIA,GA1BJ,4C,sBCOA,IAAMyU,GAAb,oDACI,WAAY9S,GAAO,IAAD,+BACd,cAAMA,IAEDrE,MAAQ,CACToX,SAAU,GACVC,MAAO,IACP3O,MAAO,QACP+L,UAAW,QACX7F,SAAU,QACVsG,KAAM,sBACNoC,YAAY,EACZC,eAAe,EACfC,eAAgB,GAChBC,cAAe,GACfC,gBAAiB,IACjBC,UAAW,IACXC,SAAU,GACVC,WAAY,IAIhB,EAAKC,YAAc,GACnB,EAAKC,gBAAkB,GAGvB,EAAKC,YAAc,EAAKA,YAAYlD,KAAjB,iBACnB,EAAKmD,iBAAmB,EAAKA,iBAAiBnD,KAAtB,iBACxB,EAAKoD,gBAAkB,EAAKA,gBAAgBpD,KAArB,iBACvB,EAAKqD,eAAiB,EAAKA,eAAerD,KAApB,iBACtB,EAAKsD,WAAa,EAAKA,WAAWtD,KAAhB,iBAClB,EAAKuD,eAAiB,EAAKA,eAAevD,KAApB,iBACtB,EAAKwD,oBAAsB,EAAKA,oBAAoBxD,KAAzB,iBAC3B,EAAKyD,eAAiB,EAAKA,eAAezD,KAApB,iBACtB,EAAK0D,uBAAyB,EAAKA,uBAAuB1D,KAA5B,iBAC9B,EAAK2D,kBAAoB,EAAKA,kBAAkB3D,KAAvB,iBACzB,EAAK4D,YAAc,EAAKA,YAAY5D,KAAjB,iBAnCL,EADtB,yDAwCgB6D,GACRzE,KAAKc,SAAS,CAAEqC,MAAOsB,EAAGjH,OAAOlM,UAzCzC,uCA6CqBmT,GACbzE,KAAKc,SAAS,CAAEtM,MAAOiQ,EAAGjH,OAAOkH,aAAa,aA9CtD,6CAkD2BD,GACnB,OAAOA,EAAGjH,OAAOkH,aAAa,SAC1B,IAAK,OACD1E,KAAKc,SAAS,CAAEwC,eAAiBmB,EAAGjH,OAAOlM,QAC3C,MACJ,IAAK,MACD0O,KAAKc,SAAS,CAAEyC,cAAgBkB,EAAGjH,OAAOlM,QAC1C,MACJ,IAAK,QACD0O,KAAKc,SAAS,CAAE0C,gBAAkBiB,EAAGjH,OAAOlM,WA3D5D,sCAiEoBmT,GACZzE,KAAKc,SAAS,CAAEP,UAAWkE,EAAGjH,OAAOkH,aAAa,aAlE1D,wCAsEsBD,GACd,OAAOA,EAAGjH,OAAOkH,aAAa,SAC1B,IAAK,OACD1E,KAAKc,SAAS,CAAE2C,UAAYgB,EAAGjH,OAAOlM,QACtC,MACJ,IAAK,MACD0O,KAAKc,SAAS,CAAE4C,SAAWe,EAAGjH,OAAOlM,QACrC,MACJ,IAAK,QACD0O,KAAKc,SAAS,CAAE6C,WAAac,EAAGjH,OAAOlM,WA/EvD,4CAwFQ0O,KAAKc,SAAS,CAAEsC,YAAapD,KAAKlU,MAAMsX,eAxFhD,uCA6FQpD,KAAKc,SAAS,CAAEuC,eAAgBrD,KAAKlU,MAAMuX,kBA7FnD,qCAiGmBoB,GACXzE,KAAKc,SAAS,CAAEpG,SAAU+J,EAAGjH,OAAOlM,UAlG5C,iCAsGemT,GACPzE,KAAKc,SAAS,CAAEE,KAAMyD,EAAGjH,OAAOlM,UAvGxC,uCA2GqB,IAAD,OACC,IAAIiN,SAAQ,SAAC9Q,EAAKkX,GAC3B,EAAK7D,SAAS,CAAEsC,YAAY,IAC5B3V,EAAI,MACJkX,EAAI,SAEDnX,KAAP,sBAAY,8BAAAkD,EAAA,6DACR,EAAKkT,YAAc,kBAAC,GAAD,CACKvD,WAAa,EAAKvU,MAAM0I,MACxB+L,UAAY,EAAKzU,MAAMyU,UACvBS,KAAO,EAAKlV,MAAMkV,KAClBtG,SAAW,EAAK5O,MAAM4O,SACtB9C,MAAQ,EAAKwM,sBACrC,EAAKP,gBAAkB,kBAAC,GAAD,CACCxD,WAAa,EAAKvU,MAAM0I,MACxB+L,UAAY,EAAKzU,MAAMyU,UACvB7F,SAAW,EAAK5O,MAAM4O,SACtB9C,MAAQ,EAAKwM,oBACblC,KAAO,EAAKpW,MAAMsX,WAClB7S,SAAW,EAAKJ,MAAMI,SACtB8R,QAAU,EAAKlS,MAAMkS,UACzCuC,EAAQ,yBAAKlR,MAAQmR,IACP,EAAKjB,YAAe,EAAKC,iBAhBnC,SAkBWhB,GAAOiC,KAAeC,eAAeH,GAAM,EAAKzU,MAAMI,UAlBjE,OAkBJyU,EAlBI,OAmBR,EAAKlE,SAAS,CAAEoC,SAAU8B,EAAOtX,OAnBzB,8CAjHpB,oCA0IQ8F,SAASyR,kBAAkB,gBAAgB,GAAGC,SAC9C1R,SAAS2R,YAAY,UA3I7B,+BA+IQ,OAAOnF,KAAKlU,MAAMqX,OACd,IAAK,IACL,QACInD,KAAK4D,YAAc,KACnB5D,KAAK6D,gBAAkB,KACvB,MACJ,IAAK,IACD7D,KAAK4D,YAAc,kBAAC,GAAD,CACCvD,WAAaL,KAAKlU,MAAM0I,MACxB+L,UAAYP,KAAKlU,MAAMyU,UACvB7F,SAAWsF,KAAKlU,MAAM4O,SACtB9C,MAAQoI,KAAKoE,sBACjCpE,KAAK6D,gBAAkB,kBAAC,GAAD,CACHxD,WAAaL,KAAKlU,MAAM0I,MACxB+L,UAAYP,KAAKlU,MAAMyU,UACvB7F,SAAWsF,KAAKlU,MAAM4O,SACtB9C,MAAQoI,KAAKoE,oBACb7T,SAAWyP,KAAK7P,MAAMI,SACtB8R,QAAUrC,KAAK7P,MAAMkS,UACzC,MACJ,IAAK,IACDrC,KAAK4D,YAAc,kBAAC,GAAD,CACCvD,WAAaL,KAAKlU,MAAM0I,MACxB+L,UAAYP,KAAKlU,MAAMyU,UACvBS,KAAOhB,KAAKlU,MAAMkV,KAClBtG,SAAWsF,KAAKlU,MAAM4O,SACtB9C,MAAQoI,KAAKoE,sBACjCpE,KAAK6D,gBAAkB,kBAAC,GAAD,CACHxD,WAAaL,KAAKlU,MAAM0I,MACxB+L,UAAYP,KAAKlU,MAAMyU,UACvB7F,SAAWsF,KAAKlU,MAAM4O,SACtB9C,MAAQoI,KAAKoE,oBACblC,KAAOlC,KAAKlU,MAAMsX,WAClB7S,SAAWyP,KAAK7P,MAAMI,SACtB8R,QAAUrC,KAAK7P,MAAMkS,UAIjD,OACI,yBAAK3O,MAAQ0R,IACT,yBAAK1R,MAAO,CACJe,gBAAiB,UACjBD,MAAO,UACP+D,OAAQ,oBACRpE,MAAO,OACPmE,OAAQ,OACRpB,aAAa,MACbmO,IAAK,KACLpF,KAAM,6BACNvF,SAAU,WACVoF,OAAQ,SACRwF,WAAY,OACZhR,UAAW,UACZqD,QAAUqI,KAAK7P,MAAMyH,OACxB,kBAAC,KAAD,CAAiBJ,KAAO+N,QAE5B,yBAAK7R,MAAQ8R,IACT,yBAAK9R,MAAQ+R,IACT,kBAAC,GAAD,CAASjP,MAAM,uBACf,4BACIlF,MAAQ0O,KAAKlU,MAAMqX,MACnB7F,SAAW0C,KAAK8D,YAChBpQ,MAAQyM,OAAOC,OAAO,GAAI,CAAC9H,OAAQ,QAAQ,CAACoN,UAAW,YAEvD,4BAAQpU,MAAM,KAAd,gBACA,4BAAQA,MAAM,KAAd,YACA,4BAAQA,MAAM,KAAd,cAGR,6BACI,kBAAC,GAAD,CAASkF,MAAS,mBAAqBwJ,KAAKlU,MAAM0I,QAClD,yBAAKd,MAAQ+R,IACT,kBAAC,GAAD,CACI/R,MAAOyM,OAAOC,OAAO,GAAIuF,GAAW,CAAClR,gBAAiB,YACtDD,MAAM,UACNoD,MAAQoI,KAAK+D,mBACjB,kBAAC,GAAD,CACIrQ,MAAOyM,OAAOC,OAAO,GAAIuF,GAAW,CAAClR,gBAAiB,YACtDD,MAAM,UACNoD,MAAQoI,KAAK+D,mBACjB,kBAAC,GAAD,CACIrQ,MAAOyM,OAAOC,OAAO,GAAIuF,GAAW,CAAClR,gBAAiB,YACtDD,MAAM,UACNoD,MAAQoI,KAAK+D,mBACjB,kBAAC,GAAD,CACIrQ,MAAOyM,OAAOC,OAAO,GAAIuF,GAAW,CAAElR,gBAClC,OACAuL,KAAKlU,MAAMyX,cAAgB,IAC3BvD,KAAKlU,MAAM0X,gBAAkB,IAC7BxD,KAAKlU,MAAMwX,eAAiB,MAEhC9O,MAAQ,OACJwL,KAAKlU,MAAMyX,cAAgB,IAC3BvD,KAAKlU,MAAM0X,gBAAkB,IAC7BxD,KAAKlU,MAAMwX,eAAiB,IAChC1L,MAAQoI,KAAK+D,oBAErB,kBAAC,GAAD,CACInM,MAAQoI,KAAKsE,uBACb9B,IAAMxC,KAAKlU,MAAMyX,cACjBd,MAAQzC,KAAKlU,MAAM0X,gBACnBd,KAAO1C,KAAKlU,MAAMwX,iBACtB,kBAAC,GAAD,CAAS9M,MAAQ,mBAAqBwJ,KAAKlU,MAAMyU,YACjD,yBAAK7M,MAAQ+R,IACT,kBAAC,GAAD,CACI/R,MAAOyM,OAAOC,OAAO,GAAIuF,GAAW,CAAClR,gBAAiB,YACtDD,MAAM,UACNoD,MAAQoI,KAAKgE,kBACjB,kBAAC,GAAD,CACItQ,MAAOyM,OAAOC,OAAO,GAAIuF,GAAW,CAAClR,gBAAiB,YACtDD,MAAM,UACNoD,MAAQoI,KAAKgE,kBACjB,kBAAC,GAAD,CACItQ,MAAOyM,OAAOC,OAAO,GAAIuF,GAAW,CAAClR,gBAAiB,YACtDD,MAAM,UACNoD,MAAQoI,KAAKgE,kBACjB,kBAAC,GAAD,CACItQ,MAAOyM,OAAOC,OAAO,GAAIuF,GAAW,CAAElR,gBAClC,OACAuL,KAAKlU,MAAM4X,SAAW,IACtB1D,KAAKlU,MAAM6X,WAAa,IACxB3D,KAAKlU,MAAM2X,UAAY,MAE3BjP,MAAQ,OACJwL,KAAKlU,MAAM4X,SAAW,IACtB1D,KAAKlU,MAAM6X,WAAa,IACxB3D,KAAKlU,MAAM2X,UAAY,IAC3B7L,MAAQoI,KAAKgE,mBAErB,kBAAC,GAAD,CACIpM,MAAQoI,KAAKuE,kBACb/B,IAAMxC,KAAKlU,MAAM4X,SACjBjB,MAAQzC,KAAKlU,MAAM6X,WACnBjB,KAAO1C,KAAKlU,MAAM2X,aAE1B,yBAAK/P,MAAQyM,OAAOC,OAAO,GAAIqF,GAAU,CAAE7F,WAAY,YAC5B,KAApBI,KAAKlU,MAAMqX,MAAgB,kBAAC,GAAD,CAAS3M,MAAM,oBAAsB,KAC5C,KAApBwJ,KAAKlU,MAAMqX,MACR,kBAAC,GAAD,CAAOnX,KAAK,OAAO+G,OAAO,KAAKW,MAAQkS,GACjC5E,KAAOhB,KAAKlU,MAAMkV,KAAOpJ,MAAQoI,KAAKkE,aAC5C,MAEV,yBAAKxQ,MAAQ+R,IACT,kBAAC,GAAD,CAASjP,MAAM,iBACf,4BACIlF,MAAQ0O,KAAKlU,MAAM4O,SAAW4C,SAAW0C,KAAKiE,eAC9CvQ,MAAQyM,OAAOC,OAAO,GAAI,CAAC9H,OAAQ,QAAQ,CAACoN,UAAW,YAEvD,4BAAQpU,MAAM,QAAd,qBACA,4BAAQA,MAAM,SAAd,WACA,4BAAQA,MAAM,QAAd,eAGR,yBAAKoC,MAAQ+R,IACT,yBAAK/R,MAAO,CAAEQ,QAAS,OAAQyL,eAAgB,eAC3C,kBAAC,GAAD,CAASnJ,MAAM,kBACf,2BACI9C,MAAO,CAAEgS,UAAW,UACpB1Z,KAAK,WACL6Z,QAAU7F,KAAKlU,MAAMuX,cACrB/F,SAAW0C,KAAKqE,kBAExB,yBAAK3Q,MAAQoS,IACN9F,KAAKlU,MAAMuX,cACPrD,KAAKlU,MAAMsX,WAAcpD,KAAK4D,YAAc5D,KAAK6D,gBAClD,KAEH7D,KAAK4D,YACF,4BACEvW,GAAG,UACHqG,MAAQqS,GACRpO,QAAUqI,KAAKmE,gBAHjB,kBAMA,OAIY,IAAvBnE,KAAKlU,MAAMoX,SACN,yBAAKxP,MAAO,CACRQ,QAAS,OACTyL,eAAgB,SAChBC,WAAY,SACZoG,UAAW,oBACX7R,MAAO,MACPgF,OAAQ,SACRE,WAAY,OAEZ,2BAAOrN,KAAK,OAAOia,UAAQ,EAACjX,KAAK,eAC7B0E,MAAO,CACHS,MAAO,OACPJ,QAAS,MACTO,UAAW,UAEfhD,MAAQ0O,KAAKlU,MAAMoX,WAEvB,kBAAC,KAAD,CAAiB1L,KAAM0O,KACnBxS,MAAO,CAAEW,WAAY,OACrBsD,QAAUqI,KAAKwE,eAEzB,WAvV1B,GAAqChE,IAAMC,WAiWrC2E,GAAe,CACjB1K,SAAU,QACV2K,IAAK,IACLpF,KAAM,IACN9L,MAAO,OACPmE,OAAQ,OACRwH,OAAQ,OACRrL,gBAAiB,kBAIf+Q,GAAgB,CAClBrR,MAAO,MACPJ,QAAS,OACT2L,UAAW,oBACX0C,WAAY,QACZ9N,UAAW,SACXoG,SAAU,WACV2K,IAAK,KACLpF,KAAM,6BACNI,WAAY,OACZP,OAAQ,SAIN6F,GAAW,CACbzO,aAAc,MACdqB,OAAQ,sBACRmH,UAAW,oBACXvL,MAAO,OACPmE,OAAQ,OACRpE,QAAS,SAIPuR,GAAU,CACZvR,QAAS,OACTyL,eAAgB,gBAChBxL,MAAO,MACPgF,OAAQ,UAIN2M,GAAa,CACf5R,QAAS,OACT8N,cAAe,SACfpC,WAAY,UAIVmG,GAAa,CACfhS,QAAS,MACTwE,OAAQ,OACRpD,UAAW,OACXuK,UAAW,8BAITkG,GAAY,CACd7R,QAAS,MACToS,QAAS,OACThN,OAAQ,SACRjF,QAAS,SAIP2Q,GAAgB,CAClB/E,OAAQ,QACRvK,SAAU,OACV6M,WAAY,aACZ5M,WAAY,KCxKD4Q,GArPG,SAACjW,GAAW,IAAD,EACDC,mBAAS,IADR,mBACpBuB,EADoB,KACbC,EADa,OAEiBxB,oBAAS,GAF1B,mBAEpBiW,EAFoB,KAELC,EAFK,OAGelW,mBAAS,MAHxB,mBAGpBmW,EAHoB,KAGLC,EAHK,KAMrBtU,EAAUC,cAGNlG,EACNsH,qBAAWvD,GADb/D,KAAQA,KAGJwa,EAAQ,uCAAG,4BAAA/V,EAAA,sEACKtD,EAAanB,EAAKqC,WADvB,OACTqD,EADS,OAEf/D,QAAQC,IAAI,QAAS8D,GACrBC,EAASD,GAHM,2CAAH,qDAMdX,qBAAU,WAERyV,MAEC,IAGH,IAgBM9S,EAhBYC,aAAW,SAACC,GAAD,MAAY,CACvC6S,eAAgB,CACdvR,UAAW,QAEbwR,YAAa,CACXxS,MAAO,QAETuI,WAAY,CACVxF,aAAc,MACdsB,OAAQ,UACR,SAAU,CACRrE,MAAO,OACPwE,UAAW,aAIDlD,GAzCW,EA2CHrF,qBA3CG,mBA2CpBuM,EA3CoB,KA2CdC,EA3Cc,KAmE3B,OACE,kBAAC,IAAD,CAAW/G,UAAWlC,EAAQ+S,gBAC5B,kBAAC,KAAD,CACElQ,MAAM,YACNE,QAAS,CACP,CACEF,MAAO,OACPG,MAAO,OACPC,SAAU,SACVU,YAAa,CACXnD,MAAO,MACPG,UAAW,WAGf,CACEkC,MAAO,SACPG,MAAO,SACPC,SAAU,SACVC,OAAQ,SAACC,GAAD,OACN,yBACEE,IAAKF,EAAQC,OAASD,EAAQC,OAAS,iBACvCE,IAAI,SACJvD,MAAO,CAAES,MAAO,GAAI+C,aAAc,UAGtC+F,cAAe,SAAC9M,GAAD,OACb,6BACE,kBAACgG,EAAA,EAAD,CAAQN,UAAWlC,EAAQ+I,YACzB,yBACE1F,IAAK2F,GAAc,wBACnB1F,IAAI,SACJU,QAAS,kBACPnE,SAAS0J,eAAe,cAAcC,YAI5C,kBAAC,KAAD,CACEnR,KAAK,OACLqB,GAAG,aACH2B,KAAK,OACL0E,MAAO,CACLQ,QAAS,QAEXkJ,WAAY,CAAEC,OAAQ,WAEtBC,SAAU,SAACC,GAAD,OAnEN,SAACA,GACnB,IAAMZ,EAAOY,EAAEC,OAAOC,MAAM,GAC5B,GAAId,EAAK3Q,KAAK0R,QAAQ,SAAW,EAC/Bd,QADF,CAKA,IAAMe,EAAS,IAAIC,WACnBD,EAAOE,cAAclB,GACrBgB,EAAOG,UAAY,SAAUP,GAC3BX,EAAQe,EAAOpP,UAyDcwP,CAAYR,QAInCjG,YAAa,CACXnD,MAAO,QAGX,CACEqC,MAAO,aACPG,MAAO,YACPC,SAAU,SACVU,YAAa,CACXnD,MAAO,MACPG,UAAW,UAEbuC,OAAQ,SAACC,GACP,OAA0B,IAAtBA,EAAQ8P,UAAwB,+CACL,IAAtB9P,EAAQ8P,UAAwB,0CAC7B,4CAEd3J,cAAe,SAAC9M,GAAD,OACb,kBAAC0W,GAAA,EAAD,CAAahR,UAAWlC,EAAQgT,aAC9B,kBAACG,GAAA,EAAD,CACEC,QAAQ,mBACR5I,MAAM,aACN6I,aAAc,EACd3Z,GAAG,mBACHiQ,SAAU,SAACC,GAAD,OAAOpN,EAAMmN,SAASC,EAAEC,OAAOlM,SAEzC,kBAAC2V,GAAA,EAAD,CAAUjL,IAAK,EAAG1K,MAAO,KAAzB,kBAGA,kBAAC2V,GAAA,EAAD,CAAUjL,IAAK,EAAG1K,MAAO,KAAzB,aAGA,kBAAC2V,GAAA,EAAD,CAAUjL,IAAK,EAAG1K,MAAO,KAAzB,kBAOR,CACEkF,MAAO,MACPG,MAAO,MACPC,SAAU,QACVU,YAAa,CACXnD,MAAO,QAGX,CACEqC,MAAO,YACPG,MAAO,eACPC,SAAU,QACVU,YAAa,CACXnD,MAAO,OAET0C,OAAQ,SAACC,GACP,IAAI9I,EAAM,gCAAgC/B,EAAK+C,KAAKC,cAAciY,MAAM,KAAK9P,KAAK,IAAK,SACvF,OACE,kBAACgF,GAAA,EAAD,KACE,kBAAC,KAAD,CACEzE,QAAU,SAAA4F,GAAC,OAAI4J,OAAO3L,KAAKxN,EAAK,gBAM1C,CACEwI,MAAO,cACPG,MAAO,cACPC,SAAU,QACVU,YAAa,CACXnD,MAAO,OAET0C,OAAQ,SAACC,GACP,IAAI9I,EAAM,gCAAgC/B,EAAK+C,KAAKC,cAAciY,MAAM,KAAK9P,KAAK,IAAK,IAAIN,EAAQ9H,KAAKC,cAAciY,MAAM,KAAK9P,KAAK,IAAK,UAC3I,OACE,kBAACgF,GAAA,EAAD,KACE,kBAAC,KAAD,CACEzE,QAAU,SAAA4F,GAAC,OAAI4J,OAAO3L,KAAKxN,EAAK,gBAK1C,CACEwI,MAAO,eACPG,MAAO,SACPC,SAAU,QACVU,YAAa,CACXnD,MAAO,OAET0C,OAAQ,SAACC,GACP,OACE,kBAACsF,GAAA,EAAD,CACExB,QAAQ,YACRpG,MAAM,UACNmD,QAAS,WACP2O,GAAmB,GACnBE,EAAiB1P,EAAQ9H,QAL7B,eAcRtB,KAAMiE,EACN4F,QAAS,CACP,CACEC,KAAMC,IACNC,QAAS,gBACTC,QAAS,SAACC,EAAOd,GAAR,OAvKG5F,EAuK8B4F,OAtKlD5E,EAAQrD,KAAK,CACXwH,SAAU,IACVhJ,GAAI6D,EAAK7D,GACTyK,IAAK,aAJY,IAAC5G,KA0KhB6G,QAAS,CACPC,SAAU,GACVC,gBAAiB,CAAC,EAAG,GAAI,OAG5BoO,EACC,kBAAC,GAAD,CACEzO,MAAO,kBAAM0O,GAAmB,IAChC/V,SAAUgW,EACVlE,QAASpW,EAAK+C,OAEd,O,qJCvHKoY,GAvIO,SAACjX,GAAW,IACxBsB,EAAuBtB,EAAvBsB,QAAS4V,EAAclX,EAAdkX,UADc,EAEGjX,mBAAS,IAFZ,mBAExBkX,EAFwB,KAETC,EAFS,OAGDnX,oBAAS,GAHR,mBAGxBC,EAHwB,KAGfC,EAHe,KAUzBkX,EAAaC,MAAS,SAAClK,GAC3BjN,EAAW,CAAED,SAAS,IACtB,IAAIqX,EAAYjW,EAAQ2N,QAAO,SAACtJ,GAAD,OAC7BA,EAAK4I,KAAKrH,cAAcsQ,SAASpK,EAAEC,OAAOlM,MAAM+F,kBAElDkQ,EAASG,GACTpX,GAAW,KACV,KACHsX,eAGA,IAkDMjU,EAlDYC,aAAW,SAACC,GAAD,MAAY,CACvCgU,YAAa,CACX1T,MAAO,MACPJ,QAAS,OACTwE,OAAQ,EACRhD,SAAU,OACVuS,YAAa,gBACbC,cAAe,OACfvT,MAAO,2CACPwT,cAAe,SACfC,YAAa,SACbC,cAAe,OACfC,WAAY,MACZC,WAAY,OACZlU,QAAS,eACTI,UAAW,QACXG,gBAAiB,2CACjB+D,OAAQ,OACRW,OAAQ,MACRkP,KAAM,sBAERhY,QAAS,CACP8D,MAAO,MACPmE,OAAQ,OACRnD,UAAW,OACXmT,cAAe,QAEjBC,SAAU,CACR7N,SAAU,WACVvG,MAAO,MACP2L,OAAQ,IACRvH,OAAQ,uBAEViQ,aAAc,CACZC,aAAc,sBACdpI,WAAY,QACZtM,QAAS,OACT2U,WAAY,WACZxU,QAAS,OACT0L,WAAY,SACZ+I,WAAY,mBACZ,UAAW,CACTlS,YAAa,OACbkS,WAAY,yBAGhBC,aAAc,CACZjU,YAAa,WAGDc,GAEhB,OACE,kBAAC,KAAD,CACE6H,SAAU,SAACC,GApEb8J,EAoE4B9J,EApEb3O,MAqEbia,aAAc,SAAC/S,GAAD,OAAoB,OAATA,EAAgB,GAAKA,EAAK4I,QAElD,gBACCoK,EADD,EACCA,cACAC,EAFD,EAECA,aACAC,EAHD,EAGCA,OACAC,EAJD,EAICA,WAJD,EAKCC,iBALD,OAOC,6BACE,0BACMJ,EAAc,CAChB9c,KAAM,OACN2V,YAAa,aACbtU,GAAI,iBACJwI,UAAWlC,EAAQkU,YACnBvK,SAAU,SAACC,GACTA,EAAE4L,UACF3B,EAAWjK,OAIhByL,IAAW3Y,GACV,yBAAKwF,UAAWlC,EAAQ4U,UACrBjB,EAAcrJ,KAAI,SAACnI,EAAMsT,GAAP,OACjB,uCACEvT,UAAWlC,EAAQ6U,cACfO,EAAa,CAAEjT,SAFrB,CAGEkG,IAAKlG,EAAK4I,OAET5I,EAAKiB,OACJ,kBAACZ,EAAA,EAAD,CAAQN,UAAWlC,EAAQiV,cACzB,yBACE5R,IAAKlB,EAAKiB,OACVE,IAAI,SACJvD,MAAO,CAAES,MAAO,GAAI+C,aAAc,UAItC,kBAACf,EAAA,EAAD,CAAQN,UAAWlC,EAAQiV,cACzB,kBAAC,IAAD,OAGH9S,EAAK4I,KAlBR,MAkBiB5I,EAAK9G,UAGtBsY,EAAcvU,SAAW1C,GACzB,yBAAKwF,UAAWlC,EAAQ6U,cAAxB,qBACqBS,EAAY,W,UCw+BlCI,GAhkCE,SAAClZ,GAChB,IAAM+B,EAAUC,cAEZ9E,EAAK6E,EAAQoX,SAASjc,GACrBA,GAAa,cAAPA,IACTA,EAAKyD,aAAaC,QAAQ,gBACR,cAAP1D,GAAoB6E,EAAQrD,KAAK,KAG9C,IAAM3B,EAASC,sCATW,EAUFiD,qBAVE,mBAUnBc,EAVmB,KAUbqY,EAVa,OAWInZ,mBAAS,IAXb,mBAWnBqB,EAXmB,KAWVC,EAXU,OAYUtB,mBAAS,IAZnB,mBAYnBoZ,EAZmB,KAYPC,EAZO,OAaoBrZ,mBAAS,IAb7B,mBAaFsZ,GAbE,aAckBtZ,mBAAS,IAd3B,mBAcnBuZ,EAdmB,KAcHC,EAdG,OAeQxZ,mBAAS,IAfjB,mBAenByZ,EAfmB,KAeRC,EAfQ,OAgBF1Z,qBAhBE,mBAgBnBuM,EAhBmB,KAgBbC,EAhBa,OAiBUxM,qBAjBV,mBAiBnB2Z,EAjBmB,KAiBPC,EAjBO,QAkBkB5Z,qBAlBlB,qBAkBnB6Z,GAlBmB,MAkBHC,GAlBG,SAmBF1J,IAAMpQ,UAAS,GAnBb,qBAmBnBoL,GAnBmB,MAmBbc,GAnBa,MAsBhBrQ,GACNsH,qBAAWvD,GADb/D,KAAQA,KAGJke,GAAe,SAACvS,EAAO5I,GAC3Bua,EAAQ,2BAAKrY,GAAN,mBAAalC,EAAO4I,EAAM4F,OAAOlM,UAepC8Y,GAAiB,uCAAG,WAAO/c,GAAP,eAAAqD,EAAA,sEACP5C,EAAYT,GADL,cACpB6D,EADoB,OAGxBqY,EAAQrY,GAHgB,mBAIjB,GAJiB,2CAAH,sDAOjBmZ,GAAqB,SAAChd,EAAImc,GAE9B,IAAI/b,EAAM,GAEV,IAAK,IAAMuO,KAAOwN,EAAY,CAC5B,GAAIA,EAAWxN,GAAK7K,eAAe,aACfqY,EAAWxN,GAAK9N,UACpBoc,MAAK,SAACC,GAAD,OAAOA,EAAEld,KAAOA,MAAKI,EAAIoB,KAAK2a,EAAWxN,IAGhEtK,EAAWjE,IAGP+c,GAAa,uCAAG,8BAAA9Z,EAAA,sEACGrB,EAAWpD,GAAKqC,WADnB,OAChBmc,EADgB,OAGpBC,GADIA,EAAMD,EAAWrL,QAAO,SAACC,GAAD,OAAOA,EAAElO,eAAe,YAC1CiO,QAAO,SAACC,GAChB,IAAK,IAAMsL,KAAOlZ,EAChB,GAAIkZ,EAAItd,KAAOgS,EAAEhS,KAAOgS,EAAElO,eAAe,QAAS,OAAO,EAG3D,OAAO,KAITsY,EAAciB,GACdL,GAAmBhd,EAAIqd,GACvBE,GAAkBvd,EAAIqd,GAdF,2CAAH,qDAiBbE,GAAiB,uCAAG,WAAOvd,EAAImc,GAAX,qBAAA9Y,EAAA,sDAGxB,IAAWsL,KAFPvO,EAAM,GAEQ+b,EACZA,EAAWxN,GAAK7K,eAAe,eAC3BjD,EAAYsb,EAAWxN,GAAK9N,UAC9B2c,GAAS,EACb3c,EAAUO,SAAQ,SAACyC,GACbA,EAAK7D,KAAOA,IAAIwd,GAAS,MAE1BA,GAAQpd,EAAIoB,KAAK2a,EAAWxN,KAGrC4N,EAAkBnc,GAbM,2CAAH,wDAgBjBqd,GAAe,SAACrd,EAAKsd,GACF,OAAnBtd,EAAIud,aACNtZ,EAAW,GAAD,oBAAKD,GAAL,CAAc+X,EAAWpK,QAAO,SAACC,GAAD,OAAOA,EAAEzQ,MAAQmc,KAAU,MACrEE,OAIE5D,GAAS,uCAAG,WAAO0D,GAAP,eAAAra,EAAA,sEduYgBwa,EctYU7d,EdsYF8d,EctYMJ,EduYzCzd,IACJ8d,KADI,UACIle,EADJ,oBAC8B,CACjCme,WAAYH,EACZC,OAAQA,IAET3d,MAAK,SAACC,GAGL,OAFaA,EAAIC,KACjBE,QAAQC,IAAI,iBAAeJ,GACpBA,KAERE,OAAM,SAACzB,GAEN,OADA0B,QAAQC,IAAI,QAAS3B,GACdA,KcpZO,OACVof,EADU,OAEhB/M,QAAQC,QAAQ8M,GAAS9d,MAAK,SAACC,GAAD,OAC5B8Q,QAAQC,QAAQsM,GAAard,EAAKsd,OAHpB,iCduYe,IAACG,EAAQC,IcvYxB,OAAH,sDASTI,GAAcC,cAAW,SAAC3X,GAAD,MAAY,CACzC6D,QAAS,CACPjD,gBAAiB,UACjBD,MAAO,sBACPiX,SAAU,IACVC,UAAW,IACXnW,SAAU1B,EAAM8X,WAAWC,QAAQ,IACnCrT,OAAQ,wBAPQiT,CAShBK,MAEEZ,GAAqB,uCAAG,8BAAAva,EAAA,sEACTd,EAAiBvC,GADR,cACtBye,EADsB,OAExBra,EAAU,GACdqa,EAAK7N,KAAI,SAAC0M,GACQ,UAAZA,EAAIjP,MAAkBjK,EAAQ5C,KAAK8b,MAEzCjB,EAAmBjY,GANS,mBAOrB,GAPqB,2CAAH,qDAUrBsa,GAAuB,uCAAG,4BAAArb,EAAA,sEdsTL9B,EcrTOvB,EdsT3BC,IACJC,IADI,UACGL,EADH,oBACqB0B,GAAO,CAC/Be,QAAS,CAAE,8BAA+B,OAE3CnC,MAAK,SAACC,GAGL,OAFaA,EAAIC,QAIlBC,OAAM,SAACzB,GAEN,OADA0B,QAAQC,IAAI,QAAS3B,GACdA,KclUqB,cACxB4f,EADwB,OAE9BhC,EAAagC,GAFiB,mBAGvB,GAHuB,iCdsTN,IAACld,IctTK,OAAH,qDAyB7B,SAASkO,GAAM3M,GACb,OAAO,kBAAC,KAAD,eAAU+F,UAAW,EAAG0E,QAAQ,UAAazK,IApBtDa,qBAAU,WACJ3D,GAAa,cAAPA,IACH6D,GACHkZ,GAAkB/c,GAGM,IAAtBmc,EAAWzW,QACbkY,KAGuB,IAArBpB,EAAU9W,QACZgZ,KAGFvB,QAED,CAACnd,IAOJ,IAAM0P,GAAc,SAACnF,EAAOoF,GACX,cAAXA,GAIJV,IAAQ,IAiIJ3I,GA7HYC,aAAW,SAACC,GAAD,MAAY,CACvCmY,aAAc,CACZ7X,MAAO,OACPmF,cAAe,OACftF,aAAc,OACdkD,aAAc,oBAEhBjD,QAAS,CACPC,QAAS,OACT,SAAU,CACRC,MAAO,QAGX8X,YAAa,CACX/X,QAAS,OACT,SAAU,CACRG,WAAY,QAGhB6X,WAAW,CACThY,QAAS,OACT8N,cAAe,UAEjBmK,eAAgB,CACd9X,WAAY,MACZ,UAAW,CACTkB,SAAU,QAEZ,QAAS,CACPA,SAAU,SAGd6W,kBAAmB,CACjB,UAAW,CACT7W,SAAU,QAEZ,QAAS,CACPA,SAAU,OACVf,MAAO,YAGXmS,YAAa,CACXtS,WAAY,MACZc,UAAW,OACXhB,MAAO,OAETkY,aAAc,CACZlY,MAAO,QAETmY,WAAY,CACVnY,MAAO,QACPmE,OAAQ,QACR3D,YAAa,QACb,SAAU,CACRR,MAAO,OACPwE,UAAW,UAGf4T,WAAY,GACZnY,UAAW,CACTC,WAAY,OAEdE,WAAY,CACVC,MAAO,QACPC,gBAAiB,UACjBC,MAAO,OACPL,WAAY,OAEdO,QAAS,CACPJ,MAAO,QACPC,gBAAiB,SACjBC,MAAO,OACPL,WAAY,OAEdS,WAAY,GACZ0X,eAAgB,CACdzY,QAAS,OACTI,MAAO,QACPgB,UAAW,OACXnB,aAAc,OACdK,WAAY,MAEdoY,WAAY,CACVpY,WAAY,OAEdW,aAAc,CACZjB,QAAS,OACTuE,OAAQ,QACRhE,UAAW,UAEboY,UAAW,CACTjY,gBAAiB,UACjByC,aAAc,oBACd1C,MAAO,QACPF,UAAW,SACXgE,OAAQ,OACR/C,SAAU,OACVyS,cAAe,OAEjB2E,kBAAmB,CACjBlY,gBAAiB,UACjByC,aAAc,oBACd1C,MAAO,QACPF,UAAW,SACXgE,OAAQ,OACR/C,SAAU,OACVyS,cAAe,MACf9T,QAAS,OACT,OAAQ,CACNiF,OAAQ,MACR9E,WAAY,OAEd,UAAW,CACTA,WAAY,MACZG,MAAO,UAGXoY,gBAAiB,CACfvY,WAAY,MACZc,UAAW,MACX,QAAS,CACPX,MAAO,eAIGiB,GAkHhB,OAAKvE,EAOH,kBAAC,IAAD,KACE,kBAAC+E,EAAA,EAAD,CAAOJ,UAAWlC,GAAQqY,aAAc9V,UAAW,GACjD,yBAAKL,UAAWlC,GAAQgZ,mBACtB,+CAAkBzb,EAAKlC,KAAvB,KACA,kBAAC6L,GAAA,EAAD,CACErG,MAAM,UACNuG,aAAW,OACX8R,UAAU,OACVlV,QAhDU,WAClBrK,IACG8d,KADH,UACWle,EADX,2BACoCG,GAAM,CACtCyf,OAAQ,CACNC,MAAOhD,GAAc7Y,EAAK4b,OAAOC,OAAS,KAC1C/L,KAAMxN,SAAS0J,eAAe,QAAQ5L,OAASJ,EAAK4b,OAAO9L,MAAQ,MAErEjK,OAAQ4F,GAAQzL,EAAK6F,QAAU,KAC/BiW,UAAW9b,EAAK8b,UAChBC,YAAa/b,EAAK+b,YAClBC,SAAW1Z,SAAS0J,eAAe,YAAY5L,OAASJ,EAAKgc,UAAY,KACzEC,YAAc,CACZnM,KAAMxN,SAAS0J,eAAe,eAAe5L,OAASJ,EAAKic,YAAYnM,MAAQ,aAC/E5C,KAAM5K,SAAS0J,eAAe,0BAA0B5L,OAASJ,EAAKic,YAAY/O,MAAQ,IAE5FgP,UAAY5Z,SAAS0J,eAAe,aAAa5L,OAASJ,EAAKkc,WAAa,KAC5Epe,KAAMkC,EAAKlC,KACX4X,UAAWyG,SAASnc,EAAK0V,YAAc,EACvC0G,gBAAiBrD,IAAkB/Y,EAAKoc,iBAAmB,KAC3D7Y,gBAAiBvD,EAAKuD,iBAAmB,SAE1CjH,MAAK,SAACC,GAGL,OAFA6O,IAAQ,GACO7O,EAAIC,QAGpBC,OAAM,SAACzB,GACN0B,QAAQC,IAAI,QAAS3B,EAAOgF,EAAKic,kBAuB7B,kBAACI,GAAA,EAAD,QAGJ,kBAACC,GAAA,EAAD,CACEzX,GAAI,GACJC,GAAI,EACJgR,aAAa,WACbyG,UAAQ,EACRpgB,GAAG,cACH8Q,MAAM,OACNnP,KAAK,OACLmK,OAAO,SACPyB,QAAQ,WACR/E,UAAWlC,GAAQwY,eACnB7a,MAAOJ,EAAKlC,KACZsO,SAAU,SAAAC,GAAC,OAAI4M,GAAa5M,EAAG,WAEjC,kBAACgO,GAAD,CACEmC,UAAU,cACVlX,MACE,kBAAC,IAAMmX,SAAP,KACE,kBAAC3S,GAAA,EAAD,CAAYxG,MAAM,WAAlB,qBACA,2BACG,8DAKP,kBAAC4H,GAAA,EAAD,KACE,kBAAC,KAAD,QAGJ,kBAACoR,GAAA,EAAD,CACEngB,GAAG,YACH8Q,MAAM,uBACNnP,KAAK,MACLmK,OAAO,SACPyB,QAAQ,WACR/E,UAAWlC,GAAQwY,eACnBxK,YAAazQ,EAAKkc,WAAa,yBAEjC,kBAAC7B,GAAD,CACEmC,UAAU,cACVlX,MACE,kBAAC,IAAMmX,SAAP,KACE,kBAAC3S,GAAA,EAAD,CAAYxG,MAAM,WAAlB,qBACA,2BACG,8DAKP,kBAAC4H,GAAA,EAAD,KACE,kBAAC,KAAD,QAGJ,kBAACyK,GAAA,EAAD,CAAahR,UAAWlC,GAAQgT,YAAa/L,QAAQ,YACnD,kBAACgT,GAAA,EAAD,CAAYvgB,GAAG,oBAAf,cACA,kBAACyZ,GAAA,EAAD,CACEC,QAAQ,mBACR5I,MAAM,aACN9Q,GAAG,mBACHiE,MAAOJ,EAAK0V,UAAY1V,EAAK0V,UAAY,EACzCtJ,SAAU,SAAAC,GAAC,OAAI4M,GAAa5M,EAAG,eAE/B,kBAAC0J,GAAA,EAAD,CAAUjL,IAAK,EAAG1K,MAAO,KAAzB,aAGA,kBAAC2V,GAAA,EAAD,CAAUjL,IAAK,EAAG1K,MAAO,KAAzB,gBAKJ,kBAACia,GAAD,CACEmC,UAAU,cACVlX,MACE,kBAAC,IAAMmX,SAAP,KACE,kBAAC3S,GAAA,EAAD,CAAYxG,MAAM,WAAlB,qBACA,2BACG,8DAKP,kBAAC4H,GAAA,EAAD,KACE,kBAAC,KAAD,QAGJ,kBAAC1G,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,GACvB,kBAACF,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGH,UAAWlC,GAAQsY,aAC3C,6BACE,qCAEE,kBAACV,GAAD,CACEmC,UAAU,cACVlX,MACE,kBAAC,IAAMmX,SAAP,KACE,kBAAC3S,GAAA,EAAD,CAAYxG,MAAM,WAAlB,qBACA,2BAEI,8DAMR,kBAAC4H,GAAA,EAAD,KACE,kBAAC,KAAD,QAGJ,kBAACmP,GAAD,CACEmC,UAAU,aAEV,kBAACtR,GAAA,EAAD,KACE,kBAAC,KAAD,CACEzE,QAAU,SAAA4F,GAAC,OA9NX,SAACA,GACnBX,IAEA,IAAIiR,EAAgB3c,EACpB2c,EAAc9W,OAAS,KAEvBwS,EAAQsE,GAwNyBC,SAKvB,kBAAC3X,EAAA,EAAD,CAAQN,UAAWlC,GAAQ2Y,YACzB,yBACEtV,IAAK2F,GAAczL,EAAK6F,OACxB5C,MAAM,MACN8C,IAAI,iBACJpB,UAAWlC,GAAQ4Y,cAIvB,kBAAC,KAAD,CACEvgB,KAAK,OACLqB,GAAG,OACH2B,KAAK,OACLoO,WAAY,CAAEC,OAAQ,WACtBsE,YAAY,mBACZ9L,UAAWlC,GAAQoa,UACnBzQ,SAAU,SAACC,GAAD,OAjQJ,SAACA,GACnB,IAAMZ,EAAOY,EAAEC,OAAOC,MAAM,GAC5B,GAAId,EAAK3Q,KAAK0R,QAAQ,SAAW,EAC/Bd,QADF,CAKA,IAAMe,EAAS,IAAIC,WACnBD,EAAOE,cAAclB,GACrBgB,EAAOG,UAAY,SAAUP,GAC3BX,EAAQe,EAAOpP,UAuPYwP,CAAYR,QAKnC,kBAAC7H,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGH,UAAWlC,GAAQsY,aAC3C,6BACE,qCAEE,kBAACV,GAAD,CACEmC,UAAU,cACVlX,MACE,kBAAC,IAAMmX,SAAP,KACE,kBAAC3S,GAAA,EAAD,CAAYxG,MAAM,WAAlB,qBACA,2BAEI,8DAMR,kBAAC4H,GAAA,EAAD,KACE,kBAAC,KAAD,QAGJ,kBAACmP,GAAD,CACEmC,UAAU,YACVlX,MAAM,YAEN,kBAAC4F,GAAA,EAAD,KACE,kBAAC,KAAD,CACEzE,QAAS,SAAC4F,GAAD,OA5PH,SAACA,GACzByM,IAEA,IAAI6D,EAAgB3c,EACpB2c,EAAcf,OAAOC,MAAQ,KAC7Bc,EAAcf,OAAO9L,KAAO,GAE5BuI,EAAQsE,GAqP0BG,SAKxB,yBAAKnY,UAAWlC,GAAQ2Y,YACtB,yBACEtV,IACE+S,IAEI7Y,EAAK4b,OACL5b,EAAK4b,OAAOC,MACZ,IAEN5Y,MAAM,MACN8C,IAAI,iBACJpB,UAAWlC,GAAQ4Y,cAIvB,kBAAC,KAAD,CACEvgB,KAAK,OACLqB,GAAG,OACH2B,KAAK,OACLoO,WAAY,CAAEC,OAAQ,WACtBsE,YAAY,mBACZ9L,UAAWlC,GAAQoa,UACnBzQ,SAAU,SAACC,GAAD,OArSE,SAACA,GACzB,IAAMZ,EAAOY,EAAEC,OAAOC,MAAM,GAC5B,GAAId,EAAK3Q,KAAK0R,QAAQ,SAAW,EAC/BsM,QADF,CAKA,IAAMrM,EAAS,IAAIC,WACnBD,EAAOE,cAAclB,GACrBgB,EAAOG,UAAY,SAAUP,GAC3ByM,EAAcrM,EAAOpP,UA2RM0f,CAAkB1Q,MAGrC,kBAAC,KAAD,CACEvR,KAAK,OACLqB,GAAG,OACH2B,KAAK,OACL2S,YAAczQ,EAAK4b,OAAO9L,MAAQ,qBAKxC,kBAACtL,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGH,UAAWlC,GAAQsY,aACzC,6BACE,+CAEE,kBAACV,GAAD,CACEmC,UAAU,cACVlX,MACE,kBAAC,IAAMmX,SAAP,KACE,kBAAC3S,GAAA,EAAD,CAAYxG,MAAM,WAAlB,qBACA,2BAEI,8DAMR,kBAAC4H,GAAA,EAAD,KACE,kBAAC,KAAD,QAGJ,kBAACmP,GAAD,CACEmC,UAAU,YACVlX,MAAM,YAEN,kBAAC4F,GAAA,EAAD,KACE,kBAAC,KAAD,CACEzE,QAAS,SAAC4F,GAAD,OAtSD,SAACA,GAC7B2M,KAEA,IAAI2D,EAAgB3c,EACpB2c,EAAcP,gBAAkB,KAEhC/D,EAAQsE,GAgS4BK,SAKxB,kBAAC/X,EAAA,EAAD,CAAQN,UAAWlC,GAAQ2Y,YACzB,yBACEtV,IAAMiT,KAEA/Y,EAAKoc,gBACLpc,EAAKoc,gBACL,IAENnZ,MAAM,MACN8C,IAAI,wBACJpB,UAAWlC,GAAQ4Y,cAIrB,kBAAC,KAAD,CACEvgB,KAAK,OACLqB,GAAG,OACH2B,KAAK,OACLoO,WAAY,CAAEC,OAAQ,WACtBsE,YAAY,mBACZ9L,UAAWlC,GAAQoa,UACnBzQ,SAAU,SAACC,GAAD,OA9UE,SAACA,GAC7B,IAAMZ,EAAOY,EAAEC,OAAOC,MAAM,GAC5B,GAAId,EAAK3Q,KAAK0R,QAAQ,SAAW,EAC/BwM,SADF,CAKA,IAAMvM,EAAS,IAAIC,WACnBD,EAAOE,cAAclB,GACrBgB,EAAOG,UAAY,SAAUP,GAC3B2M,GAAkBvM,EAAOpP,UAoUM4f,CAAsB5Q,QAKjD,kBAAC7H,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGH,UAAWlC,GAAQsY,aAC3C,kBAACvW,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAIC,GAAI,GACnB,gDAGA,kBAAC,eAAD,CACExB,MAAOtD,EAAKuD,gBACZ6I,SAppBQ,SAAC9I,GACvB+U,EAAQ,2BAAKrY,GAAN,IAAYuD,gBAAiBD,EAAM4Z,aAwpBtC,6BACA,kBAAC1Y,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,GACvB,kBAACF,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGH,UAAWlC,GAAQsY,aAC3C,6BACE,2CAEE,kBAACV,GAAD,CACEmC,UAAU,cACVlX,MACE,kBAAC,IAAMmX,SAAP,KACE,kBAAC3S,GAAA,EAAD,CAAYxG,MAAM,WAAlB,qBACA,2BAEI,8DAMR,kBAAC4H,GAAA,EAAD,KACE,kBAAC,KAAD,SAIN,kBAAC,eAAD,CACE5H,MAAOtD,EAAK+b,YACZ3P,SA3rBY,SAAC9I,GACzB+U,EAAQ,2BAAKrY,GAAN,IAAY+b,YAAazY,EAAM4Z,YA8rBhC,kBAAC1Y,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGH,UAAWlC,GAAQsY,aAC3C,6BACE,yCAEE,kBAACV,GAAD,CACEmC,UAAU,cACVlX,MACE,kBAAC,IAAMmX,SAAP,KACE,kBAAC3S,GAAA,EAAD,CAAYxG,MAAM,WAAlB,qBACA,2BAEI,8DAMR,kBAAC4H,GAAA,EAAD,KACE,kBAAC,KAAD,SAIN,kBAAC,eAAD,CACE5H,MAAOtD,EAAK8b,UACZ1P,SAntBgB,SAAC9I,GAC7B+U,EAAQ,2BAAKrY,GAAN,IAAY8b,UAAWxY,EAAM4Z,aAutBhC,kBAAC1Y,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,GACvB,kBAACF,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAGH,UAAWlC,GAAQsY,aAC1C,6BACE,kBAACuB,GAAA,EAAD,CACEngB,GAAG,WACH8Q,MAAM,YACNnP,KAAK,WACLmK,OAAO,SACPtD,UAAWlC,GAAQyY,kBACnBzK,YAAazQ,EAAKgc,UAAY,6BAC9BtS,QAAQ,aAEV,kBAAC2Q,GAAD,CACEmC,UAAU,cACVlX,MACE,kBAAC,IAAMmX,SAAP,KACE,kBAAC3S,GAAA,EAAD,CAAYxG,MAAM,WAAlB,qBACA,2BAEI,8DAMR,kBAAC4H,GAAA,EAAD,KACE,kBAAC,KAAD,UAKR,kBAAC1G,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAGH,UAAWlC,GAAQuY,YAC1C,6BACE,kBAACsB,GAAA,EAAD,CACEngB,GAAG,cACH8Q,MAAM,sBACNnP,KAAK,cACLmK,OAAO,SACPtD,UAAWlC,GAAQyY,kBACnBzK,YAAazQ,EAAKic,YAAYnM,MAAQ,sBACtCpG,QAAQ,aAEV,kBAAC2Q,GAAD,CACEmC,UAAU,cACVlX,MACE,kBAAC,IAAMmX,SAAP,KACE,kBAAC3S,GAAA,EAAD,CAAYxG,MAAM,WAAlB,qBACA,2BAEI,8DAMR,kBAAC4H,GAAA,EAAD,KACE,kBAAC,KAAD,SAIN,yBAAK1I,MAAO,CAAEQ,QAAS,OAAQyL,eAAgB,WAC7C,kBAAC,KAAD,CACE3T,KAAK,SACLoR,WAAY,CAAEyE,IAAK,IAAKC,IAAK,OAC7BzU,GAAG,yBACH2B,KAAK,yBACL2S,YAAczQ,EAAKic,YAAY/O,MAAQ,KAEzC,0BAAM1K,MAAO,CAAEgS,UAAW,WAAc,UAgChD,kBAACzP,EAAA,EAAD,CAAOJ,UAAWlC,GAAQqY,aAAc9V,UAAW,GACjD,yBAAKL,UAAWlC,GAAQ+Y,WACtB,uCAEF,kBAACzW,EAAA,EAAD,CAAOJ,UAAWlC,GAAQ6Y,gBACxB,kBAAC,GAAD,CAAe/a,QAASkY,EAAgBtC,UAAWA,MAGrD,kBAAC,KAAD,CACE7Q,MAAM,UACN9C,MAAO,CAAEM,aAAc,OAAQG,MAAO,MAAOE,WAAY,MACzDqC,QAAS,CACP,CACEF,MAAO,SACPG,MAAO,SACPC,SAAU,QACVC,OAAQ,SAACC,GAAD,OACNA,EAAQC,OACN,yBACEC,IAAKF,EAAQC,OACbE,IAAI,SACJvD,MAAO,CAAES,MAAO,GAAI+C,aAAc,SAGpC,kBAACf,EAAA,EAAD,KACGW,EAAQ9H,KACNmI,MAAM,WACNC,KAAK,IACLC,gBAGTC,YAAa,CACXnD,MAAO,QAGX,CACEqC,MAAO,QACPG,MAAO,OACPC,SAAU,QACVU,YAAa,CACXnD,MAAO,MACPG,UAAW,WAGf,CACEkC,MAAO,OACPG,MAAO,OACPC,SAAU,QACVU,YAAa,CACXnD,MAAO,MACPG,UAAW,UAEb+Z,UAAW,CACTta,QAAS,QAGb,CACEyC,MAAO,MACPG,MAAO,MACPC,SAAU,QACVU,YAAa,CACXnD,MAAO,SAIbzG,KAAM+D,EACNmF,SAAU,CACRsI,YAAa,SAACF,GAAD,OACX,IAAIT,SAAQ,SAACC,EAASC,GACpB,IAAI8L,EACJvL,EAAQ9Q,UAAUO,SAAQ,SAAC8B,GACrBA,EAASlD,KAAOA,IAClBkd,EAAI,CAAEtX,IAAK1C,EAAS0C,IAAKjE,KAAMuB,EAASvB,UAExCub,GACFjd,IAAM,CACJS,OAAQ,SACRC,IAAI,GAAD,OAAKd,EAAL,oBACHyC,QAAS,CACP,eAAgB,mBAChBG,OAAQ,oBAEVpC,KAAM,CACJ2d,WAAYhe,EACZ8d,OAAQnM,EAAQpQ,IAChB0f,YAAa/D,EAAEtX,IACfjE,KAAMub,EAAEvb,QAGTxB,MAAK,SAACqR,GACL,IAAI0P,EAAU,GACd/E,EAAWvL,KAAI,SAAA3O,GACb1B,QAAQC,IAAIyB,GACTA,EAAOV,KAAOoQ,EAAQpQ,KAAK2f,EAAQ1f,KAAKS,MAE7C+a,GAAmBhd,EAAIkhB,GACvB/P,OAED7Q,OAAM,SAACzB,GACN0B,QAAQC,IAAI,sBAAuB3B,GAEnCuS,YAIZlH,QAAS,CACP,CACEC,KAAMC,IACNC,QAAS,cACTC,QAAS,SAACC,EAAOd,GAAR,OAlqBDxH,EAkqBgCwH,OAjqBlD5E,EAAQrD,KAAK,CACXwH,SAAU,IACVhJ,GAAIiC,EAAOV,IACXkJ,IAAK,WAJU,IAACxI,KAqqBZyI,QAAS,CACPC,SAAU,GACVC,gBAAiB,CAAC,EAAG,GAAI,QAK/B,kBAAChC,EAAA,EAAD,CAAOJ,UAAWlC,GAAQqY,aAAc9V,UAAW,GACjD,yBAAKL,UAAWlC,GAAQ+Y,WACtB,yCAEF,kBAAC,KAAD,CACElW,MAAM,YACN9C,MAAO,CACLyB,UAAW,OACXnB,aAAc,OACdG,MAAO,MACPE,WAAY,MAEdqC,QAAS,CACP,CACEF,MAAO,OACPG,MAAO,OACPC,SAAU,SACVU,YAAa,CACXnD,MAAO,MACPG,UAAW,WAIf,CACEkC,MAAO,OACPG,MAAO,OACPC,SAAU,SACV4X,OAAQ,CACNC,EAAG,cACHC,EAAG,SACHC,EAAG,QACHC,EAAG,iBACHC,EAAG,eACHC,EAAG,UAELxX,YAAa,CACXnD,MAAO,QAGX,CACEqC,MAAO,UACPG,MAAO,UACPC,SAAU,SACVU,YAAa,CACXnD,MAAO,SAIbzG,KAAMmc,EACNjT,SAAU,CACRyH,SAAU,SAACC,GAAD,OACRhR,IACG8d,KADH,UACWle,EADX,aAC8B,CAC1B6hB,WAAY1hB,EACZ2B,KAAMsP,EAAQtP,KACdhD,KAAMqhB,SAAS/O,EAAQtS,OAAS,EAChCgjB,QAAS1Q,EAAQ2Q,UAElBzhB,MAAK,SAACC,GACLse,QAEDpe,OAAM,SAACzB,GACN0B,QAAQC,IAAI,QAAS3B,OAE3BgT,YAAa,SAACF,GAAD,OACX1R,IACG6R,OADH,UACajS,EADb,aACgC,CAC5BQ,KAAM,CACJ2d,WAAYhe,EACZ6hB,WAAYlQ,EAAQ3R,MAGvBG,MAAK,SAACC,GACLG,QAAQC,IAAI,MAAOJ,GACnBqc,EAAaD,EAAUzK,QAAO,SAAC+P,GAAD,OAAOA,EAAE9hB,KAAO2R,EAAQ3R,UAEvDM,OAAM,SAACzB,GACN0B,QAAQC,IAAI,QAAS3B,OAE3B6S,YAAa,SAACC,EAASV,GAAV,OACXhR,IACG8d,KADH,UACWle,EADX,mBACoC,CAChC6hB,WAAY1hB,EACZ6hB,WAAYlQ,EAAQ3R,GACpB2B,KAAMgQ,EAAQhQ,KACdggB,QAAShQ,EAAQiQ,QACjBjjB,KAAMqhB,SAASrO,EAAQhT,QAExBwB,MAAK,SAACC,GACLse,UAGRhU,QAAS,CACPC,SAAU,GACVC,gBAAiB,CAAC,EAAG,GAAI,QAK/B,kBAACqH,GAAA,EAAD,CAAU9D,KAAMA,GAAM+D,iBAAkB,IAAM9D,QAASsB,IACrD,kBAACD,GAAD,CAAOrB,QAASsB,GAAayC,SAAS,WAAtC,8BA9pBF,yBAAK3J,UAAWlC,GAAQiZ,iBACtB,kBAACwC,GAAA,EAAD,CAAkBhR,KAAM,O,mDCqDjBiR,GAneE,SAAClf,GAAW,IAAD,EACRC,oBAAS,GAApBkf,EADmB,sBAEElf,oBAAS,GAFX,mBAEnBmf,EAFmB,KAEXC,EAFW,OAGcpf,mBAAS,IAHvB,mBAGnBqf,EAHmB,KAGLC,EAHK,OAIUnc,qBAAWvD,GAAvC/D,EAJkB,EAIlBA,KAAMoE,EAJY,EAIZA,QAASM,EAJG,EAIHA,SAJG,EAKNP,mBAAS,IAAtBlC,EALmB,sBAOEkC,mBAAS,CACnCuf,MAAO,GACPC,KAAM,GACNrf,SAAU,GACVvB,KAAM,GACN6gB,MAAO,KAZiB,mBAOnBC,EAPmB,KAOXC,EAPW,KAe1B/e,qBAAU,WACRwC,SAASC,qBAAqB,QAAQ,GAAGC,MACvC,yCACD,IAlBuB,MAoBUtD,mBAAS,CAC3C+D,MAAOgT,OAAO6I,WACd1X,OAAQ6O,OAAO8I,cAtBS,mBAoBnBC,EApBmB,KAoBPC,EApBO,KAyB1Bnf,qBAAU,WACR,IAAMof,EAAe,WACnBD,EAAc,CACZhc,MAAOgT,OAAO6I,WACd1X,OAAQ6O,OAAO8I,eAInB,OADA9I,OAAOkJ,iBAAiB,SAAUD,GAC3B,WACLjJ,OAAOmJ,oBAAoB,SAAUF,MAEtC,IAqBH,IAwGMzc,EAxGYC,aAAW,SAACC,GAAD,MAAY,CACvC0c,KAAM,CACJ9b,gBAAiB,UACjBU,UAAW,OAEbqb,UAAW,CACT9b,MAAOwb,EAAW/b,MAAQ,IAAM,QAAU,UAC1CuL,UACE,wGACFjL,gBAAiB,QACjBJ,WAAY,OACZc,UAAW,MACX+B,aAAc,oBAEhBuZ,aAAc,CACZvZ,aAAc,oBACdzC,gBAAiB,WAEnBic,UAAW,CACTvc,MAAO,MACPE,WAAY,MACZ,UAAW,CACTG,MAAO,SAET,UAAW,CACTA,MAAO,SAET,iBAAkB,CAChBA,MAAO,UAGXmc,WAAY,CACVxc,MAAO,MACPE,WAAY,MACZ,UAAW,CACTG,MAAO,QAET,iBAAkB,CAChBA,MAAO,SAGXuZ,UAAW,CACT5Z,MAAO,MACPE,WAAY,MACZL,aAAc,OACd,UAAW,CACTQ,MAAO,UAGX+X,WAAY,CACVpY,MAAO,OACPwE,UAAW,SAEbiY,WAAY,CACVvc,WAAY,QAEdwc,aAAc,CACZxc,WAAY,MACZiF,cAAe,OACfD,WAAY,QAEdyX,YAAa,CACXzc,WAAY,OAEd0c,KAAM,CACJrc,MAAO,OACPS,UAAW,QAEb6b,WAAY,CACVtR,UACE,wGACFjL,gBAAiB,QACjBC,MAAO,QACPS,UAAW,OACXhB,MAAO,MACPJ,QAAS,OACTS,MAAO,UAETD,WAAY,CACVJ,MAAO,OACPmE,OAAQ,OACRjE,WAAY,MACZL,aAAc,OACd0L,UACE,yGAEJkN,gBAAiB,CACfvY,WAAY,MACZc,UAAW,MACX,QAAS,CACPX,MAAO,UAGX2E,OAAQ,CACNA,OAAQtF,EAAM+B,QAAQ,IAExBqb,qBAAsB,CACpB3c,UAAW,UAEb4c,cAAe,MAKDzb,GAjKU,EAmKG0b,aAAU,CACrCC,KAAM,CACJjc,UAAW,UAEbT,MAAO,OACPS,UAAW,OACXkc,OAAQ,CAAEC,KAAM,GAAIC,QAAS,GAAIC,SAAU,MANrC9c,EAnKkB,EAmKlBA,MAAOS,EAnKW,EAmKXA,UASTgV,EAAe,SAACnb,GAAD,OAAU,SAAC4I,GAC9BmY,EAAU,2BAAKD,GAAN,mBAAe9gB,EAAO4I,EAAM4F,OAAOlM,WA7KpB,EAuNFlB,qBAvNE,mBAuNnBuM,EAvNmB,KAuNbC,EAvNa,KAuOpB6U,EACJ,8BACI9U,GACA,kBAACxG,EAAA,EAAD,CAAQN,UAAWlC,EAAQY,YACzB,kBAAC,KAAD,OAGHoI,GACC,kBAACxG,EAAA,EAAD,CAAQN,UAAWlC,EAAQY,YACzB,yBACEyC,IAAK2F,EACLxI,MAAM,MACN8C,IAAI,iBACJpB,UAAWlC,EAAQ4Y,cAIzB,kBAAC,KAAD,CACEvgB,KAAK,OACLqB,GAAG,OACH2B,KAAK,OACLoO,WAAY,CAAEC,OAAQ,WACtBsE,YAAY,mBACZ9L,UAAWlC,EAAQoa,UACnBzQ,SAAU,SAACC,GAAD,OAtCI,SAACA,GACnB,IAAMZ,EAAOY,EAAEC,OAAOC,MAAM,GAC5B,GAAId,EAAK3Q,KAAK0R,QAAQ,SAAW,EAC/Bd,QADF,CAKA,IAAMe,EAAS,IAAIC,WACnBD,EAAOE,cAAclB,GACrBgB,EAAOG,UAAY,SAAUP,GAC3BX,EAAQe,EAAOpP,UA4BIwP,CAAYR,MAE9BrP,GACC,kBAAC2Y,GAAA,EAAD,CAAahR,UAAWlC,EAAQgd,YAC9B,kBAAC/C,GAAA,EAAD,CAAYvgB,GAAG,cAAf,YACA,kBAACyZ,GAAA,EAAD,CACEC,QAAQ,aACR1Z,GAAG,kBACHiE,MAAOwe,EAAOvf,SACd+M,SAAU6M,EAAa,aAEtBjc,EAAU+P,KAAI,SAAC/M,GAAD,OACb,kBAAC+V,GAAA,EAAD,CAAUjL,IAAK9K,EAAK7D,GAAIiE,MAAOJ,EAAK7D,IACjC6D,EAAKwgB,kBAMhB,kBAAClE,GAAA,EAAD,CACEngB,GAAG,mBACH8Q,MAAM,OACNnP,KAAK,OACLmK,OAAO,SACPtD,UAAWlC,EAAQgd,WACnBrf,MAAOwe,EAAO9gB,KACdsO,SAAU6M,EAAa,UAEzB,kBAACqD,GAAA,EAAD,CACEngB,GAAG,kBACH8Q,MAAM,QACNnP,KAAK,QACLmK,OAAO,SACPtD,UAAWlC,EAAQgd,WACnBrf,MAAOwe,EAAOD,MACdvS,SAAU6M,EAAa,YAKvBwH,EAAW,uCAAG,WAAO/iB,GAAP,eAAA8B,EAAA,sEACChB,EAAQd,GADT,QACZlB,EADY,QAETkB,IACW,WAAdlB,EAAKgO,KACP/K,EAAS,CACP3E,KAAM,cACNE,MAAO,CAAE0E,QAAS,sCAGpBE,aAAa8gB,QAAQ,OAAQlkB,EAAKkB,KAClC+B,EAAS,CAAE3E,KAAM,gBAAiBC,KAAMyB,KAErCiD,EAAS,CAAE3E,KAAM,cAAeE,MAAO,CAAE0E,QAASlD,KAZvC,2CAAH,sDAeXmkB,EAAgB,SAAClC,EAAOhR,GAE5BxS,EACGmO,OACAwX,2BAA2BnC,EAAOhR,GAClCnR,MAAK,SAACvB,GACL0lB,EAAY1lB,EAAKA,KAAK2C,QAEvBjB,OAAM,SAACzB,GACNyE,EAAS,CAAE3E,KAAM,cAAeE,cAiCtC,OAAImE,EAEA,yBAAKwF,UAAWlC,EAAQiZ,iBACtB,kBAACwC,GAAA,EAAD,OAKJ,kBAAC,IAAD,KACGc,EAAW/b,MAAQ,KAClB,kBAAC,KAAE4d,IAAH,CACE/a,IAAI,sBACJC,IAAI,OACJvD,MAAO,CAAEgB,QAAOS,eAGnB+a,EAAW/b,MAAQ,KAClB,yBAAK0B,UAAWlC,EAAQsd,sBACtB,yBACEpb,UAAWlC,EAAQud,cACnBla,IAAI,sBACJ7C,MAAM,MACN8C,IAAI,UAIV,kBAAChB,EAAA,EAAD,CAAOC,UAAW,EAAGL,UAAWlC,EAAQ6c,YACpCjB,GACA,0BAAMyC,SA5MM,SAACzU,GACnBA,EAAE0U,iBACE3C,GACF1hB,QAAQC,IAAI,MAAOiiB,GACnBxiB,IACG8d,KAAK,4CAA6C,CACjDuE,MAAOG,EAAOH,MACdhR,SAAUmR,EAAOnR,SACjBpO,SAAUuf,EAAOvf,SACjBqO,YAAakR,EAAO9gB,KACpB6gB,MAAOC,EAAOD,QAEfriB,MAAK,SAAU0kB,GACdtkB,QAAQC,IAAIqkB,MAEbvkB,OAAM,SAAUzB,GACf0B,QAAQC,IAAI3B,OAEX2lB,EAAc/B,EAAOH,MAAOG,EAAOF,QA2LlC,yBAAK/Z,UAAWlC,EAAQ8c,cACtB,kBAACjD,GAAA,EAAD,CACEngB,GAAG,qBACH8Q,MAAM,QACNnS,KAAK,QACLgD,KAAK,QACLmjB,aAAa,MACbhZ,OAAO,SACPtD,UAAWlC,EAAQ+c,UACnBpf,MAAOwe,EAAOH,MACdrS,SAAU6M,EAAa,WAEzB,kBAACqD,GAAA,EAAD,CACEngB,GAAG,wBACH8Q,MAAM,WACNnS,KAAK,WACLgD,KAAK,OACLmK,OAAO,SACPtD,UAAWlC,EAAQ+c,UACnBpf,MAAOwe,EAAOF,KACdtS,SAAU6M,EAAa,WAI1BmF,EAAUmC,EAAQ,KACnB,yBAAK5b,UAAWlC,EAAQkd,cACtB,kBAACzU,GAAA,EAAD,CACEvG,UAAWlC,EAAQmd,YACnBlW,QAAQ,WACRpG,MAAM,UACN4d,QAAS,kBAACC,GAAA,EAAD,MACTrmB,KAAK,UAEJsjB,EAAU,WAAa,UAExBA,GACA,kBAAClT,GAAA,EAAD,CACEvG,UAAWlC,EAAQwF,OACnBiF,KAAK,QACLxD,QAAQ,WACRpG,MAAM,YACNmD,QAAS,WACP6X,GAAWD,KANf,yBAePA,GACC,8BACE,kBAAC/B,GAAA,EAAD,CACEngB,GAAG,sBACH8Q,MAAM,QACNnS,KAAK,QACLgD,KAAK,QACLmjB,aAAa,QACbhZ,OAAO,SACPtD,UAAWlC,EAAQ+c,UACnBpf,MAAOme,EACPnS,SAtPyB,SAAC1F,GACpC8X,EAAgB9X,EAAM4F,OAAOlM,UAuPrB,yBAAKuE,UAAWlC,EAAQkd,cACtB,kBAACzU,GAAA,EAAD,CACExB,QAAQ,WACRpG,MAAM,YACN4d,QAAS,kBAAC,KAAD,MACTpmB,KAAK,SACL6J,UAAWlC,EAAQmd,YACnBnZ,QAAS,WACP6X,GAAU,KAPd,QAYA,kBAACpT,GAAA,EAAD,CACExB,QAAQ,WACRpG,MAAM,UACN4d,QAAS,kBAACC,GAAA,EAAD,MACTrmB,KAAK,SACL6J,UAAWlC,EAAQmd,YACnBnZ,QAAS,cANX,iBAgBP1L,GAAQA,EAAKC,OACZ,kBAAC+J,EAAA,EAAD,CAAOJ,UAAWlC,EAAQqd,YACxB,6BAAM/kB,EAAKC,MAAM0E,Y,yCCgJZ0hB,GA1mBA,SAACniB,GACd,IAAM+B,EAAUC,cACZ9E,EAAK6E,EAAQoX,SAASjc,GAErBA,GAAa,cAAPA,IACTA,EAAKyD,aAAaC,QAAQ,gBACR,cAAP1D,GAAoB6E,EAAQrD,KAAK,KANtB,MASEuB,qBATF,mBASjBmiB,EATiB,KASXC,EATW,OAWUpiB,mBAAS,IAXnB,mBAWjBqiB,EAXiB,KAWNC,EAXM,OAYQtiB,oBAAS,GAZjB,mBAYjBuiB,EAZiB,KAYLC,EAZK,OAacxiB,qBAbd,mBAaJyiB,GAbI,aAciBziB,qBAdjB,mBAcjB0iB,EAdiB,KAcAC,EAdA,OAeE3iB,mBAAS,IAfX,mBAejB4iB,EAfiB,KAeVC,EAfU,KAgBlB/lB,EAASC,sCAETgd,EAAe,SAACnb,GAAD,OAAU,SAAC4I,GAC9B4a,EAAU,2BAAKD,GAAN,mBAAavjB,EAAO4I,EAAM4F,OAAOlM,WAIlCrF,EACNsH,qBAAWvD,GADb/D,KAAQA,KAIJwa,EAAW,SAACyM,EAAUT,GAC1B,IAAI/H,EAAM,GACNyI,EAAO,GACPV,EAAU1f,OAAS,GACrB0f,EAAUxU,KAAI,SAACmV,GACb,IAAIC,EAAU,GACdH,EAAS9T,QAAO,SAACmL,GACXA,EAAEld,KAAO+lB,EAAG/lB,IAAIgmB,EAAQxkB,KAAR,2BAAkB0b,GAAlB,IAAqBtX,IAAKmgB,EAAGngB,UAE/CogB,EAAQtgB,OAAS,IACnBsgB,EAAQ,GAAR,IAAoBD,EAAGjiB,eAAe,OAASiiB,EAAGngB,IAAM,EACxDyX,EAAI7b,KAAKwkB,EAAQ,QAGrBH,EAASjV,KAAI,SAACmV,GACZ,IAAIvI,GAAS,EACbH,EAAItL,QAAO,SAACmL,GACN6I,EAAG/lB,KAAOkd,EAAEld,KAAIwd,GAAS,MAE1BA,GAAQsI,EAAKtkB,KAAKukB,OAEpBD,EAAOD,EACVxI,QAAe1M,IAAR0M,GAAqBA,EAAI3X,OAAS,QAAgBiL,IAAX0M,EAAI,GACpDgI,EAAahI,GACVgI,EAAa,IACdS,QAAiBnV,IAATmV,GAAsBA,EAAKpgB,OAAS,QAAiBiL,IAAZmV,EAAK,GACxDJ,EAAcI,GACXJ,EAAc,IAEnB,IAAIO,EAAO,GACX,IAAK,IAAMtX,KAAOmX,EAChBG,EAAKH,EAAKnX,GAAK3O,IAAM8lB,EAAKnX,GAAKhN,KAEjCukB,GAAYD,IAIR/lB,EAAG,uCAAG,8BAAAmD,EAAA,sEACQtB,EAAU/B,GADlB,cACJsd,EADI,OAEV6H,EAAU7H,GAFA,SAGavd,EAAanB,EAAKqC,WAH/B,OAGJ4kB,EAHI,OAORvI,GACAuI,GACAA,EAASngB,OAAS,GAClB4X,EAAIxZ,eAAe,cAEnBsV,EAASyM,EAAUvI,EAAIzc,WAZf,2CAAH,qDAeT8C,qBAAU,WACJ3D,GACFE,IAKeN,EAAQD,IAAR,gBAAqBK,IAInCmmB,UACAhmB,MAAK,SAAUC,GAMd,IAAIgmB,EAAa,GACjBhmB,EAAIimB,MAAMjlB,SAAQ,SAAUklB,GAC1BF,EAAW5kB,KAAK,CAAEG,KAAM2kB,EAAQ3kB,KAAM4kB,KAAMD,EAAQrK,SAASsK,UAE/DX,EAASQ,MAEV9lB,OAAM,SAAUzB,GAEf0B,QAAQC,IAAI3B,QAEf,CAACmB,IAGJ,IAiFMsG,EAjFYC,aAAW,SAACC,GAAD,MAAY,CACvCggB,aAAc,CACZ1f,MAAO,OACPJ,QAAS,OACTC,aAAc,OACd,SAAU,CACRE,QAAS,OACT,OAAQ,CACNoE,OAAQ,eAEV,OAAQ,CACNA,OAAQ,iBAIdwb,aAAc,CACZ3f,MAAO,QACPmE,OAAQ,QACR/C,SAAU,YACVZ,YAAa,QACb,SAAU,CACRR,MAAO,OACPwE,UAAW,UAGf+X,UAAW,CAAEvc,MAAO,OACpB4Z,UAAW,CACT5Z,MAAO,MACPE,WAAY,OACZc,UAAW,QAEbwR,YAAa,CACXxS,MAAO,QAETS,QAAS,CACPJ,MAAO,QACPC,gBAAiB,SACjBC,MAAO,QAETI,WAAY,CACVT,WAAY,QAEdwc,aAAc,CACZ1b,UAAW,OACXjB,QAAS,uBACT,WAAY,CACVQ,MAAO,QACPC,YAAa,SAGjBof,aAAc,CACZvf,MAAO,UAETwf,cAAe,CACbtU,UACE,wGACFjL,gBAAiB,UACjBN,MAAO,MACPmE,OAAQ,MACRjE,WAAY,MACZc,UAAW,MACXpB,QAAS,OACT,SAAU,CACRU,gBAAiB,0BAEnB,QAAS,CACPN,MAAO,QAET,WAAY,CACVE,WAAY,MACZc,UAAW,SAGfyX,gBAAiB,CACfvY,WAAY,MACZc,UAAW,MACX,QAAS,CACPX,MAAO,eAIGiB,GA/LQ,EAiMArF,qBAjMA,mBAiMjBuM,GAjMiB,KAiMXC,GAjMW,QAkMcxM,qBAlMd,qBAkMjB6jB,GAlMiB,MAkMJC,GAlMI,SAmMQ9jB,mBAAS,IAnMjB,qBAmMjB+jB,GAnMiB,MAmMPZ,GAnMO,SAoMA/S,IAAMpQ,UAAS,GApMf,qBAoMjBoL,GApMiB,MAoMXc,GApMW,MAuMlBS,GAAc,SAACnF,EAAOoF,GACX,cAAXA,GAIJV,IAAQ,IAGV,SAASQ,GAAM3M,GACb,OAAO,kBAAC,KAAD,eAAU+F,UAAW,EAAG0E,QAAQ,UAAazK,IAGtD,IAgBMikB,GAAW,uCAAG,WAAOC,GAAP,QAAA3jB,EAAA,SAAAA,EAAA,sEACKzD,EAAQD,IAAIsnB,OAAOD,EAAIT,OAD5B,cACdW,EADc,gBAEQA,EAAWC,iBAFnB,OAEZC,EAFY,QAId/jB,EAAI8C,SAASkhB,cAAc,MAC7BC,KAAOF,EACT/jB,EAAE8M,OAAS,SACX9M,EAAEkkB,SAAW,WACblkB,EAAEyM,QARgB,4CAAH,sDAoEX0X,GAAoB,WACxBjC,GAAWD,IAqCb,OAAKJ,EAOH,kBAAC,IAAD,KACE,kBAACtc,EAAA,EAAD,CAAOJ,UAAWlC,EAAQkgB,cACxB,kBAACne,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,GACvB,kBAACF,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAIC,GAAI,IACnBuc,EAAKxb,SAAW4F,IAChB,kBAACxG,EAAA,EAAD,CAAQN,UAAWlC,EAAQmgB,cACxBvB,EAAKvjB,KACHmI,MAAM,WACNC,KAAK,IACLC,gBAGL4c,IAAe1B,EAAKxb,SACpB,kBAACZ,EAAA,EAAD,CAAQN,UAAWlC,EAAQmgB,cACzB,yBACE9c,IAAKid,IAA4B1B,EAAKxb,OACtC5C,MAAM,MACN8C,IAAI,iBACJpB,UAAWlC,EAAQ4Y,cAIzB,kBAAC,KAAD,CACEvgB,KAAK,OACLqB,GAAG,OACH2B,KAAK,OACLoO,WAAY,CAAEC,OAAQ,WACtBsE,YAAY,mBACZ9L,UAAWlC,EAAQoa,UACnBzQ,SAAU,SAACC,GAAD,OA9JF,SAACA,GACnB,IAAMZ,EAAOY,EAAEC,OAAOC,MAAM,GAC5B,GAAId,EAAK3Q,KAAK0R,QAAQ,SAAW,EAC/Bd,SADF,CAKAA,GAAQD,GAER,IAAMgB,EAAS,IAAIC,WACnBD,EAAOE,cAAclB,GACrBgB,EAAOG,UAAY,SAAUP,GAC3B2W,GAAevW,EAAOpP,UAkJGwP,CAAYR,OAIjC,kBAAC7H,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAACwX,GAAA,EAAD,CACEngB,GAAG,mBACH8Q,MAAM,OACNnP,KAAK,OACLmK,OAAO,SACPtD,UAAWlC,EAAQ+c,UACnBpf,MAAOihB,EAAKvjB,KACZsO,SAAU6M,EAAa,WAG3B,kBAACzU,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAACwX,GAAA,EAAD,CACEngB,GAAG,oBACH8Q,MAAM,QACNnS,KAAK,QACLgD,KAAK,OACLmjB,aAAa,QACbhZ,OAAO,SACPtD,UAAWlC,EAAQ+c,UACnBpf,MAAOihB,EAAK7T,KACZpB,SAAU6M,EAAa,UAEzB,6BACE,kCACA,kBAAChU,EAAA,EAAD,CAAQN,UAAWlC,EAAQiB,SACzB,kBAAC,IAAD,OAEF,wBAAIiB,UAAWlC,EAAQmB,YAAayd,EAAKtf,SAK7C0f,GACA,yBAAK9c,UAAWlC,EAAQkd,cACtB,kBAACzU,GAAA,EAAD,CACExB,QAAQ,WACRpG,MAAM,UACN4d,QAAS,kBAAC7E,GAAA,EAAD,MACT5V,QA5JQ,WACdgF,SAAiBqB,IAATrB,GACV1P,EACGD,IAAI,mBAAqBulB,EAAK3jB,IAAM,kBACpCkmB,IAAInY,IACJnP,MAAK,SAACunB,GACL9nB,EACGD,IAAI+nB,EAAS/nB,IAAIgoB,UACjBR,iBACAhnB,MAAK,SAACynB,GACLplB,EAAW,CACT6O,KAAM6T,EAAK7T,KACXwW,YAAa3C,EAAK1C,OAAS,KAC3BjR,YAAa2T,EAAKvjB,KAClBiQ,SAAUgW,GAAY1C,EAAKxb,QAAU,KACrCnI,IAAK2jB,EAAK3jB,IACVI,KAAMujB,EAAKvjB,KACXiE,IAAKsf,EAAKtf,KAAO,EACjB7B,MAAOmhB,EAAKnhB,QAAS,EACrBsK,KAAM6W,EAAK7W,MAAQ,WAErBY,IAAQ,SAIhBzM,EAAW,CACT6O,KAAM6T,EAAK7T,KACXwW,YAAa3C,EAAK1C,OAAS,KAC3BjR,YAAa2T,EAAKvjB,KAClBiQ,SAAUsT,EAAKxb,QAAU,KACzBnI,IAAK2jB,EAAK3jB,IACVI,KAAMujB,EAAKvjB,KACXiE,IAAKsf,EAAKtf,KAAO,EACjB7B,MAAOmhB,EAAKnhB,QAAS,EACrBsK,KAAM6W,EAAK7W,MAAQ,WAEvBY,IAAQ,KAoHA,QAQA,kBAACF,GAAA,EAAD,CACExB,QAAQ,WACR/E,UAAWlC,EAAQogB,aACnB3B,QAAS,kBAAC+C,GAAA,EAAD,MACTxd,QAASkd,IAJX,qBAWN,kBAACO,GAAA,EAAD,CACEC,kBAAgB,kBAChBC,mBAAiB,SACjB9Z,KAAMmX,EACNlX,QAASoZ,GACThf,UAAWlC,EAAQqgB,eAEnB,kBAAC,WAAD,KACE,kBAACxG,GAAA,EAAD,CACEngB,GAAG,iBACH8Q,MAAM,eACNnS,KAAK,WACLmN,OAAO,WAET,kBAACiD,GAAA,EAAD,CACExB,QAAQ,WACR/E,UAAWlC,EAAQogB,aACnB3B,QAAS,kBAAC+C,GAAA,EAAD,MACTxd,QAlJa,WACrB,IAAI4d,EAAU/hB,SAAS0J,eAAe,kBAAkB5L,MAEpDikB,QAAuBvX,IAAZuX,GAAqC,KAAZA,GACtCjoB,IAAM,CACJS,OAAQ,OACRC,IAAI,GAAD,OAAKd,EAAL,yBACHyC,QAAS,CACP,eAAgB,mBAChBG,OAAQ,oBAEVpC,KAAM,CACJiR,SAAU4W,EACV3mB,IAAK2jB,EAAK3jB,OAGXpB,MAAK,SAACC,GACLG,QAAQC,IAAIJ,EAAIC,MAChBmlB,EAAe0C,GACfV,KACAvY,IAAQ,MAET3O,OAAM,SAACQ,GAAD,OAASP,QAAQC,IAAIM,QAwH1B,YAWJ,kBAAC,KAAD,CACEqI,MAAM,YACNE,QAAS,CACP,CACEF,MAAO,OACPG,MAAO,OACPC,SAAU,SACVU,YAAa,CACXnD,MAAO,MACPG,UAAW,UAEb+Z,UAAW,CACTla,MAAO,OAETqa,OAAQ2F,GACRtd,OAAQ,SAAC2e,GAAD,OAAa,6BAAMA,EAAQxmB,QA0CrC,CACEwH,MAAO,MACPG,MAAO,MACPC,SAAU,QACVU,YAAa,CACXnD,MAAO,SAIbzG,KAAM+kB,EACN7b,SAAU,CACRyH,SACEyU,GAAmBA,EAAgB/f,OAAS,EACxC,SAACuL,GAAD,OACE,IAAIC,SAAQ,SAACC,EAASC,GACpB7Q,QAAQC,IAAI,UAAWyQ,GACvBhR,IACG8d,KADH,UACWle,EADX,oBACqC,CACjCme,WAAY/M,EAAQtP,KACpBmc,OAAQoH,EAAK3jB,MAEdpB,MAAK,SAACqR,GACLvC,IAAQ,GACR/O,IACAiR,OAED7Q,OAAM,SAACzB,GACN0B,QAAQC,IAAI,sBAAuB3B,GAEnCuS,WAGR,KACNS,YAAa,SAACF,GAAD,OACX,IAAIT,SAAQ,SAACC,EAASC,GACpBnR,IAAM,CACJS,OAAQ,SACRC,IAAI,GAAD,OAAKd,EAAL,mBACHyC,QAAS,CACP,eAAgB,mBAChBG,OAAQ,oBAEVpC,KAAM,CACJ2d,WAAYrM,EAAQ3R,GACpBihB,YAAatP,EAAQ/L,IACrBjE,KAAMgQ,EAAQhQ,KACdmc,OAAQ9d,KAGTG,MAAK,SAACqR,GACLvC,IAAQ,GACR/O,IACAiR,OAED7Q,OAAM,SAACzB,GACN0B,QAAQC,IAAI,2BAA4B3B,GAExCuS,YAIVlH,QAAS,CACP,CACEC,KAAMC,IACNC,QAAS,gBACTC,QAAS,SAACC,EAAOd,GAAR,OAzPG5F,EAyP8B4F,OAxPlD5E,EAAQrD,KAAK,CACXwH,SAAU,IACVhJ,GAAI6D,EAAK7D,GACTyK,IAAK,aAJY,IAAC5G,KA4PhB6G,QAAS,CACPC,SAAU,GACVC,gBAAiB,CAAC,EAAG,GAAI,OAI7B,kBAAC,KAAD,CACEzB,MAAM,QACN9C,MAAO,CACLyB,UAAW,QAEbuB,QAAS,CACP,CACEF,MAAO,QACPG,MAAO,OACPC,SAAU,QAEVyX,UAAW,CACTla,MAAO,SAIbzG,KAAMslB,EACNzb,QAAS,CACP,CACEC,KAAMie,KACN/d,QAAS,eACTC,QAAS,SAACC,EAAOd,GAAR,OAAoBsd,GAAYtd,QAK/C,kBAACwI,GAAA,EAAD,CAAU9D,KAAMA,GAAM+D,iBAAkB,IAAM9D,QAASsB,IACrD,kBAACD,GAAD,CAAOrB,QAASsB,GAAayC,SAAS,WAAtC,8BAnRF,yBAAK3J,UAAWlC,EAAQiZ,iBACtB,kBAACwC,GAAA,EAAD,CAAkBhR,KAAM,OC5KjBsX,GAjLD,WAAM,MAEQtlB,mBAAS,MAFjB,mBAEX/B,EAFW,KAEJsnB,EAFI,OAGgBvlB,mBAAS,MAHzB,mBAGXlC,EAHW,KAGA0nB,EAHA,KAKR3pB,EACNsH,qBAAWvD,GADb/D,KAAQA,KAGJsB,EAAG,uCAAG,4BAAAmD,EAAA,sEACSnB,EAAWtD,EAAKqC,WADzB,OACJZ,EADI,OAEVioB,EAASjoB,GAFC,2CAAH,qDAKH+Y,EAAQ,uCAAG,8BAAA/V,EAAA,sEACKzC,EAAuBhC,EAAKqC,WADjC,OACTqD,EADS,OAEXkkB,EAAW,GACflkB,EAAMlD,QAAN,uCAAc,WAAOyC,GAAP,eAAAR,EAAA,sEACS5C,EAAYoD,GADrB,OACRX,EADQ,OAEZslB,EAAShnB,KAAK0B,GAFF,2CAAd,uDAIA3C,QAAQC,IAAI,QAASgoB,GACrBD,EAAaC,GARE,2CAAH,qDAYd7kB,qBAAU,WACH3C,GAAOd,IACPW,GAAWuY,MACf,CAACpY,IA5Bc,MA+BM+B,qBA/BN,mBA+BXuM,EA/BW,KA+BLC,EA/BK,KA+DZjJ,EAhBYC,aAAW,SAACC,GAAD,MAAY,CACvC2I,aAAc,CACZrH,UAAW,QAEbsH,QAAS,CACPtI,MAAO,QAETuI,WAAY,CACVxF,aAAc,MACdsB,OAAQ,UACR,SAAU,CACRrE,MAAO,OACPwE,UAAW,aAIDlD,GAEhB,OAAKpH,GAAUH,EAEb,kBAAC,IAAD,KACE,kBAAC,KAAD,CACEsI,MAAM,UACN9C,MAAO,CAAEM,aAAc,OAAQG,MAAO,QACtCuC,QAAS,CACP,CACEF,MAAO,SACPG,MAAO,SACPC,SAAU,QACVC,OAAQ,SAACC,GAAD,OACNA,EAAQC,OACN,yBACEC,IAAKF,EAAQC,OACbE,IAAI,SACJvD,MAAO,CAAES,MAAO,GAAI+C,aAAc,SAGpC,kBAACf,EAAA,EAAD,KACGW,EAAQ9H,KACNmI,MAAM,WACNC,KAAK,IACLC,gBAGT4F,cAAe,SAAC9M,GAAD,OACb,6BACE,kBAACgG,EAAA,EAAD,CAAQN,UAAWlC,EAAQ+I,YACzB,yBACE1F,IAAK2F,GAAc,wBACnB1F,IAAI,SACJU,QAAS,kBACPnE,SAAS0J,eAAe,cAAcC,YAI5C,kBAAC,KAAD,CACEnR,KAAK,OACLqB,GAAG,aACH2B,KAAK,OACL0E,MAAO,CACLQ,QAAS,QAEXkJ,WAAY,CAAEC,OAAQ,WACtBC,SAAU,SAACC,GAAD,OA7EN,SAACA,GACnB,IAAMZ,EAAOY,EAAEC,OAAOC,MAAM,GAC5B,GAAId,EAAK3Q,KAAK0R,QAAQ,SAAW,EAC/Bd,QADF,CAKA,IAAMe,EAAS,IAAIC,WACnBD,EAAOE,cAAclB,GACrBgB,EAAOG,UAAY,SAAUP,GAC3BX,EAAQe,EAAOpP,UAmEcwP,CAAYR,QAInCjG,YAAa,CACXnD,MAAO,QAGX,CACEqC,MAAO,QACPG,MAAO,OACPC,SAAU,QACVU,YAAa,CACXnD,MAAO,OAET0C,OAAQ,SAACC,GAAD,OACN,6BAAMA,EAAQ4H,MAAQ,2BAG1B,CACElI,MAAO,WACPG,MAAO,WACPC,SAAU,QACVU,YAAa,CACXnD,MAAO,QAGX,CACEqC,MAAO,OACPG,MAAO,OACPC,SAAU,QACVU,YAAa,CACXnD,MAAO,OAETka,UAAW,CACTta,QAAS,QAGb,CACEyC,MAAO,WACPG,MAAO,YACPC,SAAU,QACVU,YAAa,CACXnD,MAAO,MACPG,UAAW,UAEbuC,OAAQ,SAACC,GAAD,OACN,6BACGA,QAAuBkH,IAAZlH,EACVA,EAAQ5I,UAAU+P,KAAI,SAAC/M,GAAD,OAAU,8BAAOA,EAAKlC,SAE5C,kCAAQ,YAAR,SAMVtB,KAAMW,EACN0J,QAAS,CACPC,SAAU,GACVC,gBAAiB,CAAC,EAAG,GAAI,QAzGA,yCC0OpB6d,GAlSA,WACb,IAAM5oB,EAASC,sCADI,EAEOiD,qBAFP,mBAEZ/B,EAFY,KAELsnB,EAFK,OAGevlB,qBAHf,mBAGZlC,EAHY,KAGD0nB,EAHC,OAIKxlB,oBAAS,GAJd,mBAIZoL,EAJY,KAINc,EAJM,KAMTrQ,EACNsH,qBAAWvD,GADb/D,KAAQA,KAGJsB,EAAG,uCAAG,4BAAAmD,EAAA,sEACSjB,EAAUxD,EAAKqC,WADxB,OACJZ,EADI,OAEVE,QAAQC,IAAI,aAAcH,GAC1BioB,EAASjoB,GAHC,2CAAH,qDAMTsD,qBAAU,WACH3C,GACHd,IAGY,uCAAG,8BAAAmD,EAAA,sEACKzC,EAAuBhC,EAAKqC,WADjC,OACTqD,EADS,OAEXkkB,EAAW,GACflkB,EAAMlD,QAAN,uCAAc,WAAOyC,GAAP,eAAAR,EAAA,sEACS5C,EAAYoD,GADrB,OACRX,EADQ,OAEZslB,EAAShnB,KAAK0B,GAFF,2CAAd,uDAIA3C,QAAQC,IAAI,QAASgoB,GACrBD,EAAaC,GARE,2CAAH,oDAUdpP,KACC,CAACpY,IA/Be,MAiCK+B,qBAjCL,mBAiCZuM,EAjCY,KAiCNC,EAjCM,KAiEbjJ,EAhBYC,aAAW,SAACC,GAAD,MAAY,CACvC2I,aAAc,CACZrH,UAAW,QAEbsH,QAAS,CACPtI,MAAO,QAETuI,WAAY,CACVxF,aAAc,MACdsB,OAAQ,UACR,SAAU,CACRrE,MAAO,OACPwE,UAAW,aAIDlD,GAGhB,SAASqH,EAAM3M,GACb,OAAO,kBAAC,KAAD,eAAU+F,UAAW,EAAG0E,QAAQ,UAAazK,IAGtD,IAAM4M,EAAc,SAACnF,EAAOoF,GACX,cAAXA,GAIJV,GAAQ,IAGV,OAAKjO,GAAUH,EAEb,kBAAC,IAAD,KACE,kBAAC,KAAD,CACEsI,MAAM,SACN9C,MAAO,CAAEM,aAAc,OAAQG,MAAO,QACtCuC,QAAS,CACP,CACEF,MAAO,SACPG,MAAO,SACPC,SAAU,SACVC,OAAQ,SAACC,GAAD,OACNA,EAAQC,OACN,yBACEC,IAAKF,EAAQC,OACbE,IAAI,SACJvD,MAAO,CAAES,MAAO,GAAI+C,aAAc,SAGpC,kBAACf,EAAA,EAAD,KACGW,EAAQ9H,KACNmI,MAAM,WACNC,KAAK,IACLC,gBAGT4F,cAAe,SAAC9M,GAAD,OACb,6BACE,kBAACgG,EAAA,EAAD,CAAQN,UAAWlC,EAAQ+I,YACzB,yBACE1F,IAAK2F,GAAc,wBACnB1F,IAAI,SACJU,QAAS,kBACPnE,SAAS0J,eAAe,cAAcC,YAI5C,kBAAC,KAAD,CACEnR,KAAK,OACLqB,GAAG,aACH2B,KAAK,OACL0E,MAAO,CACLQ,QAAS,QAEXkJ,WAAY,CAAEC,OAAQ,WACtBC,SAAU,SAACC,GAAD,OA1FN,SAACA,GACnB,IAAMZ,EAAOY,EAAEC,OAAOC,MAAM,GAC5B,GAAId,EAAK3Q,KAAK0R,QAAQ,SAAW,EAC/Bd,QADF,CAKA,IAAMe,EAAS,IAAIC,WACnBD,EAAOE,cAAclB,GACrBgB,EAAOG,UAAY,SAAUP,GAC3BX,EAAQe,EAAOpP,UAgFcwP,CAAYR,QAInCjG,YAAa,CACXnD,MAAO,QAGX,CACEqC,MAAO,QACPG,MAAO,OACPC,SAAU,QACVU,YAAa,CACXnD,MAAO,QAGX,CACEqC,MAAO,OACPG,MAAO,OACPC,SAAU,SACVU,YAAa,CACXnD,MAAO,OAETka,UAAW,CACTta,QAAS,QAGb,CACEyC,MAAO,WACPG,MAAO,WACPC,SAAU,QACVU,YAAa,CACXnD,MAAO,QAGX,CACEqC,MAAO,WACPG,MAAO,aACPC,SAAU,SACVU,YAAa,CACXnD,MAAO,MACPG,UAAW,UAEbuC,OAAQ,SAACC,GACP,IAAI4T,EAAMxc,EAAUkR,QAClB,SAAClO,GAAD,OAAUA,EAAK7D,KAAOyJ,EAAQiY,cAEhC,OAAO,6BAAMrE,EAAI3X,OAAS,EAAI2X,EAAI,GAAG1b,KAAO,cAE9CiO,cAAe,SAAC9M,GAAD,OACb,kBAAC0W,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACEC,QAAQ,kBACR5I,MAAM,WACN9Q,GAAG,kBACHiE,MACEnB,EAAM2G,QAAQiY,WACV5e,EAAM2G,QAAQiY,WACd7gB,EAAU,GAAGb,GAEnBiQ,SAAU,SAACC,GAAD,OAAOpN,EAAMmN,SAASC,EAAEC,OAAOlM,SAExCpD,EAAU+P,KAAI,SAAC/M,GAAD,OACb,kBAAC+V,GAAA,EAAD,CAAUjL,IAAK9K,EAAK7D,GAAIiE,MAAOJ,EAAK7D,IACjC6D,EAAKlC,cAQpBtB,KAAMW,EACNuI,SAAU,CACRyH,SAAU,SAACC,GAAD,OACR,IAAIC,SAAQ,SAACC,EAASC,GACpBnR,IAAM,CACJS,OAAQ,OACRC,IAAI,GAAD,OAAKd,EAAL,SACHyC,QAAS,CACP,eAAgB,mBAChBG,OAAQ,oBAEVpC,KAAM,CACJgR,KAAMJ,EAAQI,KACd3H,OAAQ4F,GAAQ,KAChBgC,SAAUL,EAAQK,SAClB3P,KAAMsP,EAAQtP,KACd4P,YAAaN,EAAQtP,KACrBV,UAAWrC,EAAKqC,UAChBoN,KAAM,SACNtK,OAAO,KAGR5D,MAAK,SAACqR,GACLvC,GAAQ,GACR/O,IACAiR,OAED7Q,OAAM,SAACzB,GACN0B,QAAQC,IAAI3B,GACZuS,WAGRM,YAAa,SAACT,EAASU,GAAV,OACX,IAAIT,SAAQ,SAACC,EAASC,GACpBnR,IAAM,CACJS,OAAQ,OACRC,IAAI,GAAD,OAAKd,EAAL,cACHyC,QAAS,CACP,eAAgB,mBAChBG,OAAQ,oBAEVpC,KAAM,CACJgR,KAAMJ,EAAQI,KACdwW,YAAa5W,EAAQuR,OAAS,KAC9BjR,YAAaN,EAAQtP,KACrBiQ,SAAUX,EAAQvH,QAAU,KAC5BnI,IAAK0P,EAAQ1P,IACbI,KAAMsP,EAAQtP,KACdoC,OAAO,EACP6B,IAAKqL,EAAQrL,KAAO,EACpByI,KAAM4C,EAAQ5C,MAAQ,YAGvBlO,MAAK,SAACC,GACL,IAAIsoB,EAASnpB,EACVopB,WAAW,SACXC,MAAM,OAAQ,KAAM,UACpBC,YAAW,SAACC,GACX7Z,GAAQ,GACR/O,IACAwoB,OAGJvX,OAED7Q,OAAM,SAACQ,GACNP,QAAQC,IAAIM,GACZsQ,WAGRS,YAAa,SAACF,GAAD,OACX1R,IACG6R,OADH,UACajS,EADb,iBAC4B8R,EAAQpQ,MACjCpB,MAAK,SAACC,GACL6O,GAAQ,GACRqZ,EAAStnB,EAAM+Q,QAAO,SAACgX,GAAD,OAAOA,EAAExnB,MAAQoQ,EAAQpQ,WAEhDjB,OAAM,SAACQ,GAAD,OAASP,QAAQC,IAAIM,QAElC4J,QAAS,CACPC,SAAU,GACVC,gBAAiB,CAAC,EAAG,GAAI,OAG7B,kBAACqH,GAAA,EAAD,CAAU9D,KAAMA,EAAM+D,iBAAkB,IAAM9D,QAASsB,GACrD,kBAACD,EAAD,CAAOrB,QAASsB,EAAayC,SAAS,WAAtC,8BA1M2B,yCCGpB6W,GArGG,SAAClmB,GAAW,IACpBkS,EAAsClS,EAAtCkS,QAASiU,EAA6BnmB,EAA7BmmB,WAAYC,EAAiBpmB,EAAjBomB,aA6DvB5iB,EA3DYC,aAAW,SAACC,GAAD,MAAY,CACvC2iB,gBAAiB,CACfld,cAAe,OACfrE,UAAW,SAEbwhB,OAAQ,CACNziB,aAAc,OACdD,QAAS,OACT,QAAS,CACPqO,WAAY,wCACZ9N,UAAW,WAGfoiB,UAAW,CACTtU,WAAY,wCACZ5M,WAAY,OAEdmhB,YAAa,CACXriB,UAAW,SACXP,QAAS,MACTuE,OAAQ,QACR,SAAU,CACRjE,WAAY,MACZF,MAAO,QACPmE,OAAQ,SAEV,aAAc,CACZ/C,SAAU,OACVd,gBAAiB,eAGrBmiB,mBAAoB,CAClBtiB,UAAW,SACXP,QAAS,MACTuE,OAAQ,QACR,SAAU,CACRjE,WAAY,MACZF,MAAO,QACPmE,OAAQ,SAEV,aAAc,CACZ/C,SAAU,OACVd,gBAAiB,eAGrBoiB,iBAAkB,CAChBviB,UAAW,SACXP,QAAS,MACTuE,OAAQ,QACR,SAAU,CACRjE,WAAY,OAEd,mBAAoB,CAClBI,gBAAiB,aACjBV,QAAS,MACTM,WAAY,WAIFoB,GAEhB,OACE,kBAACC,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,GACvB,kBAACF,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAACC,EAAA,EAAD,CAAOJ,UAAWlC,EAAQgjB,aACxB,uBAAG9gB,UAAWlC,EAAQ+iB,WAAtB,SACA,2BAAIrU,EAAQrT,MACZ,kBAACmH,EAAA,EAAD,CAAQN,UAAU,OAAQwM,EAAO,IAASlP,QAAQ,MAGtD,kBAACuC,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAACC,EAAA,EAAD,CAAOJ,UAAWlC,EAAQijB,oBACxB,uBAAG/gB,UAAWlC,EAAQ+iB,WAAtB,iBACA,2BAAIH,EAAavnB,MACjB,kBAACmH,EAAA,EAAD,CAAQN,UAAU,OAAQ0gB,EAAatjB,IAAKE,QAAQ,MAGxD,kBAACuC,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAACC,EAAA,EAAD,CAAOJ,UAAWlC,EAAQkjB,kBACxB,uBAAGhhB,UAAWlC,EAAQ+iB,WAAtB,eACA,kBAACvgB,EAAA,EAAD,CAAQN,UAAWlC,EAAQoD,OAAQE,IAAI,UACpCqf,GAAcA,EAAWvf,OACxB,yBAAKC,IAAKsf,EAAWvf,OAAQE,IAAI,WAEjCqf,EAAWtnB,KACRmI,MAAM,WACNC,KAAK,IACLC,eAGP,4BAAKif,EAAWtnB,MAChB,kBAACmH,EAAA,EAAD,CAAQN,UAAU,aAAcygB,EAAWrjB,IAAKE,QAAQ,QCyBnD2jB,GAtHK,SAAC3mB,GAAW,IAE5B4mB,EASE5mB,EATF4mB,cACAC,EAQE7mB,EARF6mB,UACAC,EAOE9mB,EAPF8mB,cACAC,EAME/mB,EANF+mB,WACAC,EAKEhnB,EALFgnB,WACAC,EAIEjnB,EAJFinB,UACAC,EAGElnB,EAHFknB,UACAC,EAEEnnB,EAFFmnB,QAwCI3jB,GAtCFxD,EADFonB,YAGgB3jB,aAAW,SAACC,GAAD,MAAY,CACvC4iB,OAAQ,CACNziB,aAAc,OACdD,QAAS,OACT,QAAS,CACPqO,WAAY,wCACZ9N,UAAW,WAGfqiB,YAAa,CACXziB,QAAS,OACTO,gBAAiB,UACjBT,aAAc,OACd,OAAQ,CACNG,MAAO,MACPE,WAAY,KACZG,MAAO,QACP4N,WAAY,yCAEd,SAAU,CACRjO,MAAO,KACPM,gBAAiB,QACjBkF,UAAW,gBACX+F,UAAW,4CAEb,UAAW,CACTvK,UAAW,OACXd,WAAY,KACZG,MAAO,QACP4N,WAAY,0CAGhBoV,aAAc,CACZrjB,MAAO,WAGKsB,IAIhB,OACE,kBAACC,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,GACvB,kBAACF,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAACC,EAAA,EAAD,CAAOJ,UAAWlC,EAAQgjB,aACxB,uBAAG9gB,UAAWlC,EAAQ+iB,WAAtB,+BACA,kCACA,8BAAOK,IAET,kBAAC9gB,EAAA,EAAD,CAAOJ,UAAWlC,EAAQgjB,aACxB,uBAAG9gB,UAAWlC,EAAQ+iB,WAAtB,iBACA,kCACA,8BAAOM,IAET,kBAAC/gB,EAAA,EAAD,CAAOJ,UAAWlC,EAAQgjB,aACxB,uBAAG9gB,UAAWlC,EAAQ+iB,WAAtB,qBACA,kCACA,8BAAOO,IAET,kBAAChhB,EAAA,EAAD,CAAOJ,UAAWlC,EAAQgjB,aACxB,uBAAG9gB,UAAWlC,EAAQ+iB,WAAtB,uBACA,kCACA,8BAAOU,IAET,kBAACnhB,EAAA,EAAD,CAAOJ,UAAWlC,EAAQgjB,aACxB,uBAAG9gB,UAAWlC,EAAQ+iB,WAAtB,uBACA,kCACA,8BAAOW,KAGX,kBAAC3hB,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAACC,EAAA,EAAD,CAAOJ,UAAWlC,EAAQgjB,aACxB,uBAAG9gB,UAAWlC,EAAQ+iB,WAAtB,yBACA,kCACA,8BAAOQ,IAET,kBAACjhB,EAAA,EAAD,CAAOJ,UAAWlC,EAAQgjB,aACxB,uBAAG9gB,UAAWlC,EAAQ+iB,WAAtB,yBACA,kCACA,8BAAOS,IAET,kBAAClhB,EAAA,EAAD,CAAOJ,UAAWlC,EAAQgjB,aACxB,uBAAG9gB,UAAWlC,EAAQ+iB,WAAtB,uBACA,kCACA,8BAAO,IAET,kBAACzgB,EAAA,EAAD,CAAOJ,UAAWlC,EAAQgjB,aACxB,uBAAG9gB,UAAWlC,EAAQ+iB,WAAtB,uBACA,kCACA,8BAAO,IAET,kBAACzgB,EAAA,EAAD,CAAOJ,UAAWlC,EAAQgjB,aACxB,uBAAG9gB,UAAWlC,EAAQ+iB,WAAtB,uBACA,kCACA,8BAAO,IAET,kBAACzgB,EAAA,EAAD,CAAOJ,UAAWlC,EAAQgjB,aACxB,uBAAG9gB,UAAWlC,EAAQ+iB,WAAtB,eACA,kCACA,8BAAOY,OCkOFG,GAtUC,WACd,IAAMvlB,EAAUC,cAENlG,EACNsH,qBAAWvD,GADb/D,KAAQA,KAHU,EAKUmE,qBALV,mBAKbiS,EALa,KAKJqV,EALI,OAMMtnB,mBAAS,IANf,mBAMbuB,EANa,KAMNC,EANM,OAOUxB,oBAAS,GAPnB,mBAObC,EAPa,KAOJC,EAPI,OAQgBF,qBARhB,mBAQbkmB,EARa,KAQDqB,EARC,OASoBvnB,qBATpB,mBASbmmB,EATa,KASCqB,EATD,OAWUxnB,mBAAS,IAXnB,mBAWJsB,GAXI,aAYsBtB,mBAAS,GAZ/B,mBAYb2mB,EAZa,KAYEc,EAZF,OAacznB,mBAAS,GAbvB,mBAab4mB,EAba,aAcsB5mB,mBAAS,IAd/B,mBAcb6mB,EAda,aAegB7mB,mBAAS,IAfzB,mBAeb8mB,EAfa,KAeDY,GAfC,QAgBgB1nB,mBAAS,GAhBzB,qBAgBb+mB,GAhBa,MAgBDY,GAhBC,SAiBc3nB,mBAAS,GAjBvB,qBAiBbgnB,GAjBa,MAiBFY,GAjBE,SAkBc5nB,mBAAS,GAlBvB,qBAkBbinB,GAlBa,MAkBFY,GAlBE,SAmBU7nB,mBAAS,GAnBnB,qBAmBbknB,GAnBa,MAmBJY,GAnBI,MAqBpBlnB,qBAAU,WACR,IAAMqZ,EAAqB,SAAChd,EAAImc,GAC9B,IAAI/b,EAAM,GAEV,IAAK,IAAMuO,KAAOwN,EAChB,GAAIA,EAAWxN,GAAK7K,eAAe,aAAc,CAC/C,IAAMjD,EAAYsb,EAAWxN,GAAK9N,UAClC,GAAIA,EAAUoc,MAAK,SAACC,GAAD,OAAOA,EAAEld,KAAOA,KAAK,CACtC,IAAM8qB,EAAUjqB,EAAUkR,QAAO,SAACgZ,GAAD,OAAQA,EAAG/qB,KAAOA,KACnDI,EAAIoB,KAAJ,2BACK2a,EAAWxN,IADhB,IAEE/I,IAAKklB,EAAQ,GAAGllB,IAAMklB,EAAQ,GAAGllB,IAAM,EACvCqjB,YAAY,MAKpB,OAAO7oB,GAGHF,EAAG,uCAAG,kGAAAmD,EAAA,sEACQtD,EAAanB,EAAKqC,WAD1B,cACNqD,EADM,gBrBkCWtE,EqB/BapB,EAAKqC,UrBgCpChB,IAAM,CACXS,OAAQ,MACRC,IAAI,GAAD,OAAKd,EAAL,qBAAwBG,KAE1BG,MAAK,SAACC,GACL,OAAOA,EAAIC,QAEZC,OAAM,SAACQ,GACNP,QAAQC,IAAIM,MqB3CF,cAGJkqB,EAHI,gBAKahpB,EAAWpD,EAAKqC,WAL7B,OAMVmc,GADIA,EALM,QAMcrL,QAAO,SAACC,GAAD,OAAOA,EAAElO,eAAe,WAGnDmnB,EAAY,EACZC,EAAa,EACbC,EAAgB,EAChBC,EAAqB,EACrBC,EAAgB,EAChBC,EAAkB,EACbC,EAAI,EAfH,aAeMA,EAAInO,EAAW1X,QAfrB,wBAgBF4X,EAAMF,EAAWmO,GAhBf,UrBogBShqB,EqBlfY+b,EAAI/b,IrBmfhCtB,IACJC,IADI,UACGL,EADH,iCACkC0B,GAAO,CAC5Ce,QAAS,CAAE,8BAA+B,OAE3CnC,MAAK,SAACC,GAGL,OAFaA,EAAIC,QAIlBC,OAAM,SAACzB,GAEN,OADA0B,QAAQC,IAAI,QAAS3B,GACdA,KqBhhBG,eAkBF8mB,EAlBE,iBAmBejjB,EAAY4a,EAAI/b,KAnB/B,QA0BR,GAPMiqB,EAnBE,OAsBRlO,EAAG,MAAYqI,EACfrI,EAAG,SAAekO,EAEdC,EAAe,EACf9F,EAAMjgB,OAAS,EAAG,CAKpB,IADAwlB,GAAcvF,EAAMjgB,OACXwX,EAAI,EAAGA,EAAIyI,EAAMjgB,OAAQwX,IAC1BwO,EAAO/F,EAAMzI,GACnBuO,GAAgBC,EAAKC,YAEvBV,GAAaQ,EAMf,GAJIG,EAAc,EACdC,EAAmB,EACnBC,EAAc,EACdC,EAAgB,EAChBP,EAAS9lB,OAAS,EACpB,IAASsM,EAAI,EAAGA,EAAIwZ,EAAS9lB,OAAQsM,KAC7Bga,EAAUR,EAASxZ,IAEflO,eAAe,cACvBkoB,EAAQloB,eAAe,gBAEvB8nB,GAAeK,OAAOD,EAAQE,WAC9BL,GAAoBI,OAAOD,EAAQG,kBACnCL,GAAeG,OAAOD,EAAQI,YAC9BL,GAAiBE,OAAOD,EAAQK,gBAItC/O,EAAG,cACDmO,EAAe,EAAIA,EAAe9F,EAAMjgB,OAAS,EACnD4X,EAAG,UAAgB,EACnBA,EAAG,cACDwO,EAAc,EACVQ,KAAKC,MAAOX,EAAcG,EAAiB,KAAO,IAClD,EACNzO,EAAG,WACDsO,EAAc,EACVU,KAAKC,MAAOX,GAAeG,EAAgBD,GAAgB,KAC7D,IACE,EACNxO,EAAG,UACDwO,EAAc,EACVQ,KAAKC,MAAOT,EAAcF,EAAe,KAAO,IAChD,EACNtO,EAAG,SACDwO,EAAc,EACVQ,KAAKC,OACHT,EAAcD,IACbD,EAAcC,GACjB,KACE,IACF,EACNvO,EAAG,QAAcqI,EAAMjgB,OACvB4X,EAAG,SAAe,EAClBA,EAAG,SAAe,EAClBA,EAAG,SAAe,EAElB6N,GAAiBS,EACjBR,GAAsBS,EACtBR,GAAiBS,EACjBR,GAAmBS,EAvFX,QAe6BR,IAf7B,wBA6IV,IApDAlnB,EAAW+Y,GAEPoP,EAAiBvB,EAAYC,EAC7BvlB,MAAM6mB,KACRA,EAAiB,GACnBhC,EAAiBgC,GAEbC,EAAcH,KAAKC,MAAOpB,EAAgBG,EAAmB,KAAO,IACpE3lB,MAAM8mB,KACRA,EAAc,GAChBhC,GAAcgC,GAEVC,EAAcJ,KAAKC,MAAOpB,GAAiBG,EAAkBD,GAAkB,KAAO,IACtF1lB,MAAM+mB,KACRA,EAAc,GAChBhC,GAAcgC,GAEVC,EAAaL,KAAKC,MAAOlB,EAAgBF,EAAiB,KAAO,IACjExlB,MAAMgnB,KACRA,EAAa,GACfhC,GAAagC,GAETC,EAAaN,KAAKC,OAClBlB,EAAgBD,IACfD,EAAgBC,GACnB,KACE,IAEAzlB,MAAMinB,KACRA,EAAa,GAEfhC,GAAagC,GAEb/B,GAAWK,GAYX5mB,EAAQA,EAAMsM,KAAI,SAACsM,GAAD,mBAAC,eACdA,GADa,IAEhB9Y,QAAS4Y,EAAmBE,EAAEld,GAAIod,QAGhCyP,EAAW,EACXC,GAAkB,EACbvB,EAAI,EAAGA,EAAIjnB,EAAMoB,OAAQ6lB,IAAK,CAMrC,IALM1nB,EAAOS,EAAMinB,GACfwB,EAAU,EAEVC,EAAS,EACTC,GAAY,EACPC,EAAI,EAAGA,EAAIrpB,EAAKO,QAAQsB,OAAQwnB,IAEvBC,OADV7P,EAAMzZ,EAAKO,QAAQ8oB,IACjBtnB,MAAamnB,GAAWd,OAAO3O,EAAI1X,MAE3BunB,MAAZ7P,EAAI1X,KAAeqmB,OAAO3O,EAAI1X,KAAOonB,IACvCC,EAAWC,EACXF,EAASf,OAAO3O,EAAI1X,MAIpBqnB,GAAY,IACd3oB,EAAMinB,GAAN,QAAoB0B,GAApB,YAA8C,EAC9C3C,EAAchmB,EAAMinB,GAAN,QAAoB0B,KAGpC3oB,EAAMinB,GAAN,IACEjnB,EAAMinB,GAAN,QAAoB7lB,OAAS,EACzBqnB,EAAUzoB,EAAMinB,GAAN,QAAoB7lB,OAC9B,EACFpB,EAAMinB,GAAN,IAAkBuB,IACpBA,EAAiBxoB,EAAMinB,GAAN,IACjBhB,EAAgBjmB,EAAMinB,KAExBsB,GACEvoB,EAAMinB,GAAN,QAAoB7lB,OAAS,EACzBqnB,EAAUzoB,EAAMinB,GAAN,QAAoB7lB,OAC9B,EAERnB,EAASD,GACT0mB,EAAQ,IAAUsB,KAAKC,MAAOM,EAAWvoB,EAAMoB,OAAU,KAAO,IAChE2kB,EAAWW,GACX/nB,GAAW,GAlLD,kCrBogBQ,IAAC1B,EAleEvB,IqBlCX,OAAH,qDAoLLsE,GAA0B,IAAjBA,EAAMoB,QACjBxF,MAED,CAACoE,IAEJ,IAAM8oB,GAAa,SAACzrB,GAClBkD,EAAQrD,KAAK,CACXwH,SAAU,IACVC,OAAQ,GACRC,KAAM,GACNzK,MAAO,CAAEsK,GAAIpH,EAAMqT,UAAS1Q,YAgC1BgC,GA5BYC,aAAW,SAACC,GAAD,MAAY,CACvC6mB,kBAAmB,CACjBphB,cAAe,QAEjBqhB,YAAa,CACXxmB,MAAO,OACPH,aAAc,OACdkD,aAAc,oBAEhB0jB,OAAQ,CACNnkB,YAAa,OACbokB,aAAc,QAEhBnO,UAAW,CACTjY,gBAAiB,UACjByC,aAAc,oBACd1C,MAAO,QACPF,UAAW,SACXgE,OAAQ,OACR/C,SAAU,OACVyS,cAAe,MACfhU,aAAc,QAEhBwjB,aAAc,CACZrjB,MAAO,OACPgB,UAAW,WAGCM,GAEhB,OAAIpF,EAAgB,kBAAC+e,GAAA,EAAD,OACpBxhB,QAAQC,IAAI,QAAS8D,GAEnB,kBAAC,IAAD,CAAWkE,UAAWlC,GAAQ+mB,mBAC5B,kBAACzkB,EAAA,EAAD,CAAOJ,UAAWlC,GAAQgnB,YAAazkB,UAAW,GAChD,yBAAKL,UAAWlC,GAAQ+Y,WACtB,oCAEF,yBAAK7W,UAAWlC,GAAQinB,QACtB,kBAAC,GAAD,CACEvY,QAASA,EACT1Q,MAAOA,EACPtB,QAASA,EACTimB,WAAYA,EACZC,aAAcA,KAGlB,kBAACtgB,EAAA,EAAD,CAAOC,UAAW,GAChB,kBAACkG,GAAA,EAAD,CACEvG,UAAWlC,GAAQ6jB,aACnBpZ,KAAK,QACLxD,QAAQ,WACRpG,MAAM,UACNmD,QAAS,kBAAM8iB,GAAW,8BAL5B,aAWJ,kBAACxkB,EAAA,EAAD,CAAOJ,UAAWlC,GAAQgnB,YAAazkB,UAAW,GAChD,yBAAKL,UAAWlC,GAAQ+Y,WACtB,2CAEF,yBAAK7W,UAAWlC,GAAQinB,QACtB,kBAAC,GAAD,CACE7D,cAAeA,EACfC,UAAWA,EACXC,cAAeA,EACfC,WAAYA,EACZC,WAAYA,GACZC,UAAWA,GACXC,UAAWA,GACXC,QAASA,MAGb,kBAACrhB,EAAA,EAAD,CAAOC,UAAW,GAChB,kBAACkG,GAAA,EAAD,CACEvG,UAAWlC,GAAQ6jB,aACnBpZ,KAAK,QACLxD,QAAQ,WACRpG,MAAM,UACNmD,QAAS,kBAAM8iB,GAAW,gCAL5B,gBCxRKK,GA1CG,SAAC3qB,GAAW,IAAD,EAC0BA,EAAMb,OAA9CyH,GADc,EACnBnI,IADmB,EACdmI,QAAQ/H,EADM,EACNA,KAAYiE,GADN,EACAyL,KADA,EACMzL,KAAKqjB,EADX,EACWA,WAsBhC3iB,EArBYC,aAAW,SAACC,GAAD,MAAY,CACvCknB,YAAa,CACX1mB,WAAY,MACZoU,aAAc,oBACdvU,QAAS,QAEX6C,OAAQ,CACNpC,YAAa,OACbZ,QAAS,MACToB,UAAW,QAEb6lB,UAAW,CACT1iB,OAAQ,OACRnE,MAAO,OACPoB,SAAU,OACVJ,UAAW,kBACXV,gBAAiB6hB,EAAa,aAAe,GAC7CjiB,WAAY,OACZN,QAAS,UAGG0B,GAChB,OACE,yBAAKI,UAAWlC,EAAQonB,aACtB,kBAAC5kB,EAAA,EAAD,CAAQN,UAAWlC,EAAQoD,OAAQE,IAAI,UACpCF,EACC,yBAAKC,IAAKD,EAAQE,IAAI,WAEtBjI,EACGmI,MAAM,WACNC,KAAK,IACLC,eAGP,4BAAKrI,GACL,kBAACmH,EAAA,EAAD,CAAQN,UAAWlC,EAAQqnB,WAAY/nB,KCN9BgoB,GA/BK,SAAC9qB,GAAW,IAAD,EACMA,EAAMe,KAAjC7D,EADqB,EACrBA,GAAI2B,EADiB,EACjBA,KAAMyC,EADW,EACXA,QAASwB,EADE,EACFA,IAerBU,EAbYC,aAAW,SAACC,GAAD,MAAY,CACvCqnB,UAAW,CACT/lB,UAAW,OACXd,WAAY,MACZoU,aAAc,oBACdvU,QAAS,OACT,QAAS,CAAES,YAAa,SAE1BylB,QAAS,CACPjlB,UAAW,OACXd,WAAY,WAGAoB,GAEhB,OACE,kBAAC,WAAD,KACE,yBAAKuG,IAAK3O,EAAIwI,UAAWlC,EAAQunB,WAC/B,4BAAKlsB,GACL,kBAACmH,EAAA,EAAD,CAAQN,UAAWlC,EAAQymB,SAAUnnB,IAEtCxB,EAAQwM,KAAI,SAACoB,GAAD,OACX,kBAAC,GAAD,CAAWrD,IAAKqD,EAAEzQ,IAAKU,OAAQ+P,SCqBxB8b,GA7CU,SAAChrB,GACxB,IADkC,EAClBgC,cACmBmX,SAASxd,MAApCuW,EAF0B,EAE1BA,QAAS1Q,EAFiB,EAEjBA,MA4BXgC,EAxBYC,aAAW,SAACC,GAAD,MAAY,CACvCunB,QAAS,CACPjmB,UAAW,OACXpB,QAAS,MACTM,WAAY,OACZM,YAAa,OACb2E,cAAe,QAEjB+hB,aAAc,CACZlnB,MAAO,OACPsU,aAAc,oBACdvU,QAAS,OACTS,YAAa,OACb,QAAS,CACPA,YAAa,SAGjB2mB,WAAY,CACVnmB,UAAW,OACXmD,OAAQ,OACRnE,MAAO,OACPE,WAAY,WAGAoB,GAEhB,OACE,kBAACQ,EAAA,EAAD,CAAOC,UAAW,EAAGL,UAAWlC,EAAQynB,SACtC,yBAAKvlB,UAAWlC,EAAQ0nB,cACtB,4BAAKhZ,EAAQrT,MACb,kBAACmH,EAAA,EAAD,CAAQN,UAAWlC,EAAQ2nB,YAAajZ,EAAQpP,MAEjDtB,EAAMsM,KAAI,SAACsM,GAAD,OACT,kBAAC,GAAD,CAAavO,IAAKuO,EAAEld,GAAI6D,KAAMqZ,S,8DC3BvBgR,GAdK,SAAC,GAAgB,IAAdjsB,EAAa,EAAbA,OAMfqE,EALYC,aAAW,SAACC,GAAD,MAAY,CACvC2nB,OAAQ,CACN/kB,YAAa5C,EAAM+B,QAAQ,OAGfH,GAChB,OACE,kBAACqG,GAAA,EAAD,CAAUC,QAAM,EAAClG,UAAWlC,EAAQ6nB,QACjClsB,EAAON,OC0BCysB,GAjCO,SAAC,GAAc,IAAZvqB,EAAW,EAAXA,KAAW,EACVd,oBAAS,GADC,mBAC3BoL,EAD2B,KACrBc,EADqB,KAMlC,OAA+B,IAAxBpL,EAAKO,QAAQsB,OAClB,kBAAC+I,GAAA,EAAD,CAAUC,QAAM,GACd,6BAAM7K,EAAKlC,MACX,kBAACkP,GAAA,EAAD,CACEtD,QAAQ,WACRwD,KAAK,QACLD,MAAK,wBAAmBjN,EAAK6lB,kBAIjC,kBAAC,WAAD,KACE,kBAACjb,GAAA,EAAD,CAAUC,QAAM,EAACpE,QAdD,WAClB2E,GAASd,KAcL,6BAAMtK,EAAKlC,MAEVwM,EAAO,kBAAC,KAAD,MAAiB,kBAAC,KAAD,OAE3B,kBAACkgB,GAAA,EAAD,CAAUC,GAAIngB,EAAMogB,QAAQ,OAAOC,eAAa,GAC9C,kBAAChgB,GAAA,EAAD,CAAMgR,UAAU,MAAMiP,gBAAc,GACjC5qB,EAAKO,QAAQwM,KAAI,SAACoB,GAAD,OAChB,kBAAC,GAAD,CAAarD,IAAKqD,EAAEzQ,IAAKU,OAAQ+P,WCqD9B0c,GA7EY,SAAC5rB,GAC1B,IACQwB,EADQQ,cACUmX,SAASxd,MAA3B6F,MAF4B,EAGZvB,oBAAS,GAHG,6BAKpCY,qBAAU,WACR,IAAK,IAAI4nB,EAAI,EAAGA,EAAIjnB,EAAMoB,OAAQ6lB,IAAK,CACrC,IAAM1nB,EAAOS,EAAMinB,GAEnB,GAAI1nB,EAAKC,eAAe,WAAY,CAYlC,IAXA,IAAI4lB,EAAgB,EAChBC,EAAY,EACZgF,EAAgB,EAChB7E,EAAa,EACb8E,EAAY,EACZC,EAAW,EACX5E,EAAU,EACV6E,EAAW,EACXC,EAAW,EACXC,EAAW,EAENhd,EAAI,EAAGA,EAAInO,EAAKO,QAAQsB,OAAQsM,IAAK,CAC5C,IAAMsL,EAAMzZ,EAAKO,QAAQ4N,GAEzB0X,GAAiBpM,EAAG,cACpBqM,GAAarM,EAAG,UAChBqR,GAAiBrR,EAAG,cACpBwM,GAAcxM,EAAG,WACjBsR,GAAatR,EAAG,UAChBuR,GAAYvR,EAAG,SACf2M,GAAW3M,EAAG,QACdwR,GAAYxR,EAAG,SACfyR,GAAYzR,EAAG,SACf0R,GAAY1R,EAAG,SAGjBzZ,EAAI,cAAoB6lB,EACxB7lB,EAAI,UAAgB8lB,EACpB9lB,EAAI,cAAoB8qB,EACxB9qB,EAAI,WAAiBimB,EACrBjmB,EAAI,UAAgB+qB,EACpB/qB,EAAI,SAAegrB,EACnBhrB,EAAI,QAAcomB,EAClBpmB,EAAI,SAAeirB,EACnBjrB,EAAI,SAAekrB,EACnBlrB,EAAI,SAAemrB,MAGtB,CAAC1qB,IAEJ,IAOMgC,EAPYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJK,MAAO,OACPsX,SAAU,IACVhX,gBAAiBZ,EAAMyoB,QAAQjc,WAAWkc,UAG9B9mB,GAEhB,OADA7H,QAAQC,IAAI,YAAa8D,GAEvB,kBAACkK,GAAA,EAAD,CACEgR,UAAU,MACVwI,kBAAgB,wBAChBmH,UACE,kBAACC,GAAA,EAAD,CAAe5P,UAAU,MAAMxf,GAAG,yBAAlC,qBAIFwI,UAAWlC,EAAQG,MAElBnC,EAAMsM,KAAI,SAACsM,GAAD,OACT,kBAAC,GAAD,CAAevO,IAAKuO,EAAEld,GAAI6D,KAAMqZ,SCDzBmS,OA5Df,WAAgB,IACNzwB,EAASsH,qBAAWvD,GAApB/D,KAOF0H,EANYC,aAAW,SAACC,GAAD,MAAY,CACvC8oB,IAAK,CACHloB,gBAAiB,cAILgB,GAQhB,OANAzE,qBAAU,WACJ/E,EAAKA,OAASA,EAAKkF,eAAe,WACpCqC,SAASC,qBAAqB,QAAQ,GAAGC,MACvC,+BACH,CAACzH,KAECA,EAAKA,MAASA,EAAKkF,eAAe,UAAYlF,EAAKC,MAC/C,kBAAC,GAAD,MAGP,kBAAC,IAAD,KACE,yBAAK2J,UAAWlC,EAAQgpB,KACtB,gCACE,kBAAC,GAAD,OAEF,kBAAC,IAAD,CACE/I,KAAK,IACL/c,OAAQ,SAAC1G,GACP,GAAIA,EAAMmZ,SAASxd,MAAO,CAAC,IACjBsK,EAAOjG,EAAMmZ,SAASxd,MAAtBsK,GACR,MAAW,YAAPA,EAAyB,kBAAC,GAAD,MACb,cAAPA,EAA2B,kBAAC,GAAD,MACpB,UAAPA,EAAuB,kBAAC,GAAD,MAChB,WAAPA,EAAwB,kBAAC,GAAD,MACjB,YAAPA,EAAyB,kBAAC,GAAD,MAClB,6BAAPA,EACA,kBAAC,GAAD,MACO,+BAAPA,EACA,kBAAC,GAAD,MACG,kBAAC,GAAD,MACP,GAAIjG,EAAMmZ,SAASnY,eAAe,OAAQ,CAAC,IAAD,EAC3BhB,EAAMmZ,SAAlBxR,EADuC,EACvCA,IAAKzK,EADkC,EAClCA,GAGb,OAFAyD,aAAa8gB,QAAQ,YAAa9Z,GAClChH,aAAa8gB,QAAQ,aAAcvkB,GACvB,aAARyK,EAA2B,kBAAC,GAAD,MACd,WAARA,EAAyB,kBAAC,GAAD,MACtB,kBAAC,GAAD,CAAM7L,KAAMA,EAAKA,OACxB,GAA0C,OAAtC6E,aAAaC,QAAQ,aAAuB,CACrD,IAAMqF,EAAKtF,aAAaC,QAAQ,aAChC,MAAW,aAAPqF,EAA0B,kBAAC,GAAD,MACd,WAAPA,EAAwB,kBAAC,GAAD,MACrB,kBAAC,GAAD,CAAMnK,KAAMA,EAAKA,OACxB,OAAO,kBAAC,GAAD,CAAMA,KAAMA,EAAKA,aCzDvB2wB,QACW,cAA7BzV,OAAOmC,SAASuT,UAEe,UAA7B1V,OAAOmC,SAASuT,UAEhB1V,OAAOmC,SAASuT,SAAS1lB,MACvB,2D,OCXN2lB,IAASjmB,OACP,kBAAC,IAAMkmB,WAAP,KACE,kBAAC,EAAD,KACE,kBAAC,GAAD,QAGJvpB,SAAS0J,eAAe,SDsHpB,kBAAmB8f,WACrBA,UAAUC,cAAcC,MACrB1vB,MAAK,SAAA2vB,GACJA,EAAaC,gBAEdzvB,OAAM,SAAAzB,GACL0B,QAAQ1B,MAAMA,EAAM0E,c","file":"static/js/main.5b10a513.chunk.js","sourcesContent":["export const authReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"LOGIN_SUCCESS\":\r\n      return { user: action.user, error: null };\r\n    case \"LOGIN_ERROR\":\r\n      return { user: null, error: action.error };\r\n    case \"SIGNUP_SUCCESS\":\r\n      return { user: action.user, error: null };\r\n    case \"SIGNUP_ERROR\":\r\n      return { user: null, error: action.error };\r\n    case \"SIGNOUT_SUCCESS\":\r\n      return { user: null, error: null };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/database\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/storage\";\r\n\r\n// Your web app's Firebase configuration\r\n/*var firebaseConfig = {\r\n  apiKey: \"AIzaSyDbNCNw9KO1FktwUOxmbL8OV7gS8PPQueg\",\r\n  authDomain: \"dashboard-wow.firebaseapp.com\",\r\n  databaseURL: \"https://dashboard-wow.firebaseio.com\",\r\n  projectId: \"dashboard-wow\",\r\n  storageBucket: \"dashboard-wow.appspot.com\",\r\n  messagingSenderId: \"164178732395\",\r\n  appId: \"1:164178732395:web:f0ca5cf36a61dc6e81982e\",\r\n  measurementId: \"G-MCRDHX2H33\",\r\n};*/\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyBBhN98UVqm5tpBERcwOlrCAvb4yei59aM\",\r\n  authDomain: \"wow2-5ef67.firebaseapp.com\",\r\n  databaseURL: \"https://wow2-5ef67.firebaseio.com\",\r\n  projectId: \"wow2-5ef67\",\r\n  storageBucket: \"wow2-5ef67.appspot.com\",\r\n  messagingSenderId: \"216079664705\",\r\n  appId: \"1:216079664705:web:86a591c5c042c1e69268c0\",\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n//firebase.firestore().settings({timestampsInSnapshots: true})\r\n\r\n// Initialize other services on firebase instance\r\nexport const db_firestore = firebase.firestore(); // <- needed if using firestore\r\nexport const db_realtime = firebase.database().ref();\r\nexport const storage = firebase.storage();\r\n\r\nexport default firebase;\r\n","import axios from \"axios\";\r\nimport { db_firestore, db_realtime } from \"../config/firebase\";\r\n\r\nconst apiUrl = process.env.REACT_APP_URL_API;\r\nconst apiVer = process.env.REACT_APP_API_VER;\r\n\r\nexport const getCampaigns = (id) => {\r\n  if (apiVer === 1)\r\n    return axios\r\n      .get(`${apiUrl}campa%C3%B1as.json`)\r\n      .then((res) => {\r\n        const result = res.data;\r\n        //var campStats = result[camp.name];\r\n\r\n        //console.log(\"ressss --> \", result);\r\n        const camps = Object.keys(result).map((i) => {\r\n          return {\r\n            id: i,\r\n            name: i,\r\n            avatar: \"./imgs/moto.png\",\r\n            headerColor: \"#00bcd4\",\r\n            fontColor: \"#00bcd4\",\r\n            backgroundImage: \"url\",\r\n            nps: result[i].rateCampaing,\r\n            loadText: \"Looking for a Seller\",\r\n            typeLogin: 1,\r\n          };\r\n        });\r\n\r\n        return camps;\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error\", error);\r\n      });\r\n  else\r\n    return axios\r\n      .get(`${apiUrl}companies/campaign/${id}`)\r\n      .then((res) => {\r\n        const result = res.data;\r\n\r\n        return result;\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error\", error);\r\n      });\r\n};\r\n\r\nexport const getCampaign = (id) => {\r\n  if (apiVer === 1)\r\n    return axios\r\n      .get(`${apiUrl}campa%C3%B1as.json`)\r\n      .then((res) => {\r\n        const result = res.data;\r\n        //var campStats = result[camp.name];\r\n\r\n        console.log(\"ressss --> \", result);\r\n        var camp = result[id];\r\n        console.log(id + \" -_-> \", result);\r\n        return {\r\n          id,\r\n          name: id,\r\n          avatar: \"./imgs/moto.png\",\r\n          headerColor: \"#00bcd4\",\r\n          fontColor: \"#00bcd4\",\r\n          backgroundImage: \"url\",\r\n          nps: camp.rateCampaing,\r\n          loadText: \"Looking for a Seller\",\r\n          typeLogin: 1,\r\n          online: 0,\r\n        };\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error\", error);\r\n      });\r\n  else\r\n    return axios({\r\n      method: \"get\",\r\n      url: `${apiUrl}campaign/${id}`,\r\n    })\r\n      .then((res) => {\r\n        const result = res.data;\r\n\r\n        //console.log(\"one campaign --> \", result);\r\n\r\n        return result;\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error\", error);\r\n      });\r\n};\r\n\r\nexport const getCompany = (id) => {\r\n  return axios({\r\n    method: \"get\",\r\n    url: `${apiUrl}companies/${id}`,\r\n  })\r\n    .then((res) => {\r\n      return res.data;\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const getCampaignsForCompany = (id) => {\r\n  return axios({\r\n    method: \"get\",\r\n    url: `${apiUrl}companies/${id}`,\r\n  })\r\n    .then((res) => {\r\n      return res.data.campaigns;\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const getSellersForCampaign = async (id) => {\r\n  if (apiVer === 1)\r\n    return axios\r\n      .get(`${apiUrl}/users.json`)\r\n      .then((res) => {\r\n        const result = res.data;\r\n        console.log(\"users --> \", result);\r\n        console.log(res);\r\n        var sellers = [];\r\n        for (let i in result) {\r\n          if (result[i].vendedor)\r\n            if (result[i].hasOwnProperty(\"retailers\"))\r\n              if (result[i][\"retailers\"].hasOwnProperty(id))\r\n                sellers.push({\r\n                  id: i,\r\n                  name: result[i].name,\r\n                  avatar: result[i].photo,\r\n                  email: result[i].mail,\r\n                  password: \"********\",\r\n                  nps: result[i].ratemedia,\r\n                });\r\n        }\r\n        console.log(\"sellers --> \", sellers);\r\n        return sellers;\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error\", error);\r\n      });\r\n\r\n  return axios\r\n    .get(`${apiUrl}users/listUsers/Campaign/${id}`)\r\n    .then((res) => {\r\n      const result = res.data;\r\n      //console.log(\"seller for campaign --> \", result);\r\n\r\n      return result;\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"error\", error);\r\n    });\r\n};\r\n\r\nexport const updateCampaign = (id) => {\r\n  return axios\r\n    .post(`${apiUrl}campaign/${id}`, {})\r\n    .then((res) => {\r\n      const result = res.data;\r\n\r\n      return result;\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"error\", error);\r\n    });\r\n};\r\n\r\nexport const getOnlineSellers = (users = null, idcompany = null) => {\r\n  if (apiVer === 1)\r\n    return axios\r\n      .get(`https://xinnux-chat-testing.firebaseio.com/user-names-online.json`)\r\n      .then((res) => {\r\n        const online = res.data;\r\n        //console.log(\"users online --> \", online);\r\n\r\n        if (online) {\r\n          return axios\r\n            .get(`https://xinnux-chat-testing.firebaseio.com/users.json`)\r\n            .then((res) => {\r\n              const result = res.data;\r\n              var sellers = [];\r\n              for (let i in online) {\r\n                const subId = Object.keys(online[i]);\r\n                const idSel = online[i][subId[0]].id;\r\n                const sel = result[idSel];\r\n                //console.log(\"sel ->>\", sel);\r\n                sellers.push({\r\n                  id: i,\r\n                  name: sel.name,\r\n                  avatar: sel.photo,\r\n                  email: sel.mail,\r\n                  password: \"********\",\r\n                  nps: sel.ratemedia,\r\n                });\r\n              }\r\n              //console.log(\"sellers --> \", sellers);\r\n              return sellers;\r\n            })\r\n            .catch((error) => {\r\n              console.log(\"error\", error);\r\n            });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error\", error);\r\n      });\r\n  else {\r\n    return axios\r\n      .get(`${apiUrl}users/seller-list/list`)\r\n      .then((res) => {\r\n        const result = res.data;\r\n        let retorno = [];\r\n\r\n        result.forEach((ret) => {\r\n          users.forEach((user) => {\r\n            user.forEach((data) => {\r\n              if (data.val().id === ret.uid && ret.idcompany === idcompany)\r\n                retorno.push(ret);\r\n            });\r\n          });\r\n        });\r\n\r\n        return retorno;\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error\", error);\r\n      });\r\n  }\r\n};\r\n\r\nexport const getOfflineSellers = (id) => {\r\n  if (apiVer === 1)\r\n    return axios\r\n      .get(`https://xinnux-chat-testing.firebaseio.com/user-names-online.json`)\r\n      .then((res) => {\r\n        const online = res.data;\r\n        //console.log(\"users online --> \", online);\r\n\r\n        return axios\r\n          .get(`https://xinnux-chat-testing.firebaseio.com/users.json`)\r\n          .then((res) => {\r\n            const result = res.data;\r\n            var sellers = [];\r\n            for (let i in online) {\r\n              delete result[i];\r\n            }\r\n\r\n            for (let i in result) {\r\n              if (result[i].vendedor)\r\n                sellers.push({\r\n                  id: i,\r\n                  name: result[i].name,\r\n                  avatar: result[i].photo,\r\n                  email: result[i].mail,\r\n                  password: \"********\",\r\n                  nps: result[i].ratemedia,\r\n                });\r\n            }\r\n            //console.log(\"offline sellers --> \", sellers);\r\n            return sellers;\r\n          })\r\n          .catch((error) => {\r\n            console.log(\"error\", error);\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error\", error);\r\n      });\r\n  else\r\n    return axios\r\n      .get(`${apiUrl}users/seller-list/list`)\r\n      .then((res) => {\r\n        const result = res.data;\r\n        let retorno = [];\r\n\r\n        result.forEach((ret) => {\r\n          if (ret.idcompany === id)\r\n            db_realtime\r\n              .child(\"user-names-online/\" + ret.name.toLowerCase())\r\n              .once(\"value\", (user) => {\r\n                if (!user.exists()) retorno.push(ret);\r\n              });\r\n        });\r\n\r\n        return retorno;\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error\", error);\r\n      });\r\n};\r\n\r\nexport const getSeller = (id) => {\r\n  if (apiVer === 1)\r\n    return axios\r\n      .get(`${apiUrl}users.json`)\r\n      .then((res) => {\r\n        const sellers = res.data;\r\n        //console.log(\"seller --> \", sellers[id]);\r\n        var sel = {\r\n          id: id,\r\n          name: sellers[id].name,\r\n          avatar: sellers[id].photo,\r\n          email: sellers[id].mail,\r\n          password: \"********\",\r\n          nps: sellers[id].ratemedia,\r\n        };\r\n\r\n        if (sellers[id].hasOwnProperty(\"retailers\")) {\r\n          const retailers = sellers[id][\"retailers\"];\r\n          var aux = [];\r\n          for (let i in retailers) {\r\n            aux.push({\r\n              id: i,\r\n              name: i,\r\n              avatar: \"./imgs/moto.png\",\r\n              headerColor: \"#00bcd4\",\r\n              fontColor: \"#00bcd4\",\r\n              backgroundImage: \"url\",\r\n              nps: retailers[i].rate,\r\n              loadText: \"Looking for a Seller\",\r\n              typeLogin: 1,\r\n              online: 0,\r\n            });\r\n          }\r\n        }\r\n\r\n        sel[\"campaigns\"] = aux;\r\n\r\n        return sel;\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error\", error);\r\n      });\r\n  else\r\n    return axios\r\n      .get(`${apiUrl}users/user/${id}`)\r\n      .then((res) => {\r\n        const seller = res.data;\r\n        //console.log(\"seller --> \", seller);\r\n\r\n        return seller;\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error\", error);\r\n      });\r\n};\r\n\r\nexport const getSellers = (id) => {\r\n  if (apiVer === 1)\r\n    return axios\r\n      .get(`/users.json`, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\",\r\n        },\r\n      })\r\n      .then((res) => {\r\n        const data = res.data;\r\n        //console.log(\"data --> \", data);\r\n        var sellers = [];\r\n        for (let i in data) {\r\n          if (data[i].vendedor)\r\n            sellers.push({\r\n              id: i,\r\n              name: data[i].name,\r\n              avatar: data[i].photo,\r\n              email: data[i].mail,\r\n              password: \"********\",\r\n              nps: data[i].ratemedia,\r\n            });\r\n        }\r\n        //console.log(\"all sellers --> \", data);\r\n        return sellers;\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error\", error);\r\n      });\r\n  else\r\n    return axios\r\n      .get(`${apiUrl}users/seller-list/list `)\r\n      .then((res) => {\r\n        let data = [];\r\n\r\n        res.data.forEach((seller) => {\r\n          if (seller.idcompany === id) data.push(seller);\r\n        });\r\n\r\n        return data;\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error\", error);\r\n      });\r\n};\r\n\r\nexport const getSellerCampaigns = (id) => {\r\n  /*return db_firestore\r\n    .collection(\"users\")\r\n    .doc(id)\r\n    .collection(\"campaings\")\r\n    .get()\r\n    .then((resp) => {\r\n      const snaps = resp.docs;\r\n\r\n      var aux = snaps.map((snap) => snap.data());\r\n      console.log(\"sellerCamps\", aux);\r\n      return aux;\r\n    });*/\r\n  return axios\r\n    .get(`${apiUrl}campaign/userCampaigns/${id}`)\r\n    .then((res) => {\r\n      const data = res.data;\r\n      console.log(\"test\", data);\r\n      return data;\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"error\", error);\r\n    });\r\n};\r\n\r\nexport const getClients = (id) => {\r\n  return axios\r\n    .get(`${apiUrl}users/clients/list/${id}`)\r\n    .then((res) => {\r\n      console.log(\"res\", res);\r\n      const data = [];\r\n      res.data.forEach((element) => {\r\n        if (element.idcompany === id) data.push(element);\r\n      });\r\n      return data;\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"error\", error);\r\n    });\r\n};\r\n\r\nexport const getAdmins = (id) => {\r\n  return axios\r\n    .get(`${apiUrl}users/admin-list/list`)\r\n    .then((res) => {\r\n      const data = [];\r\n      res.data.forEach((element) => {\r\n        if (element.idcompany === id) data.push(element);\r\n      });\r\n      return data;\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"error\", error);\r\n    });\r\n};\r\n\r\nexport const getUser = (uid) => {\r\n  return axios\r\n    .get(`${apiUrl}users/user/${uid}`, {\r\n      headers: { \"Access-Control-Allow-Origin\": \"*\" },\r\n    })\r\n    .then((res) => {\r\n      const data = res.data;\r\n      //console.log(\"getUser --> \", data);\r\n      return data;\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"error\", error);\r\n      return error;\r\n    });\r\n};\r\n\r\nexport const getUsersCampaign = (id) => {\r\n  return axios\r\n    .get(`${apiUrl}users/listUsers/Campaign/${id}`, {\r\n      headers: { \"Access-Control-Allow-Origin\": \"*\" },\r\n    })\r\n    .then((res) => {\r\n      const data = res.data;\r\n      return data;\r\n    })\r\n    .catch((error) => {\r\n      return error;\r\n    });\r\n};\r\n\r\nexport const getResourses = (uid) => {\r\n  return axios\r\n    .get(`${apiUrl}resource/${uid}`, {\r\n      headers: { \"Access-Control-Allow-Origin\": \"*\" },\r\n    })\r\n    .then((res) => {\r\n      const data = res.data;\r\n      //console.log(\"resourses --> \", data);\r\n      return data;\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"error\", error);\r\n      return error;\r\n    });\r\n};\r\n\r\nexport const getUserCampaigns = (camps) => {\r\n  /*return axios\r\n    .get(`${apiUrl}campaign/userCampaigns/list/${uid}`, {\r\n      headers: { \"Access-Control-Allow-Origin\": \"*\" },\r\n    })\r\n    .then((res) => {\r\n      const data = res.data;\r\n      console.log(\"user campaigns --> \", data);\r\n      return data;\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"error\", error);\r\n      return error;\r\n    });*/\r\n  return db_firestore\r\n    .collection(\"campaings\")\r\n    .get()\r\n    .then((resp) => {\r\n      const snaps = resp.docs;\r\n\r\n      var aux = [];\r\n      snaps.map((snap) => {\r\n        const idDoc = snap.id;\r\n        if (camps && camps.length > 0)\r\n          if (camps.includes(idDoc)) {\r\n            const data = snap.data();\r\n            aux.push({ ...data, id: idDoc });\r\n          }\r\n        return null;\r\n      });\r\n      //console.log(\"aux\", aux);\r\n      return aux;\r\n    });\r\n};\r\n\r\nexport const addSellerToCampaign = (campId, userId) => {\r\n  return axios\r\n    .post(`${apiUrl}campaign/assign/`, {\r\n      campaignId: campId,\r\n      userId: userId,\r\n    })\r\n    .then((res) => {\r\n      const data = res.data;\r\n      console.log(\"assign --> \", res);\r\n      return res;\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"error\", error);\r\n      return error;\r\n    });\r\n};\r\n\r\nexport const updateUser = (data) => {\r\n  console.log(data);\r\n  axios({\r\n    method: \"post\",\r\n    url: `${apiUrl}users/edit`,\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Accept: \"application/json\",\r\n    },\r\n    data: data,\r\n  })\r\n    .then((res) => {\r\n      console.log(\"user update --> \", res);\r\n      return res;\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"error\", error);\r\n      return error;\r\n    });\r\n};\r\n\r\nexport const getChats = (uid) => {\r\n  return axios\r\n    .get(`${apiUrl}stats/listCharlasUser/${uid}`, {\r\n      headers: { \"Access-Control-Allow-Origin\": \"*\" },\r\n    })\r\n    .then((res) => {\r\n      const data = res.data;\r\n      //console.log(\"chats --> \", data);\r\n      return data;\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"error\", error);\r\n      return error;\r\n    });\r\n};\r\n\r\nexport const getSessions = (uid) => {\r\n  return axios\r\n    .get(`${apiUrl}stats/listSessionUser/${uid}`, {\r\n      headers: { \"Access-Control-Allow-Origin\": \"*\" },\r\n    })\r\n    .then((res) => {\r\n      const data = res.data;\r\n      //console.log(\"sessions --> \", data);\r\n      return data;\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"error\", error);\r\n      return error;\r\n    });\r\n};\r\n\r\nexport const getServices = (uid) => {\r\n  return axios\r\n    .get(`${apiUrl}stats/levelofservice/${uid}`, {\r\n      headers: { \"Access-Control-Allow-Origin\": \"*\" },\r\n    })\r\n    .then((res) => {\r\n      const data = res.data;\r\n      //console.log(\"chats --> \", data);\r\n      return data;\r\n    })\r\n    .catch((error) => {\r\n      console.log(\"error\", error);\r\n      return error;\r\n    });\r\n};\r\n","import React, { createContext, useReducer, useEffect, useState } from \"react\";\r\nimport { authReducer } from \"../reducers/authReducer\";\r\nimport { getUser, getCampaign } from \"../middleware/Middleware\";\r\n\r\nexport const AuthContext = createContext();\r\n\r\nconst AuthContextProvider = (props) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [campaign, setCampaign] = useState();\r\n\r\n  const getCurrentUser = async (uid) => {\r\n    setLoading(true);\r\n    const data = await getUser(uid);\r\n    setLoading(false);\r\n    if (data.uid) {\r\n      dispatch({ type: \"LOGIN_SUCCESS\", user: data });\r\n      return { user: data, error: null };\r\n    } else return { user: null, error: { message: data } };\r\n  };\r\n\r\n  const [user, dispatch] = useReducer(\r\n    authReducer,\r\n    { user: null, error: null },\r\n    () => {\r\n      const uid = localStorage.getItem(\"user\");\r\n      return uid ? getCurrentUser(uid) : { user: null, error: null };\r\n    }\r\n  );\r\n\r\n  useEffect(\r\n    (id) => {\r\n      const getUserCampaing = async (id) => {\r\n        const camp = await getCampaign(id);\r\n        setCampaign(camp);\r\n      };\r\n\r\n      if (\r\n        user &&\r\n        user.user !== null &&\r\n        user.hasOwnProperty(\"user\") &&\r\n        !user.user.admin\r\n      ) {\r\n        getUserCampaing(user.campaigns[0]);\r\n      }\r\n    },\r\n    [user]\r\n  );\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, campaign, loading, dispatch }}>\r\n      {props.children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default AuthContextProvider;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Container, Paper, Grid } from \"@material-ui/core\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport PersonIcon from \"@material-ui/icons/Person\";\r\nimport StarIcon from \"@material-ui/icons/Star\";\r\nimport EqualizerIcon from \"@material-ui/icons/Equalizer\";\r\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\r\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport MaterialTable from \"material-table\";\r\nimport {\r\n  getOnlineSellers,\r\n  getOfflineSellers,\r\n  getSellers,\r\n  getCampaignsForCompany,\r\n} from \"../middleware/Middleware\";\r\nimport { db_realtime } from \"../config/firebase\";\r\nimport { AuthContext } from \"../contexts/AuthContext\";\r\n\r\nconst Main = (props) => {\r\n  const [sellers, setSellers] = useState([]);\r\n  const [camps, setCamps] = useState([]);\r\n  const [offLineSellers, setOfflineSeller] = useState([]);\r\n  const [totalNps, setTotalNps] = useState(0);\r\n  const [lastUpdate, setNewUpdate] = useState();\r\n  const history = useHistory();\r\n\r\n  const getOnline = async (sellers) => {\r\n    const sellersOnline = await getOnlineSellers(sellers, user.idcompany);\r\n    let rightNow = new Date();\r\n    rightNow = rightNow.getHours() + \":\" + rightNow.getMinutes();\r\n\r\n    setSellers(sellersOnline);\r\n    setNewUpdate(rightNow);\r\n    callGetSellers();\r\n  };\r\n  const getOffline = async () => {\r\n    const sellersOffline = await getOfflineSellers(user.idcompany);\r\n    setOfflineSeller(sellersOffline);\r\n  };\r\n\r\n  const callGetSellers = async () => {\r\n    let sellers = await getSellers(user.idcompany),\r\n      avgNPS = 0,\r\n      cant = 0;\r\n    if (sellers.length > 0) {\r\n      sellers.forEach((seller) => {\r\n        if (!isNaN(seller.nps) && seller.nps > 0) {\r\n          avgNPS += parseFloat(seller.nps);\r\n          cant++;\r\n        }\r\n      });\r\n    }\r\n\r\n    avgNPS > 0 ? (avgNPS /= cant) : (avgNPS = 0);\r\n    setTotalNps(avgNPS.toFixed(2));\r\n  };\r\n\r\n  const getUserNamesOnline = () => {\r\n    db_realtime.child(\"user-names-online\").once(\"value\", (registers) => {\r\n      getOnline(registers);\r\n      getOffline();\r\n    });\r\n  };\r\n  /*eslint-disable */\r\n  useEffect(() => {\r\n    getUserNamesOnline();\r\n\r\n    setInterval(() => getUserNamesOnline(), 60000);\r\n  }, []);\r\n  /*eslint-enable */\r\n\r\n  const {\r\n    user: { user },\r\n  } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    const get = async () => {\r\n      const camps = await getCampaignsForCompany(user.idcompany);\r\n      //console.log(\"camps\", camps);\r\n      setCamps(camps);\r\n    };\r\n    if (camps && camps.length === 0) {\r\n      get();\r\n    }\r\n  }, [camps, user]);\r\n\r\n  /*  \r\n  useEffect(() => {\r\n    const getCampaigns = async () => {\r\n      \r\n      //const camps = await getCampaigns();\r\n      //setTotalCamps(camps.length);\r\n      setTotalCamps(0);\r\n    };\r\n\r\n    getCampaigns();\r\n  }, []);\r\n*/\r\n  useEffect(() => {\r\n    document.getElementsByTagName(\"body\")[0].style =\r\n      \"background-color: #ffffff\";\r\n  });\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      padding: \"10px\",\r\n      marginBottom: \"40px\",\r\n    },\r\n    dataDiv: {\r\n      display: \"flex\",\r\n      \"&> div\": {\r\n        width: \"50%\",\r\n      },\r\n    },\r\n    iconTitle: {\r\n      marginLeft: \"0px\",\r\n      textAlign: \"center\",\r\n    },\r\n    personIcon: {\r\n      color: \"white\",\r\n      backgroundColor: \"#FFC107\",\r\n      float: \"left\",\r\n      marginLeft: \"25%\",\r\n      marginRight: \"10px\",\r\n    },\r\n    npcIcon: {\r\n      color: \"white\",\r\n      backgroundColor: \"tomato\",\r\n      float: \"left\",\r\n      marginLeft: \"25%\",\r\n      marginRight: \"10px\",\r\n    },\r\n    equalizerIcon: {\r\n      color: \"white\",\r\n      backgroundColor: \"#00bcd4\",\r\n      float: \"left\",\r\n      marginLeft: \"25%\",\r\n      marginRight: \"10px\",\r\n    },\r\n    iconNumber: {\r\n      textAlign: \"center\",\r\n    },\r\n    dataGrid: {\r\n      marginBottom: \"30px\",\r\n    },\r\n    defaultPaper: {\r\n      padding: \"20px\",\r\n      minHeight: \"200px\",\r\n    },\r\n    offlineSellers: {\r\n      marginTop: \"40px\",\r\n    },\r\n    linkButton: {\r\n      textDecoration: \"none\",\r\n      marginLeft: \"45%\",\r\n      \"&> svg\": { marginTop: \"10%\" },\r\n    },\r\n    updateTime: {\r\n      padding: \"0\",\r\n      fontSize: \".8rem\",\r\n      fontWeight: \"bold\",\r\n    },\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  const goToVendedor = (vendedor) => {\r\n    history.push({\r\n      pathname: \"/seller\",\r\n      id: vendedor.uid,\r\n      to2: \"seller\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      {/*\r\n      <Paper elevation={3} className={classes.root}>\r\n        <h3>Now in Wow!</h3>\r\n      </Paper>\r\n*/}\r\n      <Grid container spacing={1} className={classes.updateTime}>\r\n        <Grid item xs={12}>\r\n          <p>Última actualización: {lastUpdate}</p>\r\n        </Grid>\r\n      </Grid>\r\n      <Grid container spacing={3} className={classes.dataGrid}>\r\n        <Grid item xs={12} sm={4}>\r\n          <Paper elevation={3} className={classes.defaultPaper}>\r\n            <p className={classes.iconTitle}>Campaigns</p>\r\n            <Avatar className={classes.equalizerIcon}>\r\n              <EqualizerIcon />\r\n            </Avatar>\r\n            <h2 className={classes.iconNumber}>{camps.length}</h2>\r\n\r\n            <Link\r\n              to={{\r\n                pathname: \"/\",\r\n                search: \"\",\r\n                hash: \"\",\r\n                state: { to: \"campaigns\" },\r\n              }}\r\n              className={classes.linkButton}\r\n            >\r\n              <VisibilityIcon fontSize=\"large\" />\r\n            </Link>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={12} sm={4}>\r\n          <Paper elevation={3} className={classes.defaultPaper}>\r\n            <p className={classes.iconTitle}>Online Sellers</p>\r\n            <Avatar className={classes.personIcon}>\r\n              <PersonIcon />\r\n            </Avatar>\r\n            <h2 className={classes.iconNumber}>{sellers.length}</h2>\r\n            {/*\r\n            <p className={classes.iconNumber}>{\"0.00 % Online\"}</p>\r\n            */}\r\n            <Link\r\n              to={{\r\n                pathname: \"/\",\r\n                search: \"\",\r\n                hash: \"\",\r\n                state: { to: \"sellers\" },\r\n              }}\r\n              className={classes.linkButton}\r\n            >\r\n              <VisibilityIcon fontSize=\"large\" />\r\n            </Link>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={12} sm={4}>\r\n          <Paper elevation={3} className={classes.defaultPaper}>\r\n            <p className={classes.iconTitle}>NPS</p>\r\n            <Avatar className={classes.npcIcon}>\r\n              <StarIcon />\r\n            </Avatar>\r\n            <h2 className={classes.iconNumber}>{totalNps}</h2>\r\n            <Link\r\n              to={{\r\n                pathname: \"/\",\r\n                search: \"\",\r\n                hash: \"\",\r\n                state: { to: \"sellers\" },\r\n              }}\r\n              className={classes.linkButton}\r\n            >\r\n              <VisibilityIcon fontSize=\"large\" />\r\n            </Link>\r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      <MaterialTable\r\n        title=\"Online Sellers\"\r\n        style={{\r\n          paddingLeft: \"10px\",\r\n        }}\r\n        columns={[\r\n          {\r\n            title: \"Avatar\",\r\n            field: \"avatar\",\r\n            editable: \"always\",\r\n            render: (rowData) =>\r\n              rowData.avatar ? (\r\n                <img\r\n                  src={rowData.avatar}\r\n                  alt=\"avatar\"\r\n                  style={{ width: 50, borderRadius: \"30%\" }}\r\n                />\r\n              ) : (\r\n                <Avatar>\r\n                  {rowData.name\r\n                    .match(/\\b(\\w)/g)\r\n                    .join(\"\")\r\n                    .toUpperCase()}\r\n                </Avatar>\r\n              ),\r\n            headerStyle: {\r\n              width: \"25%\",\r\n            },\r\n          },\r\n          {\r\n            title: \"Email\",\r\n            field: \"mail\",\r\n            headerStyle: {\r\n              width: \"30%\",\r\n            },\r\n          },\r\n          {\r\n            title: \"Name\",\r\n            field: \"name\",\r\n            editable: \"never\",\r\n            headerStyle: {\r\n              width: \"30%\",\r\n            },\r\n          },\r\n          {\r\n            title: \"NPS\",\r\n            field: \"nps\",\r\n            editable: \"never\",\r\n            headerStyle: {\r\n              width: \"30%\",\r\n            },\r\n          },\r\n        ]}\r\n        data={sellers}\r\n        actions={[\r\n          {\r\n            icon: ArrowForwardIosIcon,\r\n            tooltip: \"Ver Vendedor\",\r\n            onClick: (event, rowData) => goToVendedor(rowData),\r\n          },\r\n        ]}\r\n        options={{\r\n          pageSize: 10,\r\n          pageSizeOptions: [5, 10, 20],\r\n        }}\r\n      />\r\n\r\n      {/* <div className={classes.offlineSellers}>\r\n        <MaterialTable\r\n          title=\"Offline Sellers\"\r\n          style={{\r\n            paddingLeft: \"10px\",\r\n          }}\r\n          columns={[\r\n            {\r\n              title: \"Avatar\",\r\n              field: \"avatar\",\r\n              editable: \"always\",\r\n              render: (rowData) =>\r\n                rowData.avatar ? (\r\n                  <img\r\n                    src={rowData.avatar}\r\n                    alt=\"avatar\"\r\n                    style={{ width: 50, borderRadius: \"30%\" }}\r\n                  />\r\n                ) : (\r\n                  <Avatar>\r\n                    {rowData.name\r\n                      .match(/\\b(\\w)/g)\r\n                      .join(\"\")\r\n                      .toUpperCase()}\r\n                  </Avatar>\r\n                ),\r\n              headerStyle: {\r\n                width: \"25%\",\r\n              },\r\n            },\r\n            {\r\n              title: \"Email\",\r\n              field: \"mail\",\r\n              headerStyle: {\r\n                width: \"30%\",\r\n              },\r\n            },\r\n            {\r\n              title: \"Name\",\r\n              field: \"name\",\r\n              editable: \"never\",\r\n              headerStyle: {\r\n                width: \"30%\",\r\n              },\r\n            },\r\n            {\r\n              title: \"NPS\",\r\n              field: \"nps\",\r\n              editable: \"never\",\r\n              headerStyle: {\r\n                width: \"30%\",\r\n              },\r\n            },\r\n          ]}\r\n          data={offLineSellers}\r\n          actions={[\r\n            {\r\n              icon: ArrowForwardIosIcon,\r\n              tooltip: \"Ver Vendedor\",\r\n              onClick: (event, rowData) => goToVendedor(rowData),\r\n            },\r\n          ]}\r\n        />\r\n      </div> */}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","import React, { useState, useContext, Fragment } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport firebase from \"../config/firebase\";\r\nimport {\r\n  AppBar,\r\n  Toolbar,\r\n  Typography,\r\n  IconButton,\r\n  Button,\r\n  Drawer,\r\n  Grid,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Badge,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport PersonIcon from \"@material-ui/icons/Person\";\r\nimport EqualizerIcon from \"@material-ui/icons/Equalizer\";\r\nimport PeopleAltIcon from \"@material-ui/icons/PeopleAlt\";\r\nimport ShowChartIcon from \"@material-ui/icons/ShowChart\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\n//import ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport ArrowDropDownCircleRoundedIcon from \"@material-ui/icons/ArrowDropDownCircleRounded\";\r\nimport SupervisorAccountIcon from \"@material-ui/icons/SupervisorAccount\";\r\n//import ClearIcon from \"@material-ui/icons/Clear\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\n//import Badge from \"@material-ui/core/Badge\";\r\n//import SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport { AuthContext } from \"../contexts/AuthContext\";\r\n\r\nconst NavBar = (props) => {\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      flexGrow: 1,\r\n      marginBottom: \"40px\",\r\n    },\r\n    appBar: { backgroundColor: \"#16192f\", minHeight: \"65px\", padding: \"5px\" },\r\n    appBarProfile: {\r\n      height: \"70px\",\r\n      width: \"100px\",\r\n      \"&> span\": {\r\n        marginLeft: \"25px\",\r\n        marginTop: \"15px\",\r\n        \"&> span\": {\r\n          borderRadius: \"50%\",\r\n          backgroundColor: \"white\",\r\n          border: \"2px white solid\",\r\n          width: \"50%\",\r\n          \"&:hover\": {\r\n            cursor: \"pointer\",\r\n          },\r\n        },\r\n      },\r\n    },\r\n    divProfile: {\r\n      width: \"60px\",\r\n    },\r\n    imgProfile: {\r\n      width: \"100%\",\r\n      objectFit: \"cover\",\r\n    },\r\n    logOutAvatar: {\r\n      width: \"8px\",\r\n      height: \"8px\",\r\n      backgroundColor: \"#635a58\",\r\n      padding: \"3px\",\r\n      border: \"1px solid white\",\r\n      cursor: \"pointer\",\r\n    },\r\n    menuButton: {\r\n      marginRight: theme.spacing(2),\r\n    },\r\n    clienteInfo: {\r\n      backgroundColor: \"#241332\",\r\n      height: \"150px\",\r\n      width: \"250px\",\r\n      borderRadius: \"0px 50px 0px 50px\",\r\n      display: \"flow-root\",\r\n      \"&> div\": {\r\n        marginTop: \"13%\",\r\n        marginBottom: \"5%\",\r\n        marginLeft: \"25px\",\r\n      },\r\n      \"&> h5\": {\r\n        color: \"white\",\r\n        height: \"fit-content\",\r\n        marginLeft: \"25px\",\r\n        fontSize: \"1rem\",\r\n      },\r\n      \"&> h6\": {\r\n        color: \"white\",\r\n        height: \"fit-content\",\r\n        marginLeft: \"25px\",\r\n        fontSize: \"0.7rem\",\r\n      },\r\n    },\r\n    title: {\r\n      flexGrow: 1,\r\n    },\r\n    userMenu: {\r\n      color: \"white\",\r\n    },\r\n    presentation: {\r\n      borderRadius: \"0px 50px 0px 50px\",\r\n    },\r\n    navLink: {\r\n      textDecoration: \"none\",\r\n      color: \"white\",\r\n      width: \"30%\",\r\n    },\r\n    headerLink: {\r\n      textDecoration: \"none\",\r\n      color: \"white\",\r\n      width: \"30%\",\r\n      \"& img\": {\r\n        width: \"50px\",\r\n        margin: \"10px\",\r\n      },\r\n    },\r\n    menuList: {\r\n      paddingTop: \"60px\",\r\n      paddingLeft: \"6px\",\r\n      paddingBottom: \"8px\",\r\n    },\r\n    sideMenuLink: {\r\n      textDecoration: \"none\",\r\n      color: \"#241332\",\r\n      \"&:hover\": {\r\n        backgroundColor: \"#eceaec\",\r\n      },\r\n    },\r\n    sideMenuLinkIcon: {\r\n      color: \"#5f4d4d\",\r\n    },\r\n    sideMenuDivider: {\r\n      backgroundColor: \"rgb(42, 72, 100)\",\r\n      height: \"2px\",\r\n      marginBottom: \"5px\",\r\n      marginTop: \"5px\",\r\n    },\r\n    logOutButton: {\r\n      marginTop: \"20%\",\r\n      \"& svg\": {\r\n        transform: \"rotate(180deg)\",\r\n        marginRight: \"30px\",\r\n      },\r\n    },\r\n    floatSignOut: {\r\n      width: 0,\r\n      height: 0,\r\n      marginLeft: \"55%\",\r\n      borderStyle: \"solid\",\r\n      borderWidth: \"0 5px 10px 5px\",\r\n      borderColor: \"transparent transparent #161930 transparent\",\r\n    },\r\n    floatSignOutContent: {\r\n      border: \"1px solid blue\",\r\n      borderRadius: \"5px 5px 5px 5px\",\r\n      backgroundColor: \"#161930\",\r\n      display: \"flex\",\r\n      \"& svg\": {\r\n        width: \"20px\",\r\n        transform: \"rotate(180deg)\",\r\n      },\r\n      \"& h6\": {\r\n        margin: \"5px\",\r\n      },\r\n      \"&:hover\": {\r\n        backgroundColor: \"tomato\",\r\n        cursor: \"pointer\",\r\n      },\r\n    },\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n  const {\r\n    user: { user },\r\n    campaign,\r\n    dispatch,\r\n  } = useContext(AuthContext);\r\n  const [showLogOut, setShowLogOut] = useState(false);\r\n\r\n  const handleSignout = () => {\r\n    firebase\r\n      .auth()\r\n      .signOut()\r\n      .then(() => {\r\n        localStorage.removeItem(\"user\");\r\n        localStorage.removeItem(\"lastRoute\");\r\n        localStorage.removeItem(\"idSelected\");\r\n        dispatch({\r\n          type: \"SIGNOUT_SUCCESS\",\r\n        });\r\n      });\r\n  };\r\n\r\n  const floatSignOut = (\r\n    <div>\r\n      <div className={classes.floatSignOut}></div>\r\n      <div className={classes.floatSignOutContent}>\r\n        <ExitToAppIcon />\r\n        <h6 onClick={handleSignout}>Log Out</h6>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className={classes.root}>\r\n        <AppBar position=\"static\" className={classes.appBar}>\r\n          <Toolbar className=\"root-menu\" variant=\"dense\">\r\n            <IconButton\r\n              edge=\"start\"\r\n              className={classes.menuButton}\r\n              color=\"inherit\"\r\n              aria-label=\"menu\"\r\n              onClick={() => setMenuOpen(true)}\r\n            >\r\n              <MenuIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              <NavLink\r\n                to={{\r\n                  pathname: \"/\",\r\n                  search: \"\",\r\n                  hash: \"\",\r\n                  state: { to: \"/\" },\r\n                }}\r\n                className={classes.headerLink}\r\n              >\r\n                <img src=\"./imgs/wow.png\" alt=\"wow\" />\r\n              </NavLink>\r\n            </Typography>\r\n            <div className={classes.appBarProfile}>\r\n              <Badge\r\n                overlap=\"circle\"\r\n                anchorOrigin={{\r\n                  vertical: \"bottom\",\r\n                  horizontal: \"right\",\r\n                }}\r\n                badgeContent={<ArrowDropDownCircleRoundedIcon color=\"action\" />}\r\n                onClick={() => setShowLogOut(!showLogOut)}\r\n              >\r\n                {user.avatar ? (\r\n                  <Avatar alt=\"profile\" src={user.avatar} />\r\n                ) : (\r\n                  <Avatar alt=\"profile\">\r\n                    {user.name\r\n                      .match(/\\b(\\w)/g)\r\n                      .join(\"\")\r\n                      .toUpperCase()}\r\n                  </Avatar>\r\n                )}\r\n              </Badge>\r\n              {showLogOut && floatSignOut}\r\n            </div>\r\n          </Toolbar>\r\n        </AppBar>\r\n      </div>\r\n      <Drawer open={menuOpen} onClose={() => setMenuOpen(false)}>\r\n        <div\r\n          role=\"presentation\"\r\n          className={classes.presentation}\r\n          onClick={() => setMenuOpen(false)}\r\n          onKeyDown={() => setMenuOpen(false)}\r\n        >\r\n          <Grid container justify=\"center\" className={classes.clienteInfo}>\r\n            {user.avatar ? (\r\n              <Avatar alt=\"profile\" src={user.avatar} />\r\n            ) : (\r\n              <Avatar alt=\"profile\">\r\n                {user.name\r\n                  .match(/\\b(\\w)/g)\r\n                  .join(\"\")\r\n                  .toUpperCase()}\r\n              </Avatar>\r\n            )}\r\n            <Typography variant=\"h5\">{user && user.name}</Typography>\r\n\r\n            <Typography variant=\"h6\">\r\n              {user && user.admin ? \"Admin\" : campaign.name}\r\n            </Typography>\r\n          </Grid>\r\n\r\n          <List className={classes.menuList}>\r\n            <NavLink\r\n              to={{\r\n                pathname: \"/\",\r\n                search: \"\",\r\n                hash: \"\",\r\n                state: { to: \"sellers\" },\r\n              }}\r\n              className={classes.sideMenuLink}\r\n            >\r\n              <ListItem button key={\"Sellers\"}>\r\n                <ListItemIcon className={classes.sideMenuLinkIcon}>\r\n                  <PersonIcon />\r\n                </ListItemIcon>\r\n                <ListItemText primary={\"Sellers\"} />\r\n              </ListItem>\r\n            </NavLink>\r\n            <NavLink\r\n              to={{\r\n                pathname: \"/\",\r\n                search: \"\",\r\n                hash: \"\",\r\n                state: { to: \"campaigns\" },\r\n              }}\r\n              className={classes.sideMenuLink}\r\n            >\r\n              <ListItem button key={\"Campaigns\"}>\r\n                <ListItemIcon className={classes.sideMenuLinkIcon}>\r\n                  <EqualizerIcon />\r\n                </ListItemIcon>\r\n                <ListItemText primary={\"Campaigns\"} />\r\n              </ListItem>\r\n            </NavLink>\r\n            <NavLink\r\n              to={{\r\n                pathname: \"/\",\r\n                search: \"\",\r\n                hash: \"\",\r\n                state: { to: \"reports\" },\r\n              }}\r\n              className={classes.sideMenuLink}\r\n            >\r\n              <ListItem button key={\"Reports\"}>\r\n                <ListItemIcon className={classes.sideMenuLinkIcon}>\r\n                  <ShowChartIcon />\r\n                </ListItemIcon>\r\n                <ListItemText primary={\"Reports\"} />\r\n              </ListItem>\r\n            </NavLink>\r\n            {user.admin && (\r\n              <NavLink\r\n                to={{\r\n                  pathname: \"/\",\r\n                  search: \"\",\r\n                  hash: \"\",\r\n                  state: { to: \"users\" },\r\n                }}\r\n                className={classes.sideMenuLink}\r\n              >\r\n                <ListItem button key={\"Clients\"}>\r\n                  <ListItemIcon className={classes.sideMenuLinkIcon}>\r\n                    <PeopleAltIcon />\r\n                  </ListItemIcon>\r\n                  <ListItemText primary={\"Clients\"} />\r\n                </ListItem>\r\n              </NavLink>\r\n            )}\r\n\r\n            <NavLink\r\n              to={{\r\n                pathname: \"/\",\r\n                search: \"\",\r\n                hash: \"\",\r\n                state: { to: \"admins\" },\r\n              }}\r\n              className={classes.sideMenuLink}\r\n            >\r\n              <ListItem button key={\"Admins\"}>\r\n                <ListItemIcon className={classes.sideMenuLinkIcon}>\r\n                  <SupervisorAccountIcon />\r\n                </ListItemIcon>\r\n                <ListItemText primary={\"Admins\"} />\r\n              </ListItem>\r\n            </NavLink>\r\n          </List>\r\n        </div>\r\n        <Button className={classes.logOutButton} onClick={handleSignout}>\r\n          <ExitToAppIcon />\r\n          <h4>Log Out</h4>\r\n        </Button>\r\n      </Drawer>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n\r\n/*\r\n<div className={classes.divProfile}>\r\n              <Badge\r\n                overlap=\"circle\"\r\n                anchorOrigin={{\r\n                  vertical: \"top\",\r\n                  horizontal: \"right\",\r\n                }}\r\n                badgeContent={\r\n                  <Avatar\r\n                    className={classes.logOutAvatar}\r\n                    onClick={handleSignout}\r\n                  >\r\n                    <ClearIcon />\r\n                  </Avatar>\r\n                }\r\n              >\r\n                <Avatar className={classes.profileIcon}>\r\n                  <img\r\n                    src=\"./imgs/mario.jpg\"\r\n                    width=\"100\"\r\n                    alt=\"Profile\"\r\n                    className={classes.imgProfile}\r\n                  />\r\n                </Avatar>\r\n              </Badge>\r\n            </div>\r\n*/\r\n\r\n/*\r\n<Avatar>\r\n                <img\r\n                  src={\"./imgs/mario.jpg\"}\r\n                  alt={\"...\"}\r\n                  className={classes.imgProfile}\r\n                />\r\n              </Avatar>\r\n*/\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Container, Input, Avatar } from \"@material-ui/core\";\r\nimport MaterialTable from \"material-table\";\r\n//import { db_firestore } from \"../config/firebase\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\r\nimport axios from \"axios\";\r\nimport { getSellers } from \"../middleware/Middleware\";\r\nimport { AuthContext } from \"../contexts/AuthContext\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\n\r\nconst Sellers = (props) => {\r\n  const [sellers, setSellers] = useState([]);\r\n  const [open, setOpen] = useState(false);\r\n  const apiUrl = process.env.REACT_APP_URL_API;\r\n  const history = useHistory();\r\n\r\n  const {\r\n    user: { user },\r\n  } = useContext(AuthContext);\r\n\r\n  const get = async () => {\r\n    const sels = await getSellers(user.idcompany);\r\n    console.log(\"Sellers \", sels);\r\n    setSellers(sels);\r\n  };\r\n\r\n  /*eslint-disable */\r\n  useEffect(() => {\r\n    get();\r\n  }, []);\r\n  /*eslint-enable */\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    sellersTable: {\r\n      marginTop: \"40px\",\r\n    },\r\n    popList: {\r\n      width: \"100%\",\r\n    },\r\n    uploadFile: {\r\n      borderRadius: \"30%\",\r\n      cursor: \"pointer\",\r\n      \"&> img\": {\r\n        width: \"100%\",\r\n        objectFit: \"cover\",\r\n      },\r\n    },\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  const [file, setFile] = useState();\r\n\r\n  const uploadImage = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file.type.indexOf(\"image\") < 0) {\r\n      setFile();\r\n      return;\r\n    }\r\n\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onloadend = function (e) {\r\n      setFile(reader.result);\r\n    };\r\n  };\r\n\r\n  const goToVendedor = (seller) => {\r\n    history.push({\r\n      pathname: \"/\",\r\n      id: seller.uid,\r\n      to2: \"seller\",\r\n    });\r\n  };\r\n\r\n  //SnackBar\r\n  function Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === \"clickaway\") {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <Container className={classes.sellersTable}>\r\n      <MaterialTable\r\n        title=\"Sellers\"\r\n        columns={[\r\n          {\r\n            title: \"Avatar\",\r\n            field: \"avatar\",\r\n            editable: \"always\",\r\n            editComponent: (props) => (\r\n              <div>\r\n                <Avatar className={classes.uploadFile}>\r\n                  <img\r\n                    src={file ? file : \"./imgs/fileUpload.png\"}\r\n                    alt=\"avatar\"\r\n                    onClick={() =>\r\n                      document.getElementById(\"fileUpload\").click()\r\n                    }\r\n                  />\r\n                </Avatar>\r\n                <Input\r\n                  type=\"file\"\r\n                  id=\"fileUpload\"\r\n                  name=\"file\"\r\n                  style={{\r\n                    display: \"none\",\r\n                  }}\r\n                  inputProps={{ accept: \"image/*\" }}\r\n                  //onChange={(e) => props.onChange(e.target.value)}\r\n                  onChange={(e) => uploadImage(e)}\r\n                />\r\n              </div>\r\n            ),\r\n            render: (rowData) =>\r\n              rowData.avatar ? (\r\n                <img\r\n                  src={rowData.avatar}\r\n                  alt=\"avatar\"\r\n                  style={{ width: 50, borderRadius: \"30%\" }}\r\n                />\r\n              ) : (\r\n                <Avatar>\r\n                  {rowData.name\r\n                    .match(/\\b(\\w)/g)\r\n                    .join(\"\")\r\n                    .toUpperCase()}\r\n                </Avatar>\r\n              ),\r\n            headerStyle: {\r\n              width: \"25%\",\r\n            },\r\n          },\r\n          {\r\n            title: \"Email\",\r\n            field: \"mail\",\r\n            editable: \"always\",\r\n            headerStyle: {\r\n              width: \"30%\",\r\n            },\r\n          },\r\n          {\r\n            title: \"Password\",\r\n            field: \"password\",\r\n            editable: \"always\",\r\n            headerStyle: {\r\n              width: \"30%\",\r\n              textAlign: \"center\",\r\n            },\r\n          },\r\n          {\r\n            title: \"Name\",\r\n            field: \"name\",\r\n            editable: \"always\",\r\n            headerStyle: {\r\n              width: \"30%\",\r\n            },\r\n          },\r\n          {\r\n            title: \"NPS\",\r\n            field: \"nps\",\r\n            editable: \"never\",\r\n            headerStyle: {\r\n              width: \"30%\",\r\n            },\r\n          },\r\n          {\r\n            title: \"Campañas asignadas\",\r\n            field: \"campañas\",\r\n            editable: \"never\",\r\n            render: (rowData) => (\r\n              <div>\r\n                {rowData && rowData !== undefined\r\n                  ? rowData.campaigns.map((camp) => (\r\n                      <Chip\r\n                        style={{ marginRight: \"5px\", marginBottom: \"5px\" }}\r\n                        label={camp.name}\r\n                        variant=\"default\"\r\n                        size=\"small\"\r\n                        color=\"primary\"\r\n                      />\r\n\r\n                      // <span\r\n                      //   style={{\r\n                      //     margin: \"0 5px\",\r\n                      //     fontSize: \"0.875rem\",\r\n                      //     fontFamily:\r\n                      //       '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n                      //     fontWeight: \"400\",\r\n                      //   }}\r\n                      //   key={camp.name}\r\n                      // >\r\n                      //   <strong style={{ marginRight: \"5px\" }}>|</strong>\r\n                      //   {camp.name}\r\n                      // </span>\r\n                    ))\r\n                  : null}\r\n              </div>\r\n            ),\r\n            headerStyle: {\r\n              width: \"50%\",\r\n              textAlign: \"center\",\r\n            },\r\n          },\r\n        ]}\r\n        data={sellers}\r\n        editable={{\r\n          onRowAdd: (newData) =>\r\n            new Promise((resolve, reject) => {\r\n              axios({\r\n                method: \"post\",\r\n                url: `${apiUrl}users`,\r\n                headers: {\r\n                  \"Content-Type\": \"application/json\",\r\n                  Accept: \"application/json\",\r\n                },\r\n                data: {\r\n                  avatar: newData.avatar,\r\n                  mail: newData.mail,\r\n                  password: newData.password,\r\n                  name: newData.name,\r\n                  displayName: newData.name,\r\n                  role: \"seller\",\r\n                  admin: false,\r\n                  idcompany: user.idcompany,\r\n                },\r\n              })\r\n                .then((resp) => {\r\n                  setOpen(true);\r\n                  resolve();\r\n                  goToVendedor(resp.data.userRecord);\r\n                })\r\n                .catch((error) => {\r\n                  console.log(\"error adding seller\", error);\r\n                  //setSellers([]);\r\n                  reject();\r\n                });\r\n            }),\r\n          onRowUpdate: (newData, oldData) =>\r\n            new Promise((resolve, reject) => {\r\n              axios({\r\n                method: \"post\",\r\n                url: `${apiUrl}users/edit`,\r\n                headers: {\r\n                  \"Content-Type\": \"application/json\",\r\n                  Accept: \"application/json\",\r\n                },\r\n                data: {\r\n                  mail: newData.mail,\r\n                  //phoneNumber: newData.phone || null,\r\n                  displayName: newData.name,\r\n                  photoURL: newData.avatar,\r\n                  uid: newData.uid,\r\n                  name: newData.name,\r\n                  nps: newData.nps || 0,\r\n                  admin: false,\r\n                  role: \"seller\",\r\n                },\r\n              })\r\n                .then((res) => {\r\n                  if (\r\n                    newData.password &&\r\n                    newData.password !== undefined &&\r\n                    newData.password !== \"\"\r\n                  )\r\n                    axios({\r\n                      method: \"post\",\r\n                      url: `${apiUrl}users/update-password`,\r\n                      headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        Accept: \"application/json\",\r\n                      },\r\n                      data: {\r\n                        password: newData.password,\r\n                        uid: newData.uid,\r\n                      },\r\n                    })\r\n                      .then((res) => {\r\n                        setOpen(true);\r\n                        resolve();\r\n                        goToVendedor(newData);\r\n                      })\r\n                      .catch((err) => console.log(err));\r\n                  else {\r\n                    setOpen(true);\r\n                    resolve();\r\n                    goToVendedor(newData);\r\n                  }\r\n                })\r\n                .catch((err) => {\r\n                  console.log(err);\r\n                  reject();\r\n                });\r\n            }),\r\n          onRowDelete: (oldData) =>\r\n            axios\r\n              .delete(`${apiUrl}users/${oldData.uid}`)\r\n              .then((res) => {\r\n                setOpen(true);\r\n                setSellers(sellers.filter((s) => s.uid !== oldData.uid));\r\n              })\r\n              .catch((err) => console.log(err)),\r\n        }}\r\n        actions={[\r\n          {\r\n            icon: ArrowForwardIosIcon,\r\n            tooltip: \"Ver Vendedor\",\r\n            onClick: (event, rowData) => goToVendedor(rowData),\r\n          },\r\n        ]}\r\n        options={{\r\n          pageSize: 10,\r\n          pageSizeOptions: [5, 10, 20],\r\n        }}\r\n      />\r\n      <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\r\n        <Alert onClose={handleClose} severity=\"success\">\r\n          Se guardaron los cambios\r\n        </Alert>\r\n      </Snackbar>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Sellers;\r\n","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faComment } from '@fortawesome/free-solid-svg-icons';\r\n\r\nexport class ButtonModelOne extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.style = {\r\n            height: '80px',\r\n            width: '80px',\r\n            borderRadius: '50%',\r\n            boxShadow: '0 0 5px #0a0a0a',\r\n            display: 'flex',\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n            position: 'fixed',\r\n            bottom: '20px',\r\n            zIndex: '99999'\r\n        }\r\n    }\r\n\r\n    render(){\r\n        let pos = (this.props.position == 'left') ? { left : '20px' } : { right : '20px'};\r\n        return(\r\n            <div \r\n                style={ \r\n                    Object.assign({},\r\n                        this.style,\r\n                        { backgroundColor: this.props.background },\r\n                        pos)\r\n                    }\r\n                onClick={ this.props.event }\r\n                id='bubble'\r\n            >\r\n                <FontAwesomeIcon \r\n                    icon={ faComment } \r\n                    style={{ color: this.props.colorText, width: '25px', height: '25px'}}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport class ButtonModelTwo extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            width: 'auto',\r\n        }\r\n\r\n        this.style = {\r\n            display: 'block',\r\n            padding: '5px 10px',\r\n            borderRadius: '0px 20px',\r\n            boxShadow: '0 2px 15px rgba(44, 80, 239, 0.21)',\r\n            position: 'fixed',\r\n            bottom: '20px'\r\n        }\r\n\r\n        this.expandContainer = this.expandContainer.bind(this);\r\n        this.hideContainer = this.hideContainer.bind(this);\r\n    }\r\n\r\n    expandContainer(){\r\n        this.setState({ width: '200px' });\r\n    }\r\n\r\n    hideContainer(){\r\n        this.setState({ width: 'auto' });\r\n    }\r\n\r\n    render(){\r\n        let pos = (this.props.position == 'left') ? { left : '20px' } : { right : '20px'};\r\n        return(\r\n            <div style={\r\n                Object.assign({},\r\n                    this.style,\r\n                    { backgroundColor: this.props.background }, \r\n                    { width: this.state.width },\r\n                    { color: this.props.colorText },\r\n                    pos\r\n                )}\r\n                data-text={ this.props.text }\r\n                onMouseEnter={ this.expandContainer }\r\n                onMouseLeave={ this.hideContainer }\r\n                onClick={ this.props.event }\r\n                id='bubble'\r\n            >\r\n                <svg x=\"0px\" y=\"0px\" viewBox=\"0 0 27 21.9\" role=\"img\" data-reactid=\".0.4.0\"\r\n                    style={\r\n                        Object.assign({},\r\n                        { height: '28px' },\r\n                        { width: '28px' })\r\n                    }\r\n                >\r\n                    <path \r\n                        fill={ this.props.colorText }\r\n                        d=\"M23.2,0L2.6,1.7C1,1.9,0,3.2,0,4.9v8c0,1.6,0.8,3,2.4,3.1l5.3,0.5c0,0,1,1.6,0.3,3.2C7.2,21.3,6,21.9,6,21.9 c4.2,0,6.6-3.1,7.8-4.9l9.4,0.7c1.8,0.2,3.8-1.3,3.8-3.1V3.1C27,1.3,25-0.1,23.2,0z M6.4,10.1c-0.9,0-1.7-0.7-1.7-1.7 c0-0.9,0.7-1.7,1.7-1.7C7.3,6.8,8,7.5,8,8.5C8,9.4,7.3,10.1,6.4,10.1z M13.2,10.1c-0.9,0-1.7-0.7-1.7-1.7c0-0.9,0.7-1.7,1.7-1.7 c0.9,0,1.7,0.7,1.7,1.7C14.8,9.4,14.1,10.1,13.2,10.1z M19.9,10.1c-0.9,0-1.7-0.7-1.7-1.7c0-0.9,0.7-1.7,1.7-1.7 c0.9,0,1.7,0.7,1.7,1.7C21.6,9.4,20.9,10.1,19.9,10.1z\"\r\n                        data-reactid=\".0.4.0.2\">\r\n                    </path>\r\n                </svg>\r\n                { (this.state.width != 'auto') \r\n                    ? <span style={ Object.assign({}, \r\n                        { display: 'inline-block' },\r\n                        { marginLeft: '10px' }\r\n                        )}>{ this.props.text }</span>\r\n                    : null }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n","import React from 'react';\r\n\r\nexport class Input extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <input \r\n                type={ this.props.type }\r\n                maxLength={ this.props.length || '' } \r\n                style={ this.props.style }\r\n                value={ this.props.text }\r\n                placeholder={ this.props.text }\r\n                onChange={ this.props.event }/> \r\n        );\r\n    }\r\n}\r\n\r\nexport class InputRange extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <input \r\n                type=\"range\" \r\n                min={ this.props.min } \r\n                max={ this.props.max }\r\n                onChange={ this.props.event }\r\n                name={ this.props.name }/>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport { InputRange } from './input.jsx';\r\n\r\nexport class Container extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.style = {\r\n            height: '400px',\r\n            width: '300px',\r\n            margin: '0 auto',\r\n            flexDirection: 'column',\r\n            boxShadow: '0 0 10px rgba(0, 0, 0, 0.5)',\r\n            borderRadius: '15px',\r\n            position: 'fixed',\r\n            bottom: '20px',\r\n            overflow: 'hidden',\r\n            zIndex: '99999'\r\n        }\r\n    }\r\n\r\n    render(){\r\n        let pos = (this.props.position == 'left') ? { left : '20px' } : { right : '20px'};\r\n        let display = (this.props.show) ? 'none' : 'block';\r\n\r\n        return(\r\n            <div style={ Object.assign({},\r\n                    this.style,\r\n                    pos,\r\n                    { display : display }\r\n                )}\r\n                id=\"chatbox\">\r\n                <div style={ \r\n                    Object.assign({}, titleStyle,   \r\n                    { backgroundColor: this.props.background},\r\n                    { color: this.props.colorText } )\r\n                }>\r\n                    <h3 style={ \r\n                        Object.assign({},\r\n                        { fontSize: '16px' },\r\n                        { fontFamily: 'sans-serif' },\r\n                        { fontWeight: '400' })\r\n                    }>\r\n                        Way of Works\r\n                    </h3>\r\n                    <p \r\n                        style={ {fontSize: '25px'} }\r\n                        onClick={ this.props.event }\r\n                        id=\"minMaxChatbox\"\r\n                    >\r\n                        -\r\n                    </p>\r\n                </div>\r\n                <iframe src={ 'https://chat.wow2.xinnux.com/' + \r\n                            this.props.company.toLowerCase() + '/' +\r\n                            this.props.campaign + '/index.html' }\r\n                    frameBorder='0'\r\n                    style={\r\n                        Object.assign({},\r\n                        { height: '92%' }, \r\n                        { width: '100%' },\r\n                        { display: 'inline-block' })\r\n                    }>\r\n                </iframe>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport class ColorSelector extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div style={{ margin: '10px auto' }}>\r\n                <div>Rojo: \r\n                    <InputRange type='range' min=\"0\" max=\"255\"\r\n                        event={ this.props.event } name='red'/> \r\n                    { this.props.red }\r\n                </div>\r\n                <div>Verde:\r\n                    <InputRange type=\"range\" min=\"0\" max=\"255\"\r\n                        event={ this.props.event } name='green'/> \r\n                    { this.props.green }\r\n                </div><div>Azul:\r\n                    <InputRange type=\"range\" min=\"0\" max=\"255\"\r\n                        event={ this.props.event } name='blue'/> \r\n                    { this.props.blue }\r\n                </div>    \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst titleStyle = {\r\n    height: '8%',\r\n    borderRadius: '15px 15px 0 0',\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: '10px',\r\n    boxShadow: '1px 1px 10px rgba(0, 0, 0, 0.5)',\r\n}","import React from 'react';\r\n\r\nexport class Parrafo extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n\r\n    render(){\r\n        return <p>{ this.props.title }</p>\r\n    }\r\n}","import React from 'react';\r\n\r\nexport class Circle extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <span \r\n                style={ this.props.style }\r\n                color={ this.props.color }\r\n                onClick={ this.props.event }>\r\n            </span>\r\n        );\r\n    }\r\n}","import axios from 'axios';\r\n\r\nconst apiUrl = process.env.REACT_APP_URL_API;\r\n\r\nexport async function tryDOM(DOM, marca){\r\n    let firstConfig = 'document.getElementById(\"bubble\").style.display = \"block\";' +\r\n            'document.getElementById(\"chatbox\").style.display = \"none\";',\r\n        clickOne = 'document.getElementById(\"bubble\").addEventListener(\"click\",' +\r\n        '() => { document.getElementById(\"bubble\").style.display = \"none\";' +\r\n        'document.getElementById(\"chatbox\").style.display = \"initial\"; });',\r\n        clickTwo = 'document.getElementById(\"minMaxChatbox\").addEventListener(\"click\",' +\r\n        '() => { document.getElementById(\"chatbox\").style.display = \"none\";' +\r\n        'document.getElementById(\"bubble\").style.display = \"initial\"; });',\r\n        staticScript = '<script>' + firstConfig + clickOne + clickTwo + '</script>',\r\n        finalString = DOM + staticScript;\r\n    let retorno = await axios({\r\n        method: 'POST',\r\n        url: `${apiUrl}files/floating-button`,\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json'\r\n        },\r\n        data: { \r\n            button: finalString,\r\n            marca: marca\r\n        }\r\n    })\r\n    .then(res => { return res.data })\r\n    .catch(err => { return err });\r\n\r\n    return retorno;\r\n}\r\n","import React from 'react';\r\nimport ReactDOMServer from 'react-dom/server';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCopy, faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport * as Buttons from './button.jsx';\r\nimport { Container, ColorSelector } from './container.jsx';\r\nimport { Parrafo } from './titles.jsx';\r\nimport { Circle } from './circle.jsx'; \r\nimport { Input } from './input.jsx';\r\nimport { tryDOM } from '../src/scriptGenerating.js';\r\n\r\nexport class ButtonContainer extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            generate: '',\r\n            model: '0',\r\n            color: 'white',\r\n            colorText: 'black',\r\n            position: 'right',\r\n            text: 'Charla con nosotros',\r\n            showBubble: true,\r\n            previsualizar: true,\r\n            backgroundBlue: 23,\r\n            backgroundRed: 49,\r\n            backgroundGreen: 120,\r\n            colorBlue: 233,\r\n            colorRed: 19,\r\n            colorGreen: 20\r\n        }\r\n\r\n        //Contenedores JSX\r\n        this.buttonModel = '';\r\n        this.containerIframe = '';\r\n        \r\n        //Eventos\r\n        this.changeModel = this.changeModel.bind(this);\r\n        this.changeBackground = this.changeBackground.bind(this);\r\n        this.changeColorText = this.changeColorText.bind(this);\r\n        this.changePosition = this.changePosition.bind(this);\r\n        this.changeText = this.changeText.bind(this);\r\n        this.generateScript = this.generateScript.bind(this);\r\n        this.chooseElementToShow = this.chooseElementToShow.bind(this);\r\n        this.changeCheckBox = this.changeCheckBox.bind(this);\r\n        this.changeCustomBackground = this.changeCustomBackground.bind(this);\r\n        this.changeCustomColor = this.changeCustomColor.bind(this);\r\n        this.copyContent = this.copyContent.bind(this);\r\n    }\r\n\r\n    //=======================Cambiar modelo\r\n    changeModel(ev){\r\n        this.setState({ model: ev.target.value });\r\n    }\r\n\r\n    //=======================Background\r\n    changeBackground(ev){\r\n        this.setState({ color: ev.target.getAttribute('color') });\r\n    }\r\n\r\n    //Cambio background custom\r\n    changeCustomBackground(ev){\r\n        switch(ev.target.getAttribute('name')){\r\n            case 'blue':\r\n                this.setState({ backgroundBlue : ev.target.value });\r\n                break;\r\n            case 'red':\r\n                this.setState({ backgroundRed : ev.target.value });\r\n                break;\r\n            case 'green':\r\n                this.setState({ backgroundGreen : ev.target.value });\r\n                break;\r\n        }\r\n    }\r\n\r\n    //=======================Color de texto\r\n    changeColorText(ev){\r\n        this.setState({ colorText: ev.target.getAttribute('color') });\r\n    }\r\n\r\n    //Cambio color de texto custom\r\n    changeCustomColor(ev){\r\n        switch(ev.target.getAttribute('name')){\r\n            case 'blue':\r\n                this.setState({ colorBlue : ev.target.value });\r\n                break;\r\n            case 'red':\r\n                this.setState({ colorRed : ev.target.value });\r\n                break;\r\n            case 'green':\r\n                this.setState({ colorGreen : ev.target.value });\r\n                break;\r\n        }\r\n    }\r\n\r\n    //=======================Comportamiento de botón\r\n    \r\n    //Desplegar/retraer\r\n    chooseElementToShow(){\r\n        this.setState({ showBubble: !this.state.showBubble })\r\n    }\r\n\r\n    //Checkbox \"previsualizar\"\r\n    changeCheckBox(){\r\n        this.setState({ previsualizar: !this.state.previsualizar });\r\n    }\r\n\r\n    //Fixed izquierda o derecha\r\n    changePosition(ev){\r\n        this.setState({ position: ev.target.value });\r\n    }\r\n    \r\n    //Cambiar texto a mostrar en :hover\r\n    changeText(ev){\r\n        this.setState({ text: ev.target.value });\r\n    }\r\n\r\n    //=========================== Generación Script\r\n    generateScript(){\r\n        let change = new Promise((res, rej) => {\r\n            this.setState({ showBubble: true });\r\n            res('ok');\r\n            rej('no');\r\n        });\r\n        change.then(async () => {\r\n            this.buttonModel = <Buttons.ButtonModelTwo\r\n                                    background={ this.state.color }\r\n                                    colorText={ this.state.colorText }\r\n                                    text={ this.state.text }\r\n                                    position={ this.state.position }\r\n                                    event={ this.chooseElementToShow }/>;\r\n            this.containerIframe = <Container\r\n                                    background={ this.state.color }\r\n                                    colorText={ this.state.colorText }\r\n                                    position={ this.state.position }\r\n                                    event={ this.chooseElementToShow }\r\n                                    show={ this.state.showBubble }\r\n                                    campaign={ this.props.campaign }\r\n                                    company={ this.props.company }/>;\r\n            let cnt =   <div style={ floatingStyle }>\r\n                            { this.buttonModel }{ this.containerIframe }\r\n                        </div>;\r\n            let script = await tryDOM(ReactDOMServer.renderToString(cnt), this.props.campaign);\r\n            this.setState({ generate: script.data });\r\n        });\r\n    }\r\n\r\n    //Copiar contenido (al hacer clic en el botón de copiar)\r\n    copyContent(){\r\n        document.getElementsByName('domGenerated')[0].select();\r\n        document.execCommand('copy');\r\n    }\r\n\r\n    render(){\r\n        switch(this.state.model){\r\n            case '0':\r\n            default:\r\n                this.buttonModel = null;\r\n                this.containerIframe = null;\r\n                break;\r\n            case '1':\r\n                this.buttonModel = <Buttons.ButtonModelOne \r\n                                    background={ this.state.color }\r\n                                    colorText={ this.state.colorText }\r\n                                    position={ this.state.position }\r\n                                    event={ this.chooseElementToShow }/>;\r\n                this.containerIframe = <Container\r\n                                    background={ this.state.color }\r\n                                    colorText={ this.state.colorText }\r\n                                    position={ this.state.position }\r\n                                    event={ this.chooseElementToShow }\r\n                                    campaign={ this.props.campaign }\r\n                                    company={ this.props.company }/>;\r\n                break;\r\n            case '2':\r\n                this.buttonModel = <Buttons.ButtonModelTwo\r\n                                    background={ this.state.color }\r\n                                    colorText={ this.state.colorText }\r\n                                    text={ this.state.text }\r\n                                    position={ this.state.position }\r\n                                    event={ this.chooseElementToShow }/>;\r\n                this.containerIframe = <Container\r\n                                    background={ this.state.color }\r\n                                    colorText={ this.state.colorText }\r\n                                    position={ this.state.position }\r\n                                    event={ this.chooseElementToShow }\r\n                                    show={ this.state.showBubble }\r\n                                    campaign={ this.props.campaign }\r\n                                    company={ this.props.company }/>;\r\n                break;\r\n        }\r\n\r\n        return(\r\n            <div style={ modalBackStyle }>\r\n                <div style={{\r\n                        backgroundColor: '#0a0a0a',\r\n                        color: '#fafafa',\r\n                        border: '1px solid #fafafa',\r\n                        width: '30px',\r\n                        height: '30px',\r\n                        borderRadius:'50%',\r\n                        top: '4%',\r\n                        left: 'calc(100% - (22.5% + 50%))',\r\n                        position: 'absolute',\r\n                        zIndex: '999999',\r\n                        lineHeight: '30px',\r\n                        textAlign: 'center'\r\n                    }} onClick={ this.props.event }>\r\n                    <FontAwesomeIcon icon={ faTimes }/>\r\n                </div>\r\n                <div style={ containerStyle }>\r\n                    <div style={ rowStyle }>\r\n                        <Parrafo title=\"Modelo de bot&#243;n\"/>\r\n                        <select \r\n                            value={ this.state.model }\r\n                            onChange={ this.changeModel }\r\n                            style={ Object.assign({}, {height: '30px'},{alignSelf: 'center'})}\r\n                        >\r\n                            <option value=\"0\">Elija modelo</option>\r\n                            <option value=\"1\">Modelo 1</option>\r\n                            <option value=\"2\">Modelo 2</option>\r\n                        </select>\r\n                    </div>\r\n                    <div>\r\n                        <Parrafo title={  'Color de fondo: ' + this.state.color }/>\r\n                        <div style={ rowStyle }>\r\n                            <Circle \r\n                                style={Object.assign({}, spanStyle, {backgroundColor: '#4e4376'} )}\r\n                                color='#4e4376'\r\n                                event={ this.changeBackground }/>\r\n                            <Circle \r\n                                style={Object.assign({}, spanStyle, {backgroundColor: '#ffffff'} )}\r\n                                color='#ffffff'\r\n                                event={ this.changeBackground }/>\r\n                            <Circle \r\n                                style={Object.assign({}, spanStyle, {backgroundColor: '#000000'} )}\r\n                                color='#000000'\r\n                                event={ this.changeBackground }/>\r\n                            <Circle \r\n                                style={Object.assign({}, spanStyle, { backgroundColor: \r\n                                    'rgb(' + \r\n                                    this.state.backgroundRed + ',' +\r\n                                    this.state.backgroundGreen + ',' +\r\n                                    this.state.backgroundBlue + ')'\r\n                                })}\r\n                                color={ 'rgb(' + \r\n                                    this.state.backgroundRed + ',' +\r\n                                    this.state.backgroundGreen + ',' +\r\n                                    this.state.backgroundBlue + ')' }\r\n                                event={ this.changeBackground }/>\r\n                        </div>\r\n                        <ColorSelector\r\n                            event={ this.changeCustomBackground }\r\n                            red={ this.state.backgroundRed }\r\n                            green={ this.state.backgroundGreen }\r\n                            blue={ this.state.backgroundBlue }/>\r\n                        <Parrafo title={ 'Color de texto: ' + this.state.colorText }/>\r\n                        <div style={ rowStyle }>\r\n                            <Circle \r\n                                style={Object.assign({}, spanStyle, {backgroundColor: '#4e4376'} )}\r\n                                color='#4e4376'\r\n                                event={ this.changeColorText }/>\r\n                            <Circle \r\n                                style={Object.assign({}, spanStyle, {backgroundColor: '#ffffff'} )}\r\n                                color='#ffffff'\r\n                                event={ this.changeColorText }/>\r\n                            <Circle \r\n                                style={Object.assign({}, spanStyle, {backgroundColor: '#000000'} )}\r\n                                color='#000000'\r\n                                event={ this.changeColorText }/>\r\n                            <Circle \r\n                                style={Object.assign({}, spanStyle, { backgroundColor: \r\n                                    'rgb(' + \r\n                                    this.state.colorRed + ',' +\r\n                                    this.state.colorGreen + ',' +\r\n                                    this.state.colorBlue + ')'\r\n                                })}\r\n                                color={ 'rgb(' + \r\n                                    this.state.colorRed + ',' +\r\n                                    this.state.colorGreen + ',' +\r\n                                    this.state.colorBlue + ')' }\r\n                                event={ this.changeColorText }/>\r\n                        </div>\r\n                        <ColorSelector\r\n                            event={ this.changeCustomColor }\r\n                            red={ this.state.colorRed }\r\n                            green={ this.state.colorGreen }\r\n                            blue={ this.state.colorBlue }/>\r\n                    </div>\r\n                    <div style={ Object.assign({}, rowStyle, { alignItems: 'center' })}>\r\n                        { (this.state.model == '2') ? <Parrafo title='Texto adicional'/> : null }\r\n                        { (this.state.model == '2') \r\n                            ? <Input type='text' length='40' style={ inputStyle }\r\n                                    text={ this.state.text } event={ this.changeText }/> \r\n                            : null }\r\n                    </div>\r\n                    <div style={ rowStyle }>\r\n                        <Parrafo title=\"Ubicaci&#243;n\"/>\r\n                        <select \r\n                            value={ this.state.position } onChange={ this.changePosition }\r\n                            style={ Object.assign({}, {height: '30px'},{alignSelf: 'center'})}\r\n                        >\r\n                            <option value=\"none\">Elija posici&#243;n</option>\r\n                            <option value=\"right\">Derecha</option>\r\n                            <option value=\"left\">Izquierda</option>\r\n                        </select>\r\n                    </div>\r\n                    <div style={ rowStyle }>\r\n                        <div style={{ display: 'flex', justifyContent: 'flex-start'}}>\r\n                            <Parrafo title=\"Previsualizar\"/>\r\n                            <input \r\n                                style={{ alignSelf: 'center' }}\r\n                                type=\"checkbox\"\r\n                                checked={ this.state.previsualizar }\r\n                                onChange={ this.changeCheckBox } />\r\n                        </div>\r\n                        <div style={ columnStyle }>\r\n                            { (this.state.previsualizar)\r\n                                ? (this.state.showBubble) ? this.buttonModel : this.containerIframe \r\n                                : null\r\n                            }\r\n                            { (this.buttonModel) \r\n                                ? <button\r\n                                    id='generar' \r\n                                    style={ buttonStyle }\r\n                                    onClick={ this.generateScript }>\r\n                                        Generar script\r\n                                    </button>\r\n                                : null }\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    { (this.state.generate != '')\r\n                        ?   <div style={{ \r\n                                display: 'flex', \r\n                                justifyContent: 'center',\r\n                                alignItems: 'center',\r\n                                borderTop: '1px solid #0a0a0a',\r\n                                width: '60%',\r\n                                margin: '0 auto',\r\n                                paddingTop: '2%' \r\n                            }}>\r\n                                <input type=\"text\" readOnly name=\"domGenerated\"\r\n                                    style={{\r\n                                        width: '100%',\r\n                                        padding: '3px',\r\n                                        textAlign: 'center'\r\n                                    }}\r\n                                    value={ this.state.generate }\r\n                                />\r\n                                <FontAwesomeIcon icon={faCopy}\r\n                                    style={{ marginLeft: '5px' }}\r\n                                    onClick={ this.copyContent }/>\r\n                            </div>\r\n                        : null }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n/* Estilos */\r\n\r\n//Background modal\r\nconst modalBackStyle={\r\n    position: 'fixed',\r\n    top: '0',\r\n    left: '0',\r\n    width: '100%',\r\n    height: '100%',\r\n    zIndex: '9999',\r\n    backgroundColor: 'rgba(0,0,0,.4)'\r\n}\r\n\r\n//Contenedor principal\r\nconst containerStyle= {\r\n    width: '45%',\r\n    padding: '2% 0',\r\n    boxShadow: '0px 0px 5px black',\r\n    fontFamily: 'Arial',\r\n    textAlign: 'center',\r\n    position: 'absolute',\r\n    top: '5%',\r\n    left: 'calc(100% - (22.5% + 50%))',\r\n    background: '#fff',\r\n    zIndex: '99999'\r\n};\r\n\r\n//Círculos de colores\r\nconst spanStyle= {\r\n    borderRadius: '50%',\r\n    border: '1.5px solid #fafafa',\r\n    boxShadow: '0px 0px 5px black',\r\n    width: '30px',\r\n    height: '30px',\r\n    display: 'block'\r\n};\r\n\r\n//Flex row\r\nconst rowStyle ={\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    width: '80%',\r\n    margin: '0 auto'\r\n}\r\n\r\n//Flex column\r\nconst columnStyle ={\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center'\r\n}\r\n\r\n//Botón de generar código\r\nconst buttonStyle ={\r\n    padding: '5px',\r\n    border: 'none',\r\n    marginTop: '15px',\r\n    boxShadow: '1px 1px 3px rgba(0,0,0,.3)'\r\n}\r\n\r\n//Texto de botón\r\nconst inputStyle ={\r\n    padding: '5px',\r\n    outline: 'none',\r\n    margin: '0 auto',\r\n    display: 'block'\r\n}\r\n\r\n//Contenedor de botón flotante\r\nconst floatingStyle = {\r\n    zIndex: '99999',\r\n    fontSize: '16px',\r\n    fontFamily: 'sans-serif',\r\n    fontWeight: 400\r\n}","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  Container,\r\n  Input,\r\n  MenuItem,\r\n  FormControl,\r\n  Select,\r\n  Avatar,\r\n  Button,\r\n} from \"@material-ui/core\";\r\nimport MaterialTable from \"material-table\";\r\n//import { db_firestore } from \"../config/firebase\";\r\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport CallMadeIcon from '@material-ui/icons/CallMade';\r\n//import axios from \"axios\";\r\nimport { getCampaigns } from \"../middleware/Middleware\";\r\nimport { AuthContext } from \"../contexts/AuthContext\";\r\nimport { ButtonContainer } from \"../floating-button/components/app.jsx\";\r\n\r\nconst Campaigns = (props) => {\r\n  const [camps, setCamps] = useState([]);\r\n  const [showGenerator, setButtonBehaviour] = useState(false);\r\n  const [iframeContent, setIframeContent] = useState(null);\r\n  //const apiUrl = process.env.REACT_APP_URL_API;\r\n\r\n  const history = useHistory();\r\n\r\n  const {\r\n    user: { user },\r\n  } = useContext(AuthContext);\r\n\r\n  const getCamps = async () => {\r\n    const camps = await getCampaigns(user.idcompany);\r\n    console.log(\"camps\", camps);\r\n    setCamps(camps);\r\n  };\r\n  /*eslint-disable */\r\n  useEffect(() => {\r\n    //if (camps && camps.length === 0) {\r\n    getCamps();\r\n    //}\r\n  }, []);\r\n  /*eslint-enable */\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    campaignsTable: {\r\n      marginTop: \"40px\",\r\n    },\r\n    selectInput: {\r\n      width: \"100%\",\r\n    },\r\n    uploadFile: {\r\n      borderRadius: \"30%\",\r\n      cursor: \"pointer\",\r\n      \"&> img\": {\r\n        width: \"100%\",\r\n        objectFit: \"cover\",\r\n      },\r\n    },\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  const [file, setFile] = useState();\r\n\r\n  const uploadImage = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file.type.indexOf(\"image\") < 0) {\r\n      setFile();\r\n      return;\r\n    }\r\n\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onloadend = function (e) {\r\n      setFile(reader.result);\r\n    };\r\n  };\r\n\r\n  const goToCampaign = (camp) => {\r\n    history.push({\r\n      pathname: \"/\",\r\n      id: camp.id,\r\n      to2: \"campaign\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container className={classes.campaignsTable}>\r\n      <MaterialTable\r\n        title=\"Campaigns\"\r\n        columns={[\r\n          {\r\n            title: \"Name\",\r\n            field: \"name\",\r\n            editable: \"always\",\r\n            headerStyle: {\r\n              width: \"30%\",\r\n              textAlign: \"center\",\r\n            },\r\n          },\r\n          {\r\n            title: \"Avatar\",\r\n            field: \"avatar\",\r\n            editable: \"always\",\r\n            render: (rowData) => (\r\n              <img\r\n                src={rowData.avatar ? rowData.avatar : \"./imgs/wow.png\"}\r\n                alt=\"avatar\"\r\n                style={{ width: 50, borderRadius: \"50%\" }}\r\n              />\r\n            ),\r\n            editComponent: (props) => (\r\n              <div>\r\n                <Avatar className={classes.uploadFile}>\r\n                  <img\r\n                    src={file ? file : \"./imgs/fileUpload.png\"}\r\n                    alt=\"avatar\"\r\n                    onClick={() =>\r\n                      document.getElementById(\"fileUpload\").click()\r\n                    }\r\n                  />\r\n                </Avatar>\r\n                <Input\r\n                  type=\"file\"\r\n                  id=\"fileUpload\"\r\n                  name=\"file\"\r\n                  style={{\r\n                    display: \"none\",\r\n                  }}\r\n                  inputProps={{ accept: \"image/*\" }}\r\n                  //onChange={(e) => props.onChange(e.target.value)}\r\n                  onChange={(e) => uploadImage(e)}\r\n                />\r\n              </div>\r\n            ),\r\n            headerStyle: {\r\n              width: \"25%\",\r\n            },\r\n          },\r\n          {\r\n            title: \"Type Login\",\r\n            field: \"typeLogin\",\r\n            editable: \"always\",\r\n            headerStyle: {\r\n              width: \"30%\",\r\n              textAlign: \"center\",\r\n            },\r\n            render: (rowData) => {\r\n              if (rowData.typeLogin === 1) return <div>Email and Pass</div>;\r\n              else if (rowData.typeLogin === 2) return <div>Just Name</div>;\r\n              else return <div>Just Email</div>;\r\n            },\r\n            editComponent: (props) => (\r\n              <FormControl className={classes.selectInput}>\r\n                <Select\r\n                  labelId=\"typeLogin-select\"\r\n                  label=\"Login Type\"\r\n                  defaultValue={1}\r\n                  id=\"typeLogin-select\"\r\n                  onChange={(e) => props.onChange(e.target.value)}\r\n                >\r\n                  <MenuItem key={1} value={\"1\"}>\r\n                    Email and Pass\r\n                  </MenuItem>\r\n                  <MenuItem key={2} value={\"2\"}>\r\n                    Just Name\r\n                  </MenuItem>\r\n                  <MenuItem key={3} value={\"3\"}>\r\n                    Just Email\r\n                  </MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            ),\r\n          },\r\n          {\r\n            title: \"NPS\",\r\n            field: \"nps\",\r\n            editable: \"never\",\r\n            headerStyle: {\r\n              width: \"30%\",\r\n            },\r\n          },\r\n          {\r\n            title: \"URL Sales\",\r\n            field: \"URL promotor\",\r\n            editable: \"never\",\r\n            headerStyle: {\r\n              width: \"30%\",\r\n            },\r\n            render: (rowData) => {\r\n              let url = 'https://chat.wow2.xinnux.com/'+user.name.toLowerCase().split(' ').join('') +'/sales'              \r\n              return(\r\n                <Button>\r\n                  <CallMadeIcon\r\n                    onClick={ e => window.open(url, '_blank')}\r\n                  />\r\n                </Button>\r\n              )\r\n            }\r\n          },\r\n          {\r\n            title: \"URL Cliente\",\r\n            field: \"URL cliente\",\r\n            editable: \"never\",\r\n            headerStyle: {\r\n              width: \"30%\",\r\n            },\r\n            render: (rowData) => {\r\n              let url = 'https://chat.wow2.xinnux.com/'+user.name.toLowerCase().split(' ').join('') +'/'+rowData.name.toLowerCase().split(' ').join('') +'/client'\r\n              return(\r\n                <Button>\r\n                  <CallMadeIcon\r\n                    onClick={ e => window.open(url, '_blank') }/>\r\n                </Button>\r\n              )\r\n            }\r\n          },\r\n          {\r\n            title: \"Embed Button\",\r\n            field: \"button\",\r\n            editable: \"never\",\r\n            headerStyle: {\r\n              width: \"30%\",\r\n            },\r\n            render: (rowData) => {\r\n              return (\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  onClick={() => {\r\n                    setButtonBehaviour(true);\r\n                    setIframeContent(rowData.name);\r\n                  }}\r\n                >\r\n                  Generate\r\n                </Button>\r\n              );\r\n            },\r\n          },\r\n        ]}\r\n        data={camps}\r\n        actions={[\r\n          {\r\n            icon: ArrowForwardIosIcon,\r\n            tooltip: \"Edit Campaign\",\r\n            onClick: (event, rowData) => goToCampaign(rowData),\r\n          },\r\n        ]}\r\n        options={{\r\n          pageSize: 10,\r\n          pageSizeOptions: [5, 10, 20],\r\n        }}\r\n      />\r\n      {showGenerator ? (\r\n        <ButtonContainer\r\n          event={() => setButtonBehaviour(false)}\r\n          campaign={iframeContent}\r\n          company={user.name}\r\n        />\r\n      ) : null}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Campaigns;\r\n\r\n/*\r\n\r\neditable={{\r\n          onRowAdd: (newData) =>\r\n            axios\r\n              .post(`${apiUrl}/campaign`, {\r\n                name: newData.name,\r\n                avatar: file,\r\n                typeLogin: newData.typeLogin,\r\n              })\r\n              .then(setCamps([]))\r\n              .catch((error) => {\r\n                console.log(\"error\", error);\r\n              }),\r\n          onRowDelete: (oldData) =>\r\n            axios\r\n              .delete(\r\n                `http://cors-anywhere.herokuapp.com/http://wow2api.herokuapp.com/api/v1/campaigns/${oldData.id}`\r\n              )\r\n              .then(setCamps(camps.filter((c) => c.id !== oldData.id))),\r\n        }}\r\n*/\r\n","import React, { useState } from \"react\";\r\nimport Downshift, { resetIdCounter } from \"downshift\";\r\nimport debounce from \"lodash.debounce\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport PersonIcon from \"@material-ui/icons/Person\";\r\nimport { Avatar } from \"@material-ui/core\";\r\n\r\nconst SearchSellers = (props) => {\r\n  const { sellers, addSeller } = props;\r\n  const [searchedItems, setItems] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const goToItem = (item) => {\r\n    //console.log(\"item selected\", item);\r\n    addSeller(item.uid);\r\n  };\r\n\r\n  const searchText = debounce((e) => {\r\n    setLoading({ loading: true });\r\n    var items_res = sellers.filter((item) =>\r\n      item.mail.toUpperCase().includes(e.target.value.toUpperCase())\r\n    );\r\n    setItems(items_res);\r\n    setLoading(false);\r\n  }, 350);\r\n  resetIdCounter();\r\n  //-webkit-writing-mode: horizontal-tb !important;\r\n  //-webkit-rtl-ordering: logical;\r\n  const useStyles = makeStyles((theme) => ({\r\n    searchInput: {\r\n      width: \"95%\",\r\n      padding: \"10px\",\r\n      border: 0,\r\n      fontSize: \"2rem\",\r\n      writingMode: \"horizontal-tb\",\r\n      textRendering: \"auto\",\r\n      color: \"-internal-light-dark-color(black, white)\",\r\n      letterSpacing: \"normal\",\r\n      wordSpacing: \"normal\",\r\n      textTransform: \"none\",\r\n      textIndent: \"0px\",\r\n      textShadow: \"none\",\r\n      display: \"inline-block\",\r\n      textAlign: \"start\",\r\n      backgroundColor: \"-internal-light-dark-color(white, black)\",\r\n      cursor: \"text\",\r\n      margin: \"0em\",\r\n      font: \"400 11px system-ui\",\r\n    },\r\n    loading: {\r\n      width: \"80%\",\r\n      height: \"40px\",\r\n      marginTop: \"20px\",\r\n      pointerEvents: \"none\",\r\n    },\r\n    dropDown: {\r\n      position: \"absolute\",\r\n      width: \"90%\",\r\n      zIndex: 100,\r\n      border: \"1px solid lightgray\",\r\n    },\r\n    dropDownItem: {\r\n      borderBottom: \"1px solid lightgrey\",\r\n      background: \"white\",\r\n      padding: \"1rem\",\r\n      transition: \"all 0.2s\",\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      borderLeft: \"10px solid white\",\r\n      \"&:hover\": {\r\n        paddingLeft: \"2rem\",\r\n        borderLeft: \"10px solid lightgrey\",\r\n      },\r\n    },\r\n    sellerAvatar: {\r\n      marginRight: \"15px\",\r\n    },\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Downshift\r\n      onChange={(e) => goToItem(e)}\r\n      itemToString={(item) => (item === null ? \"\" : item.mail)}\r\n    >\r\n      {({\r\n        getInputProps,\r\n        getItemProps,\r\n        isOpen,\r\n        inputValue,\r\n        highlightedIndex,\r\n      }) => (\r\n        <div>\r\n          <input\r\n            {...getInputProps({\r\n              type: \"text\",\r\n              placeholder: \"Add Seller\",\r\n              id: \"searchVendedor\",\r\n              className: classes.searchInput,\r\n              onChange: (e) => {\r\n                e.persist();\r\n                searchText(e);\r\n              },\r\n            })}\r\n          />\r\n          {isOpen && !loading && (\r\n            <div className={classes.dropDown}>\r\n              {searchedItems.map((item, index) => (\r\n                <div\r\n                  className={classes.dropDownItem}\r\n                  {...getItemProps({ item })}\r\n                  key={item.mail}\r\n                >\r\n                  {item.avatar ? (\r\n                    <Avatar className={classes.sellerAvatar}>\r\n                      <img\r\n                        src={item.avatar}\r\n                        alt=\"avatar\"\r\n                        style={{ width: 50, borderRadius: \"30%\" }}\r\n                      />\r\n                    </Avatar>\r\n                  ) : (\r\n                    <Avatar className={classes.sellerAvatar}>\r\n                      <PersonIcon />\r\n                    </Avatar>\r\n                  )}\r\n                  {item.mail} - {item.name}\r\n                </div>\r\n              ))}\r\n              {!searchedItems.length && !loading && (\r\n                <div className={classes.dropDownItem}>\r\n                  Nothing Found For {inputValue}{\" \"}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </Downshift>\r\n  );\r\n};\r\n\r\nexport default SearchSellers;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\n//import { db_firestore } from \"../config/firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  getCampaign,\r\n  getSellers,\r\n  getResourses,\r\n  addSellerToCampaign,\r\n  getUsersCampaign,\r\n} from \"../middleware/Middleware\";\r\nimport {\r\n  Container,\r\n  Paper,\r\n  Avatar,\r\n  Input,\r\n  Grid,\r\n  TextField,\r\n  FormControl,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\r\n//import PersonIcon from \"@material-ui/icons/Person\";\r\n//import StarIcon from \"@material-ui/icons/Star\";\r\n//import HelpOutlineIcon from \"@material-ui/icons/HelpOutline\";\r\nimport { Save } from \"@material-ui/icons\";\r\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\r\nimport MaterialTable from \"material-table\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport HelpIcon from \"@material-ui/icons/Help\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport Delete from \"@material-ui/icons/Delete\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\nimport SearchSellers from \"./SearchSellers\";\r\nimport axios from \"axios\";\r\nimport { BlockPicker } from \"react-color\";\r\nimport { AuthContext } from \"../contexts/AuthContext\";\r\n\r\nconst Campaign = (props) => {\r\n  const history = useHistory();\r\n\r\n  let id = history.location.id;\r\n  if (!id || id === \"undefined\") {\r\n    id = localStorage.getItem(\"idSelected\");\r\n    if (!id || id === \"undefined\") history.push(\"/\");\r\n  }\r\n\r\n  const apiUrl = process.env.REACT_APP_URL_API;\r\n  const [camp, setCamp] = useState();\r\n  const [sellers, setSellers] = useState([]);\r\n  const [allSellers, setAllSellers] = useState([]);\r\n  const [sellersCampaign, setSellersCampaign] = useState([]);\r\n  const [sellersCompany, setSellersCompany] = useState([]);\r\n  const [resources, setResources] = useState([]);\r\n  const [file, setFile] = useState();\r\n  const [fileBanner, setFileBanner] = useState();\r\n  const [fileBackground, setFileBackground] = useState();\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const {\r\n    user: { user },\r\n  } = useContext(AuthContext);\r\n\r\n  const handleChange = (event, name) => {\r\n    setCamp({ ...camp, [name]: event.target.value });\r\n  };\r\n\r\n  const handleChangeColor = (color) => {\r\n    setCamp({ ...camp, headerColor: color.hex });\r\n  };\r\n\r\n  const handleChangeColorFont = (color) => {\r\n    setCamp({ ...camp, fontColor: color.hex });\r\n  };\r\n\r\n  const handleBackColor = (color) => {\r\n    setCamp({ ...camp, backgroundColor: color.hex});\r\n  }\r\n\r\n  const getClientCampaing = async (id) => {\r\n    var camp = await getCampaign(id);\r\n    //console.log(\"camp ----->\", camp);\r\n    setCamp(camp);\r\n    return false;\r\n  };\r\n\r\n  const getSellersCampaign = (id, allSellers) => {\r\n    //var sellers = await getSellersForCampaign(id, allSellers);\r\n    var res = [];\r\n\r\n    for (const key in allSellers) {\r\n      if (allSellers[key].hasOwnProperty(\"campaigns\")) {\r\n        const campaigns = allSellers[key].campaigns;\r\n        if (campaigns.some((c) => c.id === id)) res.push(allSellers[key]);\r\n      }\r\n    }\r\n    setSellers(res);\r\n  };\r\n\r\n  const getAllSellers = async () => {\r\n    var sellersAll = await getSellers(user.idcompany);\r\n    var aux = sellersAll.filter((s) => s.hasOwnProperty(\"mail\"));\r\n    aux = aux.filter((s) => {\r\n      for (const sel in sellers) {\r\n        if (sel.id === s.id || !s.hasOwnProperty(\"mail\")) return false;\r\n      }\r\n\r\n      return true;\r\n    });\r\n\r\n    //console.log(\"aux\", aux);\r\n    setAllSellers(aux);\r\n    getSellersCampaign(id, aux);\r\n    getSellersCompany(id, aux);\r\n  };\r\n\r\n  const getSellersCompany = async (id, allSellers) => {\r\n    let res = [];\r\n\r\n    for (const key in allSellers) {\r\n      if (allSellers[key].hasOwnProperty(\"campaigns\")) {\r\n        const campaigns = allSellers[key].campaigns;\r\n        let finded = false;\r\n        campaigns.forEach((camp) => {\r\n          if (camp.id === id) finded = true;\r\n        });\r\n        if (!finded) res.push(allSellers[key]);\r\n      }\r\n    }\r\n    setSellersCompany(res);\r\n  };\r\n\r\n  const addNewSeller = (res, sellerId) => {\r\n    if (res.statusText === \"OK\") {\r\n      setSellers([...sellers, allSellers.filter((s) => s.uid === sellerId)[0]]);\r\n      getSellersForCampaign();\r\n    }\r\n  };\r\n\r\n  const addSeller = async (sellerId) => {\r\n    const promise = await addSellerToCampaign(id, sellerId);\r\n    Promise.resolve(promise).then((res) =>\r\n      Promise.resolve(addNewSeller(res, sellerId))\r\n    );\r\n    //if (resp.statusText === \"OK\") getSellersCampaign(id, allSellers);\r\n  };\r\n\r\n  //Tool Tip Info theme\r\n  const HtmlTooltip = withStyles((theme) => ({\r\n    tooltip: {\r\n      backgroundColor: \"#f5f5f9\",\r\n      color: \"rgba(0, 0, 0, 0.87)\",\r\n      maxWidth: 220,\r\n      maxHeight: 220,\r\n      fontSize: theme.typography.pxToRem(12),\r\n      border: \"1px solid #dadde9\",\r\n    },\r\n  }))(Tooltip);\r\n\r\n  const getSellersForCampaign = async () => {\r\n    const ress = await getUsersCampaign(id);\r\n    let sellers = [];\r\n    ress.map((sel) => {\r\n      if (sel.role == \"seller\") sellers.push(sel);\r\n    });\r\n    setSellersCampaign(sellers);\r\n    return false;\r\n  };\r\n\r\n  const getResoursesforCampaign = async () => {\r\n    const ress = await getResourses(id);\r\n    setResources(ress);\r\n    return false;\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (id && id !== \"undefined\") {\r\n      if (!camp) {\r\n        getClientCampaing(id);\r\n      }\r\n\r\n      if (allSellers.length === 0) {\r\n        getSellersForCampaign();\r\n      }\r\n\r\n      if (resources.length === 0) {\r\n        getResoursesforCampaign();\r\n      }\r\n\r\n      getAllSellers();\r\n    }\r\n  }, [id]);\r\n\r\n  //SnackBar\r\n  function Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  };\r\n\r\n  \r\n  const useStyles = makeStyles((theme) => ({\r\n    campaniaInfo: {\r\n      width: \"100%\",\r\n      paddingBottom: \"10px\",\r\n      marginBottom: \"20px\",\r\n      borderRadius: \"0px 50px 0px 0px\",\r\n    },\r\n    dataDiv: {\r\n      display: \"flex\",\r\n      \"&> div\": {\r\n        width: \"50%\",\r\n      },\r\n    },\r\n    defaultGrid: {\r\n      display: \"flex\",\r\n      \"&> div\": {\r\n        marginLeft: \"20%\",\r\n      },\r\n    },\r\n    columnGrid:{\r\n      display: 'flex',\r\n      flexDirection: 'column'\r\n    },\r\n    textInputTitle: {\r\n      marginLeft: \"10%\",\r\n      \"& label\": {\r\n        fontSize: \"26px\",\r\n      },\r\n      \"& div\": {\r\n        fontSize: \"21px\",\r\n      },\r\n    },\r\n    textInputLoadText: {\r\n      \"& label\": {\r\n        fontSize: \"26px\",\r\n      },\r\n      \"& div\": {\r\n        fontSize: \"21px\",\r\n        color: '#0a0a0a',\r\n      },\r\n    },\r\n    selectInput: {\r\n      marginLeft: \"10%\",\r\n      marginTop: \"15px\",\r\n      width: \"40%\",\r\n    },\r\n    selectInput2: {\r\n      width: \"100%\",\r\n    },\r\n    campAvatar: {\r\n      width: \"130px\",\r\n      height: \"130px\",\r\n      marginRight: \"200px\",\r\n      \"&> img\": {\r\n        width: \"100%\",\r\n        objectFit: \"cover\",\r\n      },\r\n    },\r\n    imgPreview: {},\r\n    iconTitle: {\r\n      marginLeft: \"0px\",\r\n    },\r\n    personIcon: {\r\n      color: \"white\",\r\n      backgroundColor: \"#FFC107\",\r\n      float: \"left\",\r\n      marginLeft: \"20%\",\r\n    },\r\n    npcIcon: {\r\n      color: \"white\",\r\n      backgroundColor: \"tomato\",\r\n      float: \"left\",\r\n      marginLeft: \"25%\",\r\n    },\r\n    iconNumber: {},\r\n    searchVendedor: {\r\n      padding: \"10px\",\r\n      width: \"92.5%\",\r\n      marginTop: \"20px\",\r\n      marginBottom: \"20px\",\r\n      marginLeft: \"2%\",\r\n    },\r\n    saveButton: {\r\n      marginLeft: \"50%\",\r\n    },\r\n    defaultPaper: {\r\n      padding: \"20px\",\r\n      height: \"100px\",\r\n      textAlign: \"center\",\r\n    },\r\n    headerDiv: {\r\n      backgroundColor: \"#241332\",\r\n      borderRadius: \"0px 50px 0px 50px\",\r\n      color: \"white\",\r\n      textAlign: \"center\",\r\n      height: \"60px\",\r\n      fontSize: \"40px\",\r\n      letterSpacing: \"4px\",\r\n    },\r\n    headerDivCampaign: {\r\n      backgroundColor: \"#241332\",\r\n      borderRadius: \"0px 50px 0px 50px\",\r\n      color: \"white\",\r\n      textAlign: \"center\",\r\n      height: \"60px\",\r\n      fontSize: \"40px\",\r\n      letterSpacing: \"4px\",\r\n      display: \"flex\",\r\n      \"&> p\": {\r\n        margin: \"0px\",\r\n        marginLeft: \"25%\",\r\n      },\r\n      \"&> span\": {\r\n        marginLeft: \"15%\",\r\n        color: \"white\",\r\n      },\r\n    },\r\n    circularLoading: {\r\n      marginLeft: \"46%\",\r\n      marginTop: \"20%\",\r\n      \"& div\": {\r\n        color: \"#16192f\",\r\n      },\r\n    },\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  const goToSeller = (seller) => {\r\n    history.push({\r\n      pathname: \"/\",\r\n      id: seller.uid,\r\n      to2: \"seller\",\r\n    });\r\n  };\r\n\r\n  const uploadImage = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file.type.indexOf(\"image\") < 0) {\r\n      setFile();\r\n      return;\r\n    }\r\n\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onloadend = function (e) {\r\n      setFile(reader.result);\r\n    };\r\n  };\r\n\r\n  const removeImage = (e) => {\r\n    setFile();\r\n\r\n    let newCampValues = camp;\r\n    newCampValues.avatar = null;\r\n  \r\n    setCamp(newCampValues);\r\n  }\r\n\r\n  const uploadBannerImage = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file.type.indexOf(\"image\") < 0) {\r\n      setFileBanner();\r\n      return;\r\n    }\r\n\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onloadend = function (e) {\r\n      setFileBanner(reader.result);\r\n    };\r\n  };\r\n\r\n  const removeImageBanner = (e) => {\r\n    setFileBanner();\r\n\r\n    let newCampValues = camp;\r\n    newCampValues.banner.image = null;\r\n    newCampValues.banner.text = '';\r\n\r\n    setCamp(newCampValues);\r\n  }\r\n\r\n  const uploadBackgroundImage = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file.type.indexOf(\"image\") < 0) {\r\n      setFileBackground();\r\n      return;\r\n    }\r\n\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onloadend = function (e) {\r\n      setFileBackground(reader.result);\r\n    };\r\n  }\r\n\r\n  const removeImageBackground = (e) => {\r\n    setFileBackground();\r\n\r\n    let newCampValues = camp;\r\n    newCampValues.backgroundImage = null;\r\n\r\n    setCamp(newCampValues);\r\n  }\r\n\r\n  ////////////////////////////////////\r\n  const saveChanges = () => {\r\n    axios\r\n      .post(`${apiUrl}campaign/update/${id}`, {\r\n        banner: {\r\n          image: fileBanner || camp.banner.image || null,\r\n          text: document.getElementById('link').value || camp.banner.text || null\r\n        },\r\n        avatar: file || camp.avatar || null,\r\n        fontColor: camp.fontColor,\r\n        headerColor: camp.headerColor,\r\n        loadText:  document.getElementById('loadText').value || camp.loadText || null,\r\n        welcomeText:  {\r\n          text: document.getElementById('welcomeText').value || camp.welcomeText.text || 'Bienvenido',\r\n          size: document.getElementById('font-size-welcome-text').value || camp.welcomeText.size || 18\r\n        },\r\n        urlOrigen:  document.getElementById('urlOrigen').value || camp.urlOrigen || null,\r\n        name: camp.name,\r\n        typeLogin: parseInt(camp.typeLogin) || 2,\r\n        backgroundImage: fileBackground || camp.backgroundImage || null,\r\n        backgroundColor: camp.backgroundColor || '#fff'\r\n      })\r\n      .then((res) => {\r\n        setOpen(true);\r\n        const result = res.data;\r\n        return result;\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error\", error, camp.welcomeText);\r\n      });\r\n\r\n      \r\n  };\r\n\r\n  if (!camp)\r\n    return (\r\n      <div className={classes.circularLoading}>\r\n        <CircularProgress size={60} />\r\n      </div>\r\n    );\r\n  return (\r\n    <Container>\r\n      <Paper className={classes.campaniaInfo} elevation={3}>\r\n        <div className={classes.headerDivCampaign}>\r\n          <p> Info Campaña {camp.name} </p>\r\n          <IconButton\r\n            color=\"primary\"\r\n            aria-label=\"save\"\r\n            component=\"span\"\r\n            onClick={saveChanges}\r\n          >\r\n            <Save />\r\n          </IconButton>\r\n        </div>\r\n        <TextField\r\n          xs={12}\r\n          sm={6}\r\n          defaultValue=\"Disabled\"\r\n          disabled\r\n          id=\"title-input\"\r\n          label=\"Name\"\r\n          name=\"name\"\r\n          margin=\"normal\"\r\n          variant=\"outlined\"\r\n          className={classes.textInputTitle}\r\n          value={camp.name}\r\n          onChange={e => handleChange(e, \"name\")}\r\n        />\r\n        <HtmlTooltip\r\n          placement=\"right-start\"\r\n          title={\r\n            <React.Fragment>\r\n              <Typography color=\"inherit\">Texto informativo</Typography>\r\n              <p>\r\n                {\"Lorem ipsum dolor sit amet, consectetur adipiscing elitm\"}\r\n              </p>\r\n            </React.Fragment>\r\n          }\r\n        >\r\n          <Button>\r\n            <HelpIcon />\r\n          </Button>\r\n        </HtmlTooltip>\r\n        <TextField\r\n          id=\"urlOrigen\"\r\n          label=\"Url de la campaña\"\r\n          name=\"url\"\r\n          margin=\"normal\"\r\n          variant=\"outlined\"\r\n          className={classes.textInputTitle}\r\n          placeholder={camp.urlOrigen || 'Url de la campaña'}\r\n        />\r\n        <HtmlTooltip\r\n          placement=\"right-start\"\r\n          title={\r\n            <React.Fragment>\r\n              <Typography color=\"inherit\">Texto informativo</Typography>\r\n              <p>\r\n                {\"Lorem ipsum dolor sit amet, consectetur adipiscing elitm\"}\r\n              </p>\r\n            </React.Fragment>\r\n          }\r\n        >\r\n          <Button>\r\n            <HelpIcon />\r\n          </Button>\r\n        </HtmlTooltip>\r\n        <FormControl className={classes.selectInput} variant=\"outlined\">\r\n          <InputLabel id=\"typeLogin-select\">Login Type</InputLabel>\r\n          <Select\r\n            labelId=\"typeLogin-select\"\r\n            label=\"Login Type\"\r\n            id=\"typeLogin-select\"\r\n            value={camp.typeLogin ? camp.typeLogin : 3}\r\n            onChange={e => handleChange(e, \"typeLogin\")}\r\n          >\r\n            <MenuItem key={2} value={\"2\"}>\r\n              Just Name\r\n            </MenuItem>\r\n            <MenuItem key={3} value={\"3\"}>\r\n              Just Email\r\n            </MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n        <HtmlTooltip\r\n          placement=\"right-start\"\r\n          title={\r\n            <React.Fragment>\r\n              <Typography color=\"inherit\">Texto informativo</Typography>\r\n              <p>\r\n                {\"Lorem ipsum dolor sit amet, consectetur adipiscing elitm\"}\r\n              </p>\r\n            </React.Fragment>\r\n          }\r\n        >\r\n          <Button>\r\n            <HelpIcon />\r\n          </Button>\r\n        </HtmlTooltip>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={6} className={classes.defaultGrid}>\r\n            <div>\r\n              <h2>\r\n                Avatar\r\n                <HtmlTooltip\r\n                  placement=\"right-start\"\r\n                  title={\r\n                    <React.Fragment>\r\n                      <Typography color=\"inherit\">Texto informativo</Typography>\r\n                      <p>\r\n                        {\r\n                          \"Lorem ipsum dolor sit amet, consectetur adipiscing elitm\"\r\n                        }\r\n                      </p>\r\n                    </React.Fragment>\r\n                  }\r\n                >\r\n                  <Button>\r\n                    <HelpIcon />\r\n                  </Button>\r\n                </HtmlTooltip>\r\n                <HtmlTooltip\r\n                  placement=\"right-end\"\r\n                >\r\n                  <Button>\r\n                    <Delete \r\n                      onClick={ e => removeImage(e) }\r\n                    />\r\n                  </Button>\r\n                </HtmlTooltip>\r\n              </h2>\r\n              <Avatar className={classes.campAvatar}>\r\n                <img\r\n                  src={file ? file : camp.avatar}\r\n                  width=\"100\"\r\n                  alt=\"Upload Preview\"\r\n                  className={classes.imgPreview}\r\n                />\r\n              </Avatar>\r\n\r\n              <Input\r\n                type=\"file\"\r\n                id=\"file\"\r\n                name=\"file\"\r\n                inputProps={{ accept: \"image/*\" }}\r\n                placeholder=\"Upload an image.\"\r\n                className={classes.fileInput}\r\n                onChange={(e) => uploadImage(e)}\r\n              />\r\n            </div>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6} className={classes.defaultGrid}>\r\n            <div>\r\n              <h2>\r\n                Banner\r\n                <HtmlTooltip\r\n                  placement=\"right-start\"\r\n                  title={\r\n                    <React.Fragment>\r\n                      <Typography color=\"inherit\">Texto informativo</Typography>\r\n                      <p>\r\n                        {\r\n                          \"Lorem ipsum dolor sit amet, consectetur adipiscing elitm\"\r\n                        }\r\n                      </p>\r\n                    </React.Fragment>\r\n                  }\r\n                >\r\n                  <Button>\r\n                    <HelpIcon />\r\n                  </Button>\r\n                </HtmlTooltip>\r\n                <HtmlTooltip\r\n                  placement=\"right-end\"\r\n                  title=\"Eliminar\"\r\n                >\r\n                  <Button>\r\n                    <Delete \r\n                      onClick={(e) => removeImageBanner(e) }\r\n                    />\r\n                  </Button>\r\n                </HtmlTooltip>\r\n              </h2>\r\n              <div className={classes.campAvatar}>\r\n                <img\r\n                  src={\r\n                    fileBanner\r\n                      ? fileBanner\r\n                      : camp.banner\r\n                      ? camp.banner.image\r\n                      : \"\"\r\n                  }\r\n                  width=\"100\"\r\n                  alt=\"Upload Preview\"\r\n                  className={classes.imgPreview}\r\n                />\r\n              </div>\r\n\r\n              <Input\r\n                type=\"file\"\r\n                id=\"file\"\r\n                name=\"file\"\r\n                inputProps={{ accept: \"image/*\" }}\r\n                placeholder=\"Upload an image.\"\r\n                className={classes.fileInput}\r\n                onChange={(e) => uploadBannerImage(e)}\r\n              />\r\n\r\n              <Input\r\n                type=\"text\"\r\n                id=\"link\"\r\n                name=\"link\"\r\n                placeholder={ camp.banner.text || \"Link for image\" }\r\n              />\r\n            </div>\r\n          </Grid>\r\n        \r\n          <Grid item xs={12} sm={6} className={classes.defaultGrid}>\r\n              <div>\r\n                <h2>\r\n                  Background image\r\n                  <HtmlTooltip\r\n                    placement=\"right-start\"\r\n                    title={\r\n                      <React.Fragment>\r\n                        <Typography color=\"inherit\">Texto informativo</Typography>\r\n                        <p>\r\n                          {\r\n                            \"Lorem ipsum dolor sit amet, consectetur adipiscing elitm\"\r\n                          }\r\n                        </p>\r\n                      </React.Fragment>\r\n                    }\r\n                  >\r\n                    <Button>\r\n                      <HelpIcon />\r\n                    </Button>\r\n                  </HtmlTooltip>\r\n                  <HtmlTooltip\r\n                    placement=\"right-end\"\r\n                    title=\"Eliminar\"\r\n                  >\r\n                    <Button>\r\n                      <Delete \r\n                        onClick={(e) => removeImageBackground(e) }\r\n                      />\r\n                    </Button>\r\n                  </HtmlTooltip>\r\n                </h2>\r\n                <Avatar className={classes.campAvatar}>\r\n                  <img\r\n                    src={ fileBackground\r\n                        ? fileBackground\r\n                        : camp.backgroundImage\r\n                        ? camp.backgroundImage\r\n                        : \"\"\r\n                    }\r\n                    width=\"100\"\r\n                    alt=\"No hay imagen cargada\"\r\n                    className={classes.imgPreview}\r\n                  />\r\n                </Avatar>\r\n\r\n                  <Input\r\n                    type=\"file\"\r\n                    id=\"file\"\r\n                    name=\"file\"\r\n                    inputProps={{ accept: \"image/*\" }}\r\n                    placeholder=\"Upload an image.\"\r\n                    className={classes.fileInput}\r\n                    onChange={(e) => uploadBackgroundImage(e)}\r\n                  />\r\n              </div>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6} className={classes.defaultGrid}>\r\n            <Grid item xs={12} sm={6}>\r\n                <h2>\r\n                  Background Color\r\n                </h2>\r\n                <BlockPicker\r\n                  color={camp.backgroundColor}\r\n                  onChange={handleBackColor}\r\n                />\r\n              </Grid>\r\n          </Grid>\r\n        </Grid>\r\n        <hr />\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={6} className={classes.defaultGrid}>\r\n            <div>\r\n              <h2>\r\n                Header Color\r\n                <HtmlTooltip\r\n                  placement=\"right-start\"\r\n                  title={\r\n                    <React.Fragment>\r\n                      <Typography color=\"inherit\">Texto informativo</Typography>\r\n                      <p>\r\n                        {\r\n                          \"Lorem ipsum dolor sit amet, consectetur adipiscing elitm\"\r\n                        }\r\n                      </p>\r\n                    </React.Fragment>\r\n                  }\r\n                >\r\n                  <Button>\r\n                    <HelpIcon />\r\n                  </Button>\r\n                </HtmlTooltip>\r\n              </h2>\r\n              <BlockPicker\r\n                color={camp.headerColor}\r\n                onChange={handleChangeColor}\r\n              />\r\n            </div>\r\n          </Grid>\r\n          <Grid item xs={12} sm={6} className={classes.defaultGrid}>\r\n            <div>\r\n              <h2>\r\n                Font Color\r\n                <HtmlTooltip\r\n                  placement=\"right-start\"\r\n                  title={\r\n                    <React.Fragment>\r\n                      <Typography color=\"inherit\">Texto informativo</Typography>\r\n                      <p>\r\n                        {\r\n                          \"Lorem ipsum dolor sit amet, consectetur adipiscing elitm\"\r\n                        }\r\n                      </p>\r\n                    </React.Fragment>\r\n                  }\r\n                >\r\n                  <Button>\r\n                    <HelpIcon />\r\n                  </Button>\r\n                </HtmlTooltip>\r\n              </h2>\r\n              <BlockPicker\r\n                color={camp.fontColor}\r\n                onChange={handleChangeColorFont}\r\n              />\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={6} sm={6} className={classes.defaultGrid}>\r\n            <div>\r\n              <TextField\r\n                id=\"loadText\"\r\n                label=\"Load Text\"\r\n                name=\"loadText\"\r\n                margin=\"normal\"\r\n                className={classes.textInputLoadText}\r\n                placeholder={camp.loadText || 'Texto de espera en cliente'}\r\n                variant=\"outlined\"\r\n              />\r\n              <HtmlTooltip\r\n                placement=\"right-start\"\r\n                title={\r\n                  <React.Fragment>\r\n                    <Typography color=\"inherit\">Texto informativo</Typography>\r\n                    <p>\r\n                      {\r\n                        \"Lorem ipsum dolor sit amet, consectetur adipiscing elitm\"\r\n                      }\r\n                    </p>\r\n                  </React.Fragment>\r\n                }\r\n              >\r\n                <Button>\r\n                  <HelpIcon />\r\n                </Button>\r\n              </HtmlTooltip>\r\n            </div>\r\n          </Grid>\r\n          <Grid item xs={6} sm={6} className={classes.columnGrid}>\r\n            <div>\r\n              <TextField\r\n                id=\"welcomeText\"\r\n                label=\"Texto de bienvenida\"\r\n                name=\"welcomeText\"\r\n                margin=\"normal\"\r\n                className={classes.textInputLoadText}\r\n                placeholder={camp.welcomeText.text || 'Texto de bienvenida'}\r\n                variant=\"outlined\"\r\n              />\r\n              <HtmlTooltip\r\n                placement=\"right-start\"\r\n                title={\r\n                  <React.Fragment>\r\n                    <Typography color=\"inherit\">Texto informativo</Typography>\r\n                    <p>\r\n                      {\r\n                        \"Lorem ipsum dolor sit amet, consectetur adipiscing elitm\"\r\n                      }\r\n                    </p>\r\n                  </React.Fragment>\r\n                }\r\n              >\r\n                <Button>\r\n                  <HelpIcon />\r\n                </Button>\r\n              </HtmlTooltip>\r\n            </div>\r\n            <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n              <Input\r\n                type=\"number\"\r\n                inputProps={{ min: '0', max: '180' }}\r\n                id=\"font-size-welcome-text\"\r\n                name=\"font-size-welcome-text\"\r\n                placeholder={ camp.welcomeText.size || 18 }\r\n              />\r\n              <span style={{ alignSelf: 'center' }}>{ 'px' }</span>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </Paper>\r\n\r\n      {/*<Grid container spacing={3} className={classes.dataGrid}>\r\n        <Grid item xs={12} sm={6}>\r\n          <Paper elevation={3} className={classes.defaultPaper}>\r\n            <div>\r\n              <p className={classes.iconTitle}>Sellers in the Campaign</p>\r\n              <Avatar className={classes.personIcon}>\r\n                <PersonIcon />\r\n              </Avatar>\r\n              <h2 className={classes.iconNumber}>{camp ? camp.online : 0}</h2>\r\n              <p className={classes.iconNumber}>{\"0.00 % Online\"}</p>\r\n            </div>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <Paper elevation={3} className={classes.defaultPaper}>\r\n            <div>\r\n              <p className={classes.iconTitle}>NPS</p>\r\n              <Avatar className={classes.npcIcon}>\r\n                <StarIcon />\r\n              </Avatar>\r\n              <h2 className={classes.iconNumber}>{camp ? camp.nps : 0}</h2>\r\n            </div>\r\n          </Paper>\r\n        </Grid>\r\n      </Grid>*/}\r\n\r\n      <Paper className={classes.campaniaInfo} elevation={3}>\r\n        <div className={classes.headerDiv}>\r\n          <p>Sellers</p>\r\n        </div>\r\n        <Paper className={classes.searchVendedor}>\r\n          <SearchSellers sellers={sellersCompany} addSeller={addSeller} />\r\n        </Paper>\r\n\r\n        <MaterialTable\r\n          title=\"Sellers\"\r\n          style={{ marginBottom: \"30px\", width: \"95%\", marginLeft: \"2%\" }}\r\n          columns={[\r\n            {\r\n              title: \"Avatar\",\r\n              field: \"avatar\",\r\n              editable: \"never\",\r\n              render: (rowData) =>\r\n                rowData.avatar ? (\r\n                  <img\r\n                    src={rowData.avatar}\r\n                    alt=\"avatar\"\r\n                    style={{ width: 50, borderRadius: \"30%\" }}\r\n                  />\r\n                ) : (\r\n                  <Avatar>\r\n                    {rowData.name\r\n                      .match(/\\b(\\w)/g)\r\n                      .join(\"\")\r\n                      .toUpperCase()}\r\n                  </Avatar>\r\n                ),\r\n              headerStyle: {\r\n                width: \"25%\",\r\n              },\r\n            },\r\n            {\r\n              title: \"Email\",\r\n              field: \"mail\",\r\n              editable: \"never\",\r\n              headerStyle: {\r\n                width: \"30%\",\r\n                textAlign: \"center\",\r\n              },\r\n            },\r\n            {\r\n              title: \"Name\",\r\n              field: \"name\",\r\n              editable: \"never\",\r\n              headerStyle: {\r\n                width: \"30%\",\r\n                textAlign: \"center\",\r\n              },\r\n              cellStyle: {\r\n                padding: \"0px\",\r\n              },\r\n            },\r\n            {\r\n              title: \"NPS\",\r\n              field: \"nps\",\r\n              editable: \"never\",\r\n              headerStyle: {\r\n                width: \"30%\",\r\n              },\r\n            },\r\n          ]}\r\n          data={sellers}\r\n          editable={{\r\n            onRowDelete: (oldData) =>\r\n              new Promise((resolve, reject) => {\r\n                let c;\r\n                oldData.campaigns.forEach((campaign) => {\r\n                  if (campaign.id === id)\r\n                    c = { nps: campaign.nps, name: campaign.name };\r\n                });\r\n                if (c)\r\n                  axios({\r\n                    method: \"delete\",\r\n                    url: `${apiUrl}campaign/assign/`,\r\n                    headers: {\r\n                      \"Content-Type\": \"application/json\",\r\n                      Accept: \"application/json\",\r\n                    },\r\n                    data: {\r\n                      campaignId: id,\r\n                      userId: oldData.uid,\r\n                      campaignNps: c.nps,\r\n                      name: c.name,\r\n                    },\r\n                  })\r\n                    .then((resp) => {\r\n                      let newList = [];\r\n                      allSellers.map(seller => {\r\n                        console.log(seller);\r\n                        if(seller.uid != oldData.uid) newList.push(seller);\r\n                      });\r\n                      getSellersCampaign(id, newList);\r\n                      resolve();\r\n                    })\r\n                    .catch((error) => {\r\n                      console.log(\"error adding seller\", error);\r\n                      //setSellers([]);\r\n                      reject();\r\n                    });\r\n              }),\r\n          }}\r\n          actions={[\r\n            {\r\n              icon: ArrowForwardIosIcon,\r\n              tooltip: \"View Seller\",\r\n              onClick: (event, rowData) => goToSeller(rowData),\r\n            },\r\n          ]}\r\n          options={{\r\n            pageSize: 10,\r\n            pageSizeOptions: [5, 10, 20],\r\n          }}\r\n        />\r\n      </Paper>\r\n\r\n      <Paper className={classes.campaniaInfo} elevation={3}>\r\n        <div className={classes.headerDiv}>\r\n          <p>Resources</p>\r\n        </div>\r\n        <MaterialTable\r\n          title=\"Resources\"\r\n          style={{\r\n            marginTop: \"20px\",\r\n            marginBottom: \"30px\",\r\n            width: \"95%\",\r\n            marginLeft: \"2%\",\r\n          }}\r\n          columns={[\r\n            {\r\n              title: \"Name\",\r\n              field: \"name\",\r\n              editable: \"always\",\r\n              headerStyle: {\r\n                width: \"25%\",\r\n                textAlign: \"center\",\r\n              },\r\n            },\r\n\r\n            {\r\n              title: \"Type\",\r\n              field: \"type\",\r\n              editable: \"always\",\r\n              lookup: {\r\n                0: \"Indicencias\",\r\n                1: \"Videos\",\r\n                2: \"Texto\",\r\n                3: \"Link Productos\",\r\n                4: \"Link Soporte\",\r\n                5: \"Imagen\",\r\n              },\r\n              headerStyle: {\r\n                width: \"25%\",\r\n              },\r\n            },\r\n            {\r\n              title: \"Content\",\r\n              field: \"content\",\r\n              editable: \"always\",\r\n              headerStyle: {\r\n                width: \"25%\",\r\n              },\r\n            },\r\n          ]}\r\n          data={resources}\r\n          editable={{\r\n            onRowAdd: (newData) =>\r\n              axios\r\n                .post(`${apiUrl}resource/`, {\r\n                  idCampaign: id,\r\n                  name: newData.name,\r\n                  type: parseInt(newData.type) || 0,\r\n                  recurso: newData.content,\r\n                })\r\n                .then((res) => {\r\n                  getResoursesforCampaign();\r\n                })\r\n                .catch((error) => {\r\n                  console.log(\"error\", error);\r\n                }),\r\n            onRowDelete: (oldData) =>\r\n              axios\r\n                .delete(`${apiUrl}resource/`, {\r\n                  data: {\r\n                    campaignId: id,\r\n                    resourceId: oldData.id,\r\n                  },\r\n                })\r\n                .then((res) => {\r\n                  console.log(\"res\", res);\r\n                  setResources(resources.filter((r) => r.id !== oldData.id));\r\n                })\r\n                .catch((error) => {\r\n                  console.log(\"error\", error);\r\n                }),\r\n            onRowUpdate: (oldData, newData) =>\r\n              axios\r\n                .post(`${apiUrl}resource/update`, {\r\n                  idCampaign: id,\r\n                  resourceId: oldData.id,\r\n                  name: oldData.name,\r\n                  recurso: oldData.content,\r\n                  type: parseInt(oldData.type),\r\n                })\r\n                .then((res) => {\r\n                  getResoursesforCampaign();\r\n                }),\r\n          }}\r\n          options={{\r\n            pageSize: 10,\r\n            pageSizeOptions: [5, 10, 20],\r\n          }}\r\n        />\r\n      </Paper>\r\n\r\n      <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\r\n        <Alert onClose={handleClose} severity=\"success\">\r\n          Se guardaron los cambios\r\n        </Alert>\r\n      </Snackbar>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Campaign;\r\n\r\n/*\r\n{\r\n            title: \"Icon\",\r\n            field: \"icon\",\r\n            editable: \"always\",\r\n            render: (rowData) =>\r\n              rowData.icon ? (\r\n                <img\r\n                  src={rowData.icon}\r\n                  alt=\"producto\"\r\n                  style={{ width: 50, borderRadius: \"50%\" }}\r\n                />\r\n              ) : (\r\n                <HelpOutlineIcon />\r\n              ),\r\n            editComponent: (props) => (\r\n              <Input\r\n                type=\"file\"\r\n                id=\"file\"\r\n                name=\"file\"\r\n                inputProps={{ accept: \"image/*\" }}\r\n                placeholder=\"...\"\r\n                className={classes.fileInput}\r\n                onChange={(e) => props.onChange(e.target.value)}\r\n              />\r\n            ),\r\n            headerStyle: {\r\n              width: \"25%\",\r\n            },\r\n          },\r\n*/\r\n","import React, { useState, useContext } from \"react\";\r\nimport firebase from \"../config/firebase\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n  Container,\r\n  Paper,\r\n  Button,\r\n  TextField,\r\n  Avatar,\r\n  Input,\r\n  InputLabel,\r\n  MenuItem,\r\n  FormControl,\r\n  Select,\r\n} from \"@material-ui/core\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\nimport { Send, Person } from \"@material-ui/icons\";\r\nimport { AuthContext } from \"../contexts/AuthContext\";\r\nimport { useEffect } from \"react\";\r\nimport { useSpring, animated as a } from \"react-spring\";\r\nimport axios from \"axios\";\r\nimport { getUser } from \"../middleware/Middleware\";\r\n\r\nconst Wellcome = (props) => {\r\n  const [newUser] = useState(false);\r\n  const [forget, setForget] = useState(false);\r\n  const [emailRecover, setEmailRecover] = useState(\"\");\r\n  const { user, loading, dispatch } = useContext(AuthContext);\r\n  const [campaigns] = useState([]);\r\n\r\n  const [values, setValues] = useState({\r\n    email: \"\",\r\n    pass: \"\",\r\n    campaign: \"\",\r\n    name: \"\",\r\n    phone: \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    document.getElementsByTagName(\"body\")[0].style =\r\n      \"background-color: #2a3458 !important\";\r\n  }, []);\r\n\r\n  const [dimensions, setDimensions] = useState({\r\n    width: window.innerWidth,\r\n    height: window.innerHeight,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      setDimensions({\r\n        width: window.innerWidth,\r\n        height: window.innerHeight,\r\n      });\r\n    };\r\n    window.addEventListener(\"resize\", handleResize);\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize);\r\n    };\r\n  }, []);\r\n\r\n  /*useEffect(() => {\r\n    if (campaigns.length === 0) {\r\n      console.log(\"llamar\");\r\n      axios\r\n        .get(\r\n          \"https://cors-anywhere.herokuapp.com/https://wow2api.herokuapp.com/api/v1/campaigns\"\r\n        )\r\n        .then((res) => {\r\n          const result = res.data;\r\n          setCampaigns(res.data);\r\n          console.log(\"result --> \", result);\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"error\", error);\r\n        });\r\n      setCampaigns([{ id: 1, productName: \"TEST\" }]);\r\n    }\r\n  }, []);*/\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    body: {\r\n      backgroundColor: \"#2a3458\",\r\n      marginTop: \"0px\"\r\n    },\r\n    loginForm: {\r\n      float: dimensions.width > 720 ? \"right\" : \"inherit\",\r\n      boxShadow:\r\n        \"0px 3px 5px -1px rgba(0,0,0,0.2), 0px 5px 8px 0px rgba(0,0,0,0.14), 0px 1px 14px 0px rgba(0,0,0,0.12)\",\r\n      backgroundColor: \"white\",\r\n      marginLeft: \"10px\",\r\n      marginTop: \"10%\",\r\n      borderRadius: \"0px 58px 0px 0px\",\r\n    },\r\n    emailAndPass: {\r\n      borderRadius: \"0px 50px 0px 50px\",\r\n      backgroundColor: \"#241332\",\r\n    },\r\n    textInput: {\r\n      width: \"80%\",\r\n      marginLeft: \"10%\",\r\n      \"& label\": {\r\n        color: \"white\",\r\n      },\r\n      \"& input\": {\r\n        color: \"white\",\r\n      },\r\n      \"& .Mui-focused\": {\r\n        color: \"white\",\r\n      },\r\n    },\r\n    textInput2: {\r\n      width: \"80%\",\r\n      marginLeft: \"10%\",\r\n      \"& label\": {\r\n        color: \"grey\",\r\n      },\r\n      \"& .Mui-focused\": {\r\n        color: \"grey\",\r\n      },\r\n    },\r\n    fileInput: {\r\n      width: \"80%\",\r\n      marginLeft: \"10%\",\r\n      marginBottom: \"15px\",\r\n      \"& label\": {\r\n        color: \"white\",\r\n      },\r\n    },\r\n    imgPreview: {\r\n      width: \"100%\",\r\n      objectFit: \"cover\",\r\n    },\r\n    ckeckInput: {\r\n      marginLeft: \"20px\",\r\n    },\r\n    modalButtons: {\r\n      marginLeft: \"20%\",\r\n      paddingBottom: \"10px\",\r\n      paddingTop: \"10px\",\r\n    },\r\n    modalButton: {\r\n      marginLeft: \"5px\",\r\n    },\r\n    logo: {\r\n      float: \"left\",\r\n      marginTop: \"80px\",\r\n    },\r\n    errorLogin: {\r\n      boxShadow:\r\n        \"0px 3px 5px -1px rgba(0,0,0,0.2), 0px 5px 8px 0px rgba(0,0,0,0.14), 0px 1px 14px 0px rgba(0,0,0,0.12)\",\r\n      backgroundColor: \"white\",\r\n      float: \"right\",\r\n      marginTop: \"20px\",\r\n      width: \"48%\",\r\n      padding: \"10px\",\r\n      color: \"tomato\",\r\n    },\r\n    personIcon: {\r\n      width: \"80px\",\r\n      height: \"80px\",\r\n      marginLeft: \"40%\",\r\n      marginBottom: \"15px\",\r\n      boxShadow:\r\n        \"0px 3px 5px -1px rgba(0,0,0,0.2), 0px 5px 8px 0px rgba(0,0,0,0.14), 0px 1px 14px 0px rgba(0,0,0,0.12)\",\r\n    },\r\n    circularLoading: {\r\n      marginLeft: \"50%\",\r\n      marginTop: \"25%\",\r\n      \"& div\": {\r\n        color: \"white\",\r\n      },\r\n    },\r\n    margin: {\r\n      margin: theme.spacing(1),\r\n    },\r\n    imgLogoMobileContent: {\r\n      textAlign: \"center\",\r\n    },\r\n    imgLogoMobile: {\r\n      //nada por ahora\r\n    },\r\n  }));\r\n\r\n  const classes = useStyles();\r\n\r\n  const { float, marginTop } = useSpring({\r\n    from: {\r\n      marginTop: \"-280px\",\r\n    },\r\n    float: \"left\",\r\n    marginTop: \"80px\",\r\n    config: { mass: 50, tension: 50, friction: 20 },\r\n  });\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, [name]: event.target.value });\r\n  };\r\n\r\n  const handleLogin = (e) => {\r\n    e.preventDefault();\r\n    if (newUser) {\r\n      console.log(\"new\", values);\r\n      axios\r\n        .post(\"https://api.wow2.xinnux.com/api/v1/users/\", {\r\n          email: values.email,\r\n          password: values.password,\r\n          campaign: values.campaign,\r\n          displayName: values.name,\r\n          phone: values.phone,\r\n        })\r\n        .then(function (response) {\r\n          console.log(response);\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n    } else loginWithMail(values.email, values.pass);\r\n  };\r\n\r\n  const handleEmailRecover = (name) => (event) => {\r\n    setEmailRecover(event.target.value);\r\n  };\r\n\r\n  const sendMail = (e) => {\r\n    /*var auth = firebase.auth();\r\n    var emailAddress = emailRecover;\r\n\r\n    auth\r\n      .sendPasswordResetEmail(emailAddress)\r\n      .then(function () {\r\n        console.log(\"mail sent\");\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"ERROR\", error);\r\n      });*/\r\n  };\r\n\r\n  const [file, setFile] = useState();\r\n\r\n  const uploadImage = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file.type.indexOf(\"image\") < 0) {\r\n      setFile();\r\n      return;\r\n    }\r\n\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onloadend = function (e) {\r\n      setFile(reader.result);\r\n    };\r\n  };\r\n\r\n  const names = (\r\n    <div>\r\n      {!file && (\r\n        <Avatar className={classes.personIcon}>\r\n          <Person />\r\n        </Avatar>\r\n      )}\r\n      {file && (\r\n        <Avatar className={classes.personIcon}>\r\n          <img\r\n            src={file}\r\n            width=\"100\"\r\n            alt=\"Upload Preview\"\r\n            className={classes.imgPreview}\r\n          />\r\n        </Avatar>\r\n      )}\r\n      <Input\r\n        type=\"file\"\r\n        id=\"file\"\r\n        name=\"file\"\r\n        inputProps={{ accept: \"image/*\" }}\r\n        placeholder=\"Upload an image.\"\r\n        className={classes.fileInput}\r\n        onChange={(e) => uploadImage(e)}\r\n      />\r\n      {campaigns && (\r\n        <FormControl className={classes.textInput2}>\r\n          <InputLabel id=\"idCampania\">Campaign</InputLabel>\r\n          <Select\r\n            labelId=\"idCampaign\"\r\n            id=\"campania-select\"\r\n            value={values.campaign}\r\n            onChange={handleChange(\"campaign\")}\r\n          >\r\n            {campaigns.map((camp) => (\r\n              <MenuItem key={camp.id} value={camp.id}>\r\n                {camp.productName}\r\n              </MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n      )}\r\n      <TextField\r\n        id=\"first-name-input\"\r\n        label=\"Name\"\r\n        name=\"Name\"\r\n        margin=\"normal\"\r\n        className={classes.textInput2}\r\n        value={values.name}\r\n        onChange={handleChange(\"name\")}\r\n      />\r\n      <TextField\r\n        id=\"last-name-input\"\r\n        label=\"Phone\"\r\n        name=\"phone\"\r\n        margin=\"normal\"\r\n        className={classes.textInput2}\r\n        value={values.phone}\r\n        onChange={handleChange(\"phone\")}\r\n      />\r\n    </div>\r\n  );\r\n\r\n  const getUserData = async (uid) => {\r\n    const data = await getUser(uid);\r\n    if (data.uid) {\r\n      if (data.role !== \"client\")\r\n        dispatch({\r\n          type: \"LOGIN_ERROR\",\r\n          error: { message: \"The user don't have permissions\" },\r\n        });\r\n      else {\r\n        localStorage.setItem(\"user\", data.uid);\r\n        dispatch({ type: \"LOGIN_SUCCESS\", user: data });\r\n      }\r\n    } else dispatch({ type: \"LOGIN_ERROR\", error: { message: data } });\r\n  };\r\n\r\n  const loginWithMail = (email, password) => {\r\n    //if (!newUser)\r\n    firebase\r\n      .auth()\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then((user) => {\r\n        getUserData(user.user.uid);\r\n      })\r\n      .catch((error) => {\r\n        dispatch({ type: \"LOGIN_ERROR\", error });\r\n      });\r\n    /*else\r\n      firebase\r\n        .auth()\r\n        .createUserWithEmailAndPassword(email, password)\r\n        .then((resp) => {\r\n          db_firestore\r\n            .collection(\"users\")\r\n            .doc(resp.user.uid)\r\n            .set({\r\n              firstName: values.firstName,\r\n              lastName: values.lastName,\r\n            })\r\n            .then(() => {\r\n              var user = resp.user;\r\n              user[\"firstName\"] = values.firstName;\r\n              user[\"lastName\"] = values.lastName;\r\n              dispatch({ type: \"SIGNUP_SUCCESS\", user });\r\n            })\r\n            .catch((error) => {\r\n              dispatch({ type: \"SIGNUP_ERROR\", error });\r\n            });\r\n        });*/\r\n  };\r\n\r\n  //if (user) history.push(\"/\");\r\n\r\n  /*\r\n  InputProps={{\r\n    className: classes.textInput2,\r\n  }}*/\r\n\r\n  if (loading)\r\n    return (\r\n      <div className={classes.circularLoading}>\r\n        <CircularProgress />\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <Container>\r\n      {dimensions.width > 720 && (\r\n        <a.img\r\n          src=\"./imgs/WOW-logo.png\"\r\n          alt=\"logo\"\r\n          style={{ float, marginTop }}\r\n        />\r\n      )}\r\n      {dimensions.width < 720 && (\r\n        <div className={classes.imgLogoMobileContent}>\r\n          <img\r\n            className={classes.imgLogoMobile}\r\n            src=\"./imgs/WOW-logo.png\"\r\n            width=\"100\"\r\n            alt=\"logo\"\r\n          />\r\n        </div>\r\n      )}\r\n      <Paper elevation={3} className={classes.loginForm}>\r\n        {!forget && (\r\n          <form onSubmit={handleLogin}>\r\n            <div className={classes.emailAndPass}>\r\n              <TextField\r\n                id=\"filled-email-input\"\r\n                label=\"Email\"\r\n                type=\"email\"\r\n                name=\"email\"\r\n                autoComplete=\"off\"\r\n                margin=\"normal\"\r\n                className={classes.textInput}\r\n                value={values.email}\r\n                onChange={handleChange(\"email\")}\r\n              />\r\n              <TextField\r\n                id=\"filled-password-input\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                name=\"pass\"\r\n                margin=\"normal\"\r\n                className={classes.textInput}\r\n                value={values.pass}\r\n                onChange={handleChange(\"pass\")}\r\n              />\r\n            </div>\r\n\r\n            {newUser ? names : null}\r\n            <div className={classes.modalButtons}>\r\n              <Button\r\n                className={classes.modalButton}\r\n                variant=\"outlined\"\r\n                color=\"primary\"\r\n                endIcon={<Send />}\r\n                type=\"submit\"\r\n              >\r\n                {newUser ? \"New User\" : \"Login\"}\r\n              </Button>\r\n              {!newUser && (\r\n                <Button\r\n                  className={classes.margin}\r\n                  size=\"small\"\r\n                  variant=\"outlined\"\r\n                  color=\"secondary\"\r\n                  onClick={() => {\r\n                    setForget(!forget);\r\n                  }}\r\n                >\r\n                  Forgot my password!\r\n                </Button>\r\n              )}\r\n            </div>\r\n          </form>\r\n        )}\r\n        {forget && (\r\n          <form>\r\n            <TextField\r\n              id=\"recover-email-input\"\r\n              label=\"Email\"\r\n              type=\"email\"\r\n              name=\"email\"\r\n              autoComplete=\"email\"\r\n              margin=\"normal\"\r\n              className={classes.textInput}\r\n              value={emailRecover}\r\n              onChange={handleEmailRecover()}\r\n            />\r\n            <div className={classes.modalButtons}>\r\n              <Button\r\n                variant=\"outlined\"\r\n                color=\"secondary\"\r\n                endIcon={<ArrowBackIcon />}\r\n                type=\"button\"\r\n                className={classes.modalButton}\r\n                onClick={() => {\r\n                  setForget(false);\r\n                }}\r\n              >\r\n                Back\r\n              </Button>\r\n              <Button\r\n                variant=\"outlined\"\r\n                color=\"primary\"\r\n                endIcon={<Send />}\r\n                type=\"button\"\r\n                className={classes.modalButton}\r\n                onClick={() => {\r\n                  sendMail();\r\n                }}\r\n              >\r\n                Send Mail!\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        )}\r\n      </Paper>\r\n      {user && user.error && (\r\n        <Paper className={classes.errorLogin}>\r\n          <div>{user.error.message}</div>\r\n        </Paper>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Wellcome;\r\n\r\n/*\r\n<FormControlLabel\r\n              className={classes.ckeckInput}\r\n              control={\r\n                <Checkbox\r\n                  onChange={(e) => {\r\n                    setNewUser(!newUser);\r\n                  }}\r\n                  label=\"New User?\"\r\n                  value={newUser}\r\n                  inputProps={{\r\n                    \"aria-label\": \"primary checkbox\",\r\n                  }}\r\n                />\r\n              }\r\n              label=\"New User?\"\r\n            />\r\n*/\r\n","import React, { useState, useEffect, Fragment, useContext } from \"react\";\r\nimport { storage } from \"../config/firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport MaterialTable from \"material-table\";\r\nimport {\r\n  Container,\r\n  Paper,\r\n  Grid,\r\n  TextField,\r\n  Input,\r\n  Button,\r\n  Modal,\r\n} from \"@material-ui/core\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport StarIcon from \"@material-ui/icons/Star\";\r\nimport { Save, PriorityHigh } from \"@material-ui/icons\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\r\nimport PictureAsPdfIcon from \"@material-ui/icons/PictureAsPdf\";\r\nimport axios from \"axios\";\r\nimport { getSeller, getCampaigns, updateUser } from \"../middleware/Middleware\";\r\nimport { AuthContext } from \"../contexts/AuthContext\";\r\n\r\nconst Seller = (props) => {\r\n  const history = useHistory();\r\n  let id = history.location.id;\r\n\r\n  if (!id || id === \"undefined\") {\r\n    id = localStorage.getItem(\"idSelected\");\r\n    if (!id || id === \"undefined\") history.push(\"/\");\r\n  }\r\n\r\n  const [sell, setSeller] = useState();\r\n  //const [camps, setCamps] = useState([]);\r\n  const [sellCamps, setSellCamps] = useState([]);\r\n  const [changePass, setChange] = useState(false);\r\n  const [newPassword, setNewPassword] = useState();\r\n  const [disponibleCamps, setDisponible] = useState();\r\n  const [chats, setChats] = useState([]);\r\n  const apiUrl = process.env.REACT_APP_URL_API;\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setSeller({ ...sell, [name]: event.target.value });\r\n  };\r\n\r\n  const {\r\n    user: { user },\r\n  } = useContext(AuthContext);\r\n\r\n  /*eslint-disable */\r\n  const getCamps = (allCamps, sellCamps) => {\r\n    let aux = [];\r\n    let disp = [];\r\n    if (sellCamps.length > 0) {\r\n      sellCamps.map((sc) => {\r\n        let campAux = [];\r\n        allCamps.filter((c) => {\r\n          if (c.id === sc.id) campAux.push({ ...c, nps: sc.nps });\r\n        });\r\n        if (campAux.length > 0) {\r\n          campAux[0][\"nps\"] = sc.hasOwnProperty(\"nps\") ? sc.nps : 0;\r\n          aux.push(campAux[0]);\r\n        }\r\n      });\r\n      allCamps.map((sc) => {\r\n        let finded = false;\r\n        aux.filter((c) => {\r\n          if (sc.id === c.id) finded = true;\r\n        });\r\n        if (!finded) disp.push(sc);\r\n      });\r\n    } else disp = allCamps;\r\n    if (aux && aux !== undefined && aux.length > 0 && aux[0] !== undefined)\r\n      setSellCamps(aux);\r\n    else setSellCamps([]);\r\n    if (disp && disp !== undefined && disp.length > 0 && disp[0] !== undefined)\r\n      setDisponible(disp);\r\n    else setDisponible([]);\r\n\r\n    var aux2 = {};\r\n    for (const key in disp) {\r\n      aux2[disp[key].id] = disp[key].name;\r\n    }\r\n    setRawCamps(aux2);\r\n  };\r\n  /*eslint-enable */\r\n\r\n  const get = async () => {\r\n    const sel = await getSeller(id);\r\n    setSeller(sel);\r\n    const allCamps = await getCampaigns(user.idcompany);\r\n\r\n    //setCamps(allCamps);\r\n    if (\r\n      sel &&\r\n      allCamps &&\r\n      allCamps.length > 0 &&\r\n      sel.hasOwnProperty(\"campaigns\")\r\n    )\r\n      getCamps(allCamps, sel.campaigns);\r\n  };\r\n  /*eslint-disable */\r\n  useEffect(() => {\r\n    if (id) {\r\n      get();\r\n    }\r\n\r\n    // Get Chats\r\n    //var storageRef = storage.ref(`chats/bwe1wY46djUoz5I8K1Zg4hQfBbq1/`);\r\n    var storageRef = storage.ref(`chats/${id}`);\r\n    // Find all the prefixes and items.\r\n\r\n    storageRef\r\n      .listAll()\r\n      .then(function (res) {\r\n        /*res.prefixes.forEach(function (folderRef) {\r\n          // All the prefixes under listRef.\r\n          // You may call listAll() recursively on them.\r\n          console.log(\"chat\", folderRef);\r\n        });*/\r\n        var chatsFiles = [];\r\n        res.items.forEach(function (itemRef) {\r\n          chatsFiles.push({ name: itemRef.name, path: itemRef.location.path });\r\n        });\r\n        setChats(chatsFiles);\r\n      })\r\n      .catch(function (error) {\r\n        // Uh-oh, an error occurred!\r\n        console.log(error);\r\n      });\r\n  }, [id]);\r\n  /*eslint-enable */\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    vendedorInfo: {\r\n      width: \"100%\",\r\n      padding: \"10px\",\r\n      marginBottom: \"20px\",\r\n      \"&> div\": {\r\n        display: \"flex\",\r\n        \"& h2\": {\r\n          height: \"fit-content\",\r\n        },\r\n        \"& h5\": {\r\n          height: \"fit-content\",\r\n        },\r\n      },\r\n    },\r\n    personAvatar: {\r\n      width: \"130px\",\r\n      height: \"130px\",\r\n      fontSize: \"xxx-large\",\r\n      marginRight: \"200px\",\r\n      \"&> img\": {\r\n        width: \"100%\",\r\n        objectFit: \"cover\",\r\n      },\r\n    },\r\n    textInput: { width: \"80%\" },\r\n    fileInput: {\r\n      width: \"80%\",\r\n      marginLeft: \"10px\",\r\n      marginTop: \"25px\",\r\n    },\r\n    selectInput: {\r\n      width: \"100%\",\r\n    },\r\n    npcIcon: {\r\n      color: \"white\",\r\n      backgroundColor: \"tomato\",\r\n      float: \"left\",\r\n    },\r\n    iconNumber: {\r\n      marginLeft: \"60px\",\r\n    },\r\n    modalButtons: {\r\n      marginTop: \"20px\",\r\n      display: \"flow-root !important\",\r\n      \"& button\": {\r\n        float: \"right\",\r\n        marginRight: \"15px\",\r\n      },\r\n    },\r\n    changeButton: {\r\n      color: \"tomato\",\r\n    },\r\n    modalPassword: {\r\n      boxShadow:\r\n        \"0px 3px 5px -1px rgba(0,0,0,0.2), 0px 5px 8px 0px rgba(0,0,0,0.14), 0px 1px 14px 0px rgba(0,0,0,0.12)\",\r\n      backgroundColor: \"#ffffff\",\r\n      width: \"60%\",\r\n      height: \"30%\",\r\n      marginLeft: \"20%\",\r\n      marginTop: \"10%\",\r\n      padding: \"15px\",\r\n      \"&> div\": {\r\n        backgroundColor: \"transparent !important\",\r\n      },\r\n      \"& div\": {\r\n        width: \"100%\",\r\n      },\r\n      \"& button\": {\r\n        marginLeft: \"60%\",\r\n        marginTop: \"30px\",\r\n      },\r\n    },\r\n    circularLoading: {\r\n      marginLeft: \"46%\",\r\n      marginTop: \"20%\",\r\n      \"& div\": {\r\n        color: \"#16192f\",\r\n      },\r\n    },\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  const [file, setFile] = useState();\r\n  const [fileLikeUrl, setFileLikeUrl] = useState();\r\n  const [rawCamps, setRawCamps] = useState({});\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  //Snackbar\r\n  const handleClose = (event, reason) => {\r\n    if (reason === \"clickaway\") {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  };\r\n\r\n  function Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n\r\n  const uploadImage = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file.type.indexOf(\"image\") < 0) {\r\n      setFile();\r\n      return;\r\n    }\r\n\r\n    setFile(file);\r\n\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onloadend = function (e) {\r\n      setFileLikeUrl(reader.result);\r\n    };\r\n  };\r\n\r\n  const downloadPdf = async (pdf) => {\r\n    var storageRef = await storage.ref(escape(pdf.path));\r\n    const downloadUrl = await storageRef.getDownloadURL();\r\n\r\n    let a = document.createElement(\"a\");\r\n    a.href = downloadUrl;\r\n    a.target = \"_blank\";\r\n    a.download = \"chat.pdf\";\r\n    a.click();\r\n    /*storageRef\r\n      .getDownloadURL()\r\n      .then(function (url) {\r\n        // `url` is the download URL for 'images/stars.jpg'\r\n\r\n        // This can be downloaded directly:\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.responseType = \"blob\";\r\n        xhr.onload = function (event) {\r\n          var blob = xhr.response;\r\n        };\r\n        xhr.open(\"GET\", url);\r\n        xhr.send();\r\n      })\r\n      .catch(function (error) {\r\n        // Handle any errors\r\n        console.log(\"error downloaing pdf\", error);\r\n      });*/\r\n  };\r\n\r\n  const saveChanges = () => {\r\n    if (file && file !== undefined)\r\n      storage\r\n        .ref(\"sellers/profile/\" + sell.uid + \"/photo-profile\")\r\n        .put(file)\r\n        .then((snapshot) => {\r\n          storage\r\n            .ref(snapshot.ref.fullPath)\r\n            .getDownloadURL()\r\n            .then((resource) => {\r\n              updateUser({\r\n                mail: sell.mail,\r\n                phoneNumber: sell.phone || null,\r\n                displayName: sell.name,\r\n                photoURL: resource || sell.avatar || null,\r\n                uid: sell.uid,\r\n                name: sell.name,\r\n                nps: sell.nps || 0,\r\n                admin: sell.admin || false,\r\n                role: sell.role || \"seller\",\r\n              });\r\n              setOpen(true);\r\n            });\r\n        });\r\n    else\r\n      updateUser({\r\n        mail: sell.mail,\r\n        phoneNumber: sell.phone || null,\r\n        displayName: sell.name,\r\n        photoURL: sell.avatar || null,\r\n        uid: sell.uid,\r\n        name: sell.name,\r\n        nps: sell.nps || 0,\r\n        admin: sell.admin || false,\r\n        role: sell.role || \"seller\",\r\n      });\r\n    setOpen(true);\r\n  };\r\n\r\n  const openModalPassword = () => {\r\n    setChange(!changePass);\r\n  };\r\n\r\n  const changePassword = () => {\r\n    let newPass = document.getElementById(\"password-input\").value;\r\n\r\n    if (newPass && newPass !== undefined && newPass !== \"\") {\r\n      axios({\r\n        method: \"post\",\r\n        url: `${apiUrl}users/update-password`,\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n        data: {\r\n          password: newPass,\r\n          uid: sell.uid,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          console.log(res.data);\r\n          setNewPassword(newPass);\r\n          openModalPassword();\r\n          setOpen(true);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n\r\n  const goToCampaign = (camp) => {\r\n    history.push({\r\n      pathname: \"/\",\r\n      id: camp.id,\r\n      to2: \"campaign\",\r\n    });\r\n  };\r\n\r\n  if (!sell)\r\n    return (\r\n      <div className={classes.circularLoading}>\r\n        <CircularProgress size={60} />\r\n      </div>\r\n    );\r\n  return (\r\n    <Container>\r\n      <Paper className={classes.vendedorInfo}>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={4}>\r\n            {!sell.avatar && !file && (\r\n              <Avatar className={classes.personAvatar}>\r\n                {sell.name\r\n                  .match(/\\b(\\w)/g)\r\n                  .join(\"\")\r\n                  .toUpperCase()}\r\n              </Avatar>\r\n            )}\r\n            {(fileLikeUrl || sell.avatar) && (\r\n              <Avatar className={classes.personAvatar}>\r\n                <img\r\n                  src={fileLikeUrl ? fileLikeUrl : sell.avatar}\r\n                  width=\"100\"\r\n                  alt=\"Upload Preview\"\r\n                  className={classes.imgPreview}\r\n                />\r\n              </Avatar>\r\n            )}\r\n            <Input\r\n              type=\"file\"\r\n              id=\"file\"\r\n              name=\"file\"\r\n              inputProps={{ accept: \"image/*\" }}\r\n              placeholder=\"Upload an image.\"\r\n              className={classes.fileInput}\r\n              onChange={(e) => uploadImage(e)}\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={4}>\r\n            <TextField\r\n              id=\"first-name-input\"\r\n              label=\"Name\"\r\n              name=\"name\"\r\n              margin=\"normal\"\r\n              className={classes.textInput}\r\n              value={sell.name}\r\n              onChange={handleChange(\"name\")}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12} sm={4}>\r\n            <TextField\r\n              id=\"filled-mail-input\"\r\n              label=\"Email\"\r\n              type=\"email\"\r\n              name=\"mail\"\r\n              autoComplete=\"email\"\r\n              margin=\"normal\"\r\n              className={classes.textInput}\r\n              value={sell.mail}\r\n              onChange={handleChange(\"mail\")}\r\n            />\r\n            <div>\r\n              <p>NPS</p>\r\n              <Avatar className={classes.npcIcon}>\r\n                <StarIcon />\r\n              </Avatar>\r\n              <h2 className={classes.iconNumber}>{sell.nps}</h2>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        {!changePass && (\r\n          <div className={classes.modalButtons}>\r\n            <Button\r\n              variant=\"outlined\"\r\n              color=\"primary\"\r\n              endIcon={<Save />}\r\n              onClick={saveChanges}\r\n            >\r\n              Save\r\n            </Button>\r\n            <Button\r\n              variant=\"outlined\"\r\n              className={classes.changeButton}\r\n              endIcon={<PriorityHigh />}\r\n              onClick={openModalPassword}\r\n            >\r\n              Change Password\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </Paper>\r\n      <Modal\r\n        aria-labelledby=\"Change Password\"\r\n        aria-describedby=\"change\"\r\n        open={changePass}\r\n        onClose={openModalPassword}\r\n        className={classes.modalPassword}\r\n      >\r\n        <Fragment>\r\n          <TextField\r\n            id=\"password-input\"\r\n            label=\"New Password\"\r\n            type=\"password\"\r\n            margin=\"normal\"\r\n          />\r\n          <Button\r\n            variant=\"outlined\"\r\n            className={classes.changeButton}\r\n            endIcon={<PriorityHigh />}\r\n            onClick={changePassword}\r\n          >\r\n            Change\r\n          </Button>\r\n        </Fragment>\r\n      </Modal>\r\n\r\n      <MaterialTable\r\n        title=\"Campaigns\"\r\n        columns={[\r\n          {\r\n            title: \"Name\",\r\n            field: \"name\",\r\n            editable: \"always\",\r\n            headerStyle: {\r\n              width: \"30%\",\r\n              textAlign: \"center\",\r\n            },\r\n            cellStyle: {\r\n              width: \"80%\",\r\n            },\r\n            lookup: rawCamps,\r\n            render: (rawData) => <div>{rawData.name}</div>,\r\n          },\r\n\r\n          /* Se comenta por lo requerido en el siguiente ticket -> \r\n          https://trello.com/c/eSYiKR10/99-detalles-generales-de-integracion\r\n          \r\n          No se elimina por desconocer las implicancias a la labor del dev que lo implementó\r\n          {\r\n            title: \"Avatar\",\r\n            field: \"avatar\",\r\n            editable: \"never\",\r\n            render: (rowData) =>\r\n              rowData ? (\r\n                <img\r\n                  src={rowData.avatar ? rowData.avatar : \"./imgs/wow.png\"}\r\n                  alt=\"avatar\"\r\n                  style={{ width: 50, borderRadius: \"50%\" }}\r\n                />\r\n              ) : (\r\n                <div></div>\r\n              ),\r\n            editComponent: (rowData) => <div></div>,\r\n            headerStyle: {\r\n              width: \"25%\",\r\n            },\r\n          },\r\n          {\r\n            title: \"Type Login\",\r\n            field: \"typeLogin\",\r\n            editable: \"never\",\r\n            headerStyle: {\r\n              width: \"30%\",\r\n              textAlign: \"center\",\r\n            },\r\n            render: (rowData) => {\r\n              if (rowData)\r\n                if (rowData.typeLogin === 1) return <div>mail and Pass</div>;\r\n                else if (rowData.typeLogin === 2) return <div>Just Name</div>;\r\n                else return <div>Just mail</div>;\r\n              else return <div>\"\"</div>;\r\n            },\r\n          },*/\r\n          {\r\n            title: \"NPS\",\r\n            field: \"nps\",\r\n            editable: \"never\",\r\n            headerStyle: {\r\n              width: \"30%\",\r\n            },\r\n          },\r\n        ]}\r\n        data={sellCamps}\r\n        editable={{\r\n          onRowAdd:\r\n            disponibleCamps && disponibleCamps.length > 0\r\n              ? (newData) =>\r\n                  new Promise((resolve, reject) => {\r\n                    console.log(\"newData\", newData);\r\n                    axios\r\n                      .post(`${apiUrl}campaign/assign/`, {\r\n                        campaignId: newData.name,\r\n                        userId: sell.uid,\r\n                      })\r\n                      .then((resp) => {\r\n                        setOpen(true);\r\n                        get();\r\n                        resolve();\r\n                      })\r\n                      .catch((error) => {\r\n                        console.log(\"error adding seller\", error);\r\n                        //setSellers([]);\r\n                        reject();\r\n                      });\r\n                  })\r\n              : null,\r\n          onRowDelete: (oldData) =>\r\n            new Promise((resolve, reject) => {\r\n              axios({\r\n                method: \"delete\",\r\n                url: `${apiUrl}campaign/assign`,\r\n                headers: {\r\n                  \"Content-Type\": \"application/json\",\r\n                  Accept: \"application/json\",\r\n                },\r\n                data: {\r\n                  campaignId: oldData.id,\r\n                  campaignNps: oldData.nps,\r\n                  name: oldData.name,\r\n                  userId: id,\r\n                },\r\n              })\r\n                .then((resp) => {\r\n                  setOpen(true);\r\n                  get();\r\n                  resolve();\r\n                })\r\n                .catch((error) => {\r\n                  console.log(\"adding seller gone wrong\", error);\r\n                  //setSellers([]);\r\n                  reject();\r\n                });\r\n            }),\r\n        }}\r\n        actions={[\r\n          {\r\n            icon: ArrowForwardIosIcon,\r\n            tooltip: \"Edit Campaign\",\r\n            onClick: (event, rowData) => goToCampaign(rowData),\r\n          },\r\n        ]}\r\n        options={{\r\n          pageSize: 10,\r\n          pageSizeOptions: [5, 10, 20],\r\n        }}\r\n      />\r\n\r\n      <MaterialTable\r\n        title=\"Chats\"\r\n        style={{\r\n          marginTop: \"40px\",\r\n        }}\r\n        columns={[\r\n          {\r\n            title: \"Files\",\r\n            field: \"name\",\r\n            editable: \"never\",\r\n\r\n            cellStyle: {\r\n              width: \"80%\",\r\n            },\r\n          },\r\n        ]}\r\n        data={chats}\r\n        actions={[\r\n          {\r\n            icon: PictureAsPdfIcon,\r\n            tooltip: \"Download PDF\",\r\n            onClick: (event, rowData) => downloadPdf(rowData),\r\n          },\r\n        ]}\r\n      />\r\n\r\n      <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\r\n        <Alert onClose={handleClose} severity=\"success\">\r\n          Se guardaron los cambios\r\n        </Alert>\r\n      </Snackbar>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Seller;\r\n\r\n/*\r\n<MaterialTable\r\n        title=\"Camapañias\"\r\n        columns={[\r\n          {\r\n            title: \"Name\",\r\n            field: \"name\",\r\n            headerStyle: {\r\n              width: \"30%\",\r\n              textAlign: \"center\",\r\n            },\r\n          },\r\n          {\r\n            title: \"Cantidad de Vendedores\",\r\n            field: \"cant\",\r\n            editable: \"never\",\r\n            headerStyle: {\r\n              width: \"30%\",\r\n            },\r\n          },\r\n          {\r\n            title: \"NPS\",\r\n            field: \"nps\",\r\n            editable: \"never\",\r\n            headerStyle: {\r\n              width: \"30%\",\r\n            },\r\n          },\r\n        ]}\r\n        data={camps}\r\n      />\r\n*/\r\n\r\n/*\r\neditComponent: (props) => (\r\n              <FormControl className={classes.selectInput}>\r\n                <Select\r\n                  labelId=\"campaign-select\"\r\n                  label=\"Campaing\"\r\n                  id=\"campaign-select\"\r\n                  defaultValue={disponibleCamps[0].id}\r\n                  onChange={(e) => props.onChange(e.target.value)}\r\n                >\r\n                  {disponibleCamps.map((camp) => (\r\n                    <MenuItem key={camp.id} value={camp.id}>\r\n                      {camp.name}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            ),\r\n*/\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Container, Avatar, Input } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport MaterialTable from \"material-table\";\r\n//import axios from \"axios\";\r\n//import { db_firestore } from \"../config/firebase\";\r\nimport {\r\n  getClients,\r\n  getCampaign,\r\n  getCampaignsForCompany,\r\n} from \"../middleware/Middleware\";\r\nimport { AuthContext } from \"../contexts/AuthContext\";\r\n\r\nconst Users = () => {\r\n  //const apiUrl = process.env.REACT_APP_URL_API;\r\n  const [users, setUsers] = useState(null);\r\n  const [campaigns, setCampaigns] = useState(null);\r\n  const {\r\n    user: { user },\r\n  } = useContext(AuthContext);\r\n\r\n  const get = async () => {\r\n    const data = await getClients(user.idcompany);\r\n    setUsers(data);\r\n  };\r\n\r\n  const getCamps = async () => {\r\n    const camps = await getCampaignsForCompany(user.idcompany);\r\n    let infoCamp = [];\r\n    camps.forEach(async (camp) => {\r\n      let campaign = await getCampaign(camp);\r\n      infoCamp.push(campaign);\r\n    });\r\n    console.log(\"camps\", infoCamp);\r\n    setCampaigns(infoCamp);\r\n  };\r\n\r\n  /*eslint-disable */\r\n  useEffect(() => {\r\n    if (!users) get();\r\n    if (!campaigns) getCamps();\r\n  }, [users]);\r\n  /*eslint-enable */\r\n\r\n  const [file, setFile] = useState();\r\n\r\n  const uploadImage = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file.type.indexOf(\"image\") < 0) {\r\n      setFile();\r\n      return;\r\n    }\r\n\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onloadend = function (e) {\r\n      setFile(reader.result);\r\n    };\r\n  };\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    sellersTable: {\r\n      marginTop: \"40px\",\r\n    },\r\n    popList: {\r\n      width: \"100%\",\r\n    },\r\n    uploadFile: {\r\n      borderRadius: \"30%\",\r\n      cursor: \"pointer\",\r\n      \"&> img\": {\r\n        width: \"100%\",\r\n        objectFit: \"cover\",\r\n      },\r\n    },\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  if (!users || !campaigns) return <div>Loading</div>;\r\n  return (\r\n    <Container>\r\n      <MaterialTable\r\n        title=\"Clients\"\r\n        style={{ marginBottom: \"50px\", width: \"102%\" }}\r\n        columns={[\r\n          {\r\n            title: \"Avatar\",\r\n            field: \"avatar\",\r\n            editable: \"never\",\r\n            render: (rowData) =>\r\n              rowData.avatar ? (\r\n                <img\r\n                  src={rowData.avatar}\r\n                  alt=\"avatar\"\r\n                  style={{ width: 50, borderRadius: \"30%\" }}\r\n                />\r\n              ) : (\r\n                <Avatar>\r\n                  {rowData.name\r\n                    .match(/\\b(\\w)/g)\r\n                    .join(\"\")\r\n                    .toUpperCase()}\r\n                </Avatar>\r\n              ),\r\n            editComponent: (props) => (\r\n              <div>\r\n                <Avatar className={classes.uploadFile}>\r\n                  <img\r\n                    src={file ? file : \"./imgs/fileUpload.png\"}\r\n                    alt=\"avatar\"\r\n                    onClick={() =>\r\n                      document.getElementById(\"fileUpload\").click()\r\n                    }\r\n                  />\r\n                </Avatar>\r\n                <Input\r\n                  type=\"file\"\r\n                  id=\"fileUpload\"\r\n                  name=\"file\"\r\n                  style={{\r\n                    display: \"none\",\r\n                  }}\r\n                  inputProps={{ accept: \"image/*\" }}\r\n                  onChange={(e) => uploadImage(e)}\r\n                />\r\n              </div>\r\n            ),\r\n            headerStyle: {\r\n              width: \"25%\",\r\n            },\r\n          },\r\n          {\r\n            title: \"Email\",\r\n            field: \"mail\",\r\n            editable: \"never\",\r\n            headerStyle: {\r\n              width: \"30%\",\r\n            },\r\n            render: (rowData) => (\r\n              <div>{rowData.mail || \"Usuario no registrado\"}</div>\r\n            ),\r\n          },\r\n          {\r\n            title: \"Password\",\r\n            field: \"password\",\r\n            editable: \"never\",\r\n            headerStyle: {\r\n              width: \"30%\",\r\n            },\r\n          },\r\n          {\r\n            title: \"Name\",\r\n            field: \"name\",\r\n            editable: \"never\",\r\n            headerStyle: {\r\n              width: \"30%\",\r\n            },\r\n            cellStyle: {\r\n              padding: \"0px\",\r\n            },\r\n          },\r\n          {\r\n            title: \"Campaign\",\r\n            field: \"campaigns\",\r\n            editable: \"never\",\r\n            headerStyle: {\r\n              width: \"30%\",\r\n              textAlign: \"center\",\r\n            },\r\n            render: (rowData) => (\r\n              <div>\r\n                {rowData && rowData !== undefined ? (\r\n                  rowData.campaigns.map((camp) => <span>{camp.name}</span>)\r\n                ) : (\r\n                  <span> {\"Not found\"} </span>\r\n                )}\r\n              </div>\r\n            ),\r\n          },\r\n        ]}\r\n        data={users}\r\n        options={{\r\n          pageSize: 10,\r\n          pageSizeOptions: [5, 10, 20],\r\n        }}\r\n      />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport {\r\n  Container,\r\n  MenuItem,\r\n  FormControl,\r\n  Select,\r\n  Avatar,\r\n  Input,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport MaterialTable from \"material-table\";\r\nimport axios from \"axios\";\r\nimport { db_firestore } from \"../config/firebase\";\r\nimport {\r\n  getAdmins,\r\n  getCampaign,\r\n  getCampaignsForCompany,\r\n} from \"../middleware/Middleware\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\nimport { AuthContext } from \"../contexts/AuthContext\";\r\n\r\nconst Admins = () => {\r\n  const apiUrl = process.env.REACT_APP_URL_API;\r\n  const [users, setUsers] = useState();\r\n  const [campaigns, setCampaigns] = useState();\r\n  const [open, setOpen] = useState(false);\r\n  const {\r\n    user: { user },\r\n  } = useContext(AuthContext);\r\n\r\n  const get = async () => {\r\n    const data = await getAdmins(user.idcompany);\r\n    console.log(\"users -!->\", data);\r\n    setUsers(data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!users) {\r\n      get();\r\n    }\r\n\r\n    const getCamps = async () => {\r\n      const camps = await getCampaignsForCompany(user.idcompany);\r\n      let infoCamp = [];\r\n      camps.forEach(async (camp) => {\r\n        let campaign = await getCampaign(camp);\r\n        infoCamp.push(campaign);\r\n      });\r\n      console.log(\"camps\", infoCamp);\r\n      setCampaigns(infoCamp);\r\n    };\r\n    getCamps();\r\n  }, [users]);\r\n\r\n  const [file, setFile] = useState();\r\n\r\n  const uploadImage = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file.type.indexOf(\"image\") < 0) {\r\n      setFile();\r\n      return;\r\n    }\r\n\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onloadend = function (e) {\r\n      setFile(reader.result);\r\n    };\r\n  };\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    sellersTable: {\r\n      marginTop: \"40px\",\r\n    },\r\n    popList: {\r\n      width: \"100%\",\r\n    },\r\n    uploadFile: {\r\n      borderRadius: \"30%\",\r\n      cursor: \"pointer\",\r\n      \"&> img\": {\r\n        width: \"100%\",\r\n        objectFit: \"cover\",\r\n      },\r\n    },\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  //SnackBar\r\n  function Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === \"clickaway\") {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  };\r\n\r\n  if (!users || !campaigns) return <div>Loading</div>;\r\n  return (\r\n    <Container>\r\n      <MaterialTable\r\n        title=\"Admins\"\r\n        style={{ marginBottom: \"50px\", width: \"102%\" }}\r\n        columns={[\r\n          {\r\n            title: \"Avatar\",\r\n            field: \"avatar\",\r\n            editable: \"always\",\r\n            render: (rowData) =>\r\n              rowData.avatar ? (\r\n                <img\r\n                  src={rowData.avatar}\r\n                  alt=\"avatar\"\r\n                  style={{ width: 50, borderRadius: \"30%\" }}\r\n                />\r\n              ) : (\r\n                <Avatar>\r\n                  {rowData.name\r\n                    .match(/\\b(\\w)/g)\r\n                    .join(\"\")\r\n                    .toUpperCase()}\r\n                </Avatar>\r\n              ),\r\n            editComponent: (props) => (\r\n              <div>\r\n                <Avatar className={classes.uploadFile}>\r\n                  <img\r\n                    src={file ? file : \"./imgs/fileUpload.png\"}\r\n                    alt=\"avatar\"\r\n                    onClick={() =>\r\n                      document.getElementById(\"fileUpload\").click()\r\n                    }\r\n                  />\r\n                </Avatar>\r\n                <Input\r\n                  type=\"file\"\r\n                  id=\"fileUpload\"\r\n                  name=\"file\"\r\n                  style={{\r\n                    display: \"none\",\r\n                  }}\r\n                  inputProps={{ accept: \"image/*\" }}\r\n                  onChange={(e) => uploadImage(e)}\r\n                />\r\n              </div>\r\n            ),\r\n            headerStyle: {\r\n              width: \"25%\",\r\n            },\r\n          },\r\n          {\r\n            title: \"Email\",\r\n            field: \"mail\",\r\n            editable: \"onAdd\",\r\n            headerStyle: {\r\n              width: \"30%\",\r\n            },\r\n          },\r\n          {\r\n            title: \"Name\",\r\n            field: \"name\",\r\n            editable: \"always\",\r\n            headerStyle: {\r\n              width: \"30%\",\r\n            },\r\n            cellStyle: {\r\n              padding: \"0px\",\r\n            },\r\n          },\r\n          {\r\n            title: \"Password\",\r\n            field: \"password\",\r\n            editable: \"onAdd\",\r\n            headerStyle: {\r\n              width: \"30%\",\r\n            },\r\n          },\r\n          {\r\n            title: \"Campaign\",\r\n            field: \"idCampaign\",\r\n            editable: \"always\",\r\n            headerStyle: {\r\n              width: \"30%\",\r\n              textAlign: \"center\",\r\n            },\r\n            render: (rowData) => {\r\n              var aux = campaigns.filter(\r\n                (camp) => camp.id === rowData.idCampaign\r\n              );\r\n              return <div>{aux.length > 0 ? aux[0].name : \"Not Found\"}</div>;\r\n            },\r\n            editComponent: (props) => (\r\n              <FormControl>\r\n                <Select\r\n                  labelId=\"campaign-select\"\r\n                  label=\"Campaing\"\r\n                  id=\"campaign-select\"\r\n                  value={\r\n                    props.rowData.idCampaign\r\n                      ? props.rowData.idCampaign\r\n                      : campaigns[0].id\r\n                  }\r\n                  onChange={(e) => props.onChange(e.target.value)}\r\n                >\r\n                  {campaigns.map((camp) => (\r\n                    <MenuItem key={camp.id} value={camp.id}>\r\n                      {camp.name}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Select>\r\n              </FormControl>\r\n            ),\r\n          },\r\n        ]}\r\n        data={users}\r\n        editable={{\r\n          onRowAdd: (newData) =>\r\n            new Promise((resolve, reject) => {\r\n              axios({\r\n                method: \"post\",\r\n                url: `${apiUrl}users`,\r\n                headers: {\r\n                  \"Content-Type\": \"application/json\",\r\n                  Accept: \"application/json\",\r\n                },\r\n                data: {\r\n                  mail: newData.mail,\r\n                  avatar: file || null,\r\n                  password: newData.password,\r\n                  name: newData.name,\r\n                  displayName: newData.name,\r\n                  idcompany: user.idcompany,\r\n                  role: \"client\",\r\n                  admin: true,\r\n                },\r\n              })\r\n                .then((resp) => {\r\n                  setOpen(true);\r\n                  get();\r\n                  resolve();\r\n                })\r\n                .catch((error) => {\r\n                  console.log(error);\r\n                  reject();\r\n                });\r\n            }),\r\n          onRowUpdate: (newData, oldData) =>\r\n            new Promise((resolve, reject) => {\r\n              axios({\r\n                method: \"post\",\r\n                url: `${apiUrl}users/edit`,\r\n                headers: {\r\n                  \"Content-Type\": \"application/json\",\r\n                  Accept: \"application/json\",\r\n                },\r\n                data: {\r\n                  mail: newData.mail,\r\n                  phoneNumber: newData.phone || null,\r\n                  displayName: newData.name,\r\n                  photoURL: newData.avatar || null,\r\n                  uid: newData.uid,\r\n                  name: newData.name,\r\n                  admin: true,\r\n                  nps: newData.nps || 0,\r\n                  role: newData.role || \"client\",\r\n                },\r\n              })\r\n                .then((res) => {\r\n                  let listen = db_firestore\r\n                    .collection(\"users\")\r\n                    .where(\"role\", \"==\", \"client\")\r\n                    .onSnapshot((docs) => {\r\n                      setOpen(true);\r\n                      get();\r\n                      listen();\r\n                    });\r\n\r\n                  resolve();\r\n                })\r\n                .catch((err) => {\r\n                  console.log(err);\r\n                  reject();\r\n                });\r\n            }),\r\n          onRowDelete: (oldData) =>\r\n            axios\r\n              .delete(`${apiUrl}users/${oldData.uid}`)\r\n              .then((res) => {\r\n                setOpen(true);\r\n                setUsers(users.filter((u) => u.uid !== oldData.uid));\r\n              })\r\n              .catch((err) => console.log(err)),\r\n        }}\r\n        options={{\r\n          pageSize: 10,\r\n          pageSizeOptions: [5, 10, 20],\r\n        }}\r\n      />\r\n      <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\r\n        <Alert onClose={handleClose} severity=\"success\">\r\n          Se guardaron los cambios\r\n        </Alert>\r\n      </Snackbar>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Admins;\r\n","import React from \"react\";\r\nimport { Avatar, Paper, Grid } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst NpsReport = (props) => {\r\n  const { company, bestSeller, bestCampaign } = props;\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    reportContainer: {\r\n      paddingBottom: \"40px\",\r\n      minHeight: \"400px\",\r\n    },\r\n    resume: {\r\n      marginBottom: \"40px\",\r\n      padding: \"10px\",\r\n      \"&> h2\": {\r\n        fontFamily: \"Verdana, Arial, Helvetica, sans-serif\",\r\n        textAlign: \"center\",\r\n      },\r\n    },\r\n    ItemTitle: {\r\n      fontFamily: \"Verdana, Arial, Helvetica, sans-serif\",\r\n      fontWeight: \"900\",\r\n    },\r\n    resumeTotal: {\r\n      textAlign: \"center\",\r\n      padding: \"5px\",\r\n      height: \"202px\",\r\n      \"&> div\": {\r\n        marginLeft: \"35%\",\r\n        width: \"100px\",\r\n        height: \"100px\",\r\n      },\r\n      \"&> div.nps\": {\r\n        fontSize: \"50px\",\r\n        backgroundColor: \"darkorange\",\r\n      },\r\n    },\r\n    resumeBestCampaign: {\r\n      textAlign: \"center\",\r\n      padding: \"5px\",\r\n      height: \"202px\",\r\n      \"&> div\": {\r\n        marginLeft: \"37%\",\r\n        width: \"100px\",\r\n        height: \"100px\",\r\n      },\r\n      \"&> div.nps\": {\r\n        fontSize: \"50px\",\r\n        backgroundColor: \"darkorange\",\r\n      },\r\n    },\r\n    resumeBestSeller: {\r\n      textAlign: \"center\",\r\n      padding: \"5px\",\r\n      height: \"202px\",\r\n      \"&> div\": {\r\n        marginLeft: \"44%\",\r\n      },\r\n      \"&> div.npsSeller\": {\r\n        backgroundColor: \"darkorange\",\r\n        padding: \"5px\",\r\n        marginLeft: \"44%\",\r\n      },\r\n    },\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Grid container spacing={3}>\r\n      <Grid item xs={12} sm={4}>\r\n        <Paper className={classes.resumeTotal}>\r\n          <p className={classes.ItemTitle}>Total</p>\r\n          <p>{company.name}</p>\r\n          <Avatar className=\"nps\">{(company[\"nps\"]).toFixed(2)}</Avatar>\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12} sm={4}>\r\n        <Paper className={classes.resumeBestCampaign}>\r\n          <p className={classes.ItemTitle}>Best Campaign</p>\r\n          <p>{bestCampaign.name}</p>\r\n          <Avatar className=\"nps\">{(bestCampaign.nps).toFixed(2)}</Avatar>\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12} sm={4}>\r\n        <Paper className={classes.resumeBestSeller}>\r\n          <p className={classes.ItemTitle}>Best Seller</p>\r\n          <Avatar className={classes.avatar} alt=\"avatar\">\r\n            {bestSeller && bestSeller.avatar ? (\r\n              <img src={bestSeller.avatar} alt=\"avatar\" />\r\n            ) : (\r\n              bestSeller.name\r\n                .match(/\\b(\\w)/g)\r\n                .join(\"\")\r\n                .toUpperCase()\r\n            )}\r\n          </Avatar>\r\n          <h4>{bestSeller.name}</h4>\r\n          <Avatar className=\"npsSeller\">{(bestSeller.nps).toFixed(2)}</Avatar>\r\n        </Paper>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default NpsReport;\r\n\r\n/*\r\n<Paper elevation={3}>\r\n        <Button\r\n          className={classes.detailButton}\r\n          size=\"large\"\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          onClick={() => setShowDetails(!showDetails)}\r\n        >\r\n          Details\r\n        </Button>\r\n      </Paper>\r\n\r\n      {showDetails && <NpsReportDetails company={company} camps={camps} />}\r\n*/\r\n","import React from \"react\";\r\nimport { Paper, Grid, Button } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n//import StatsReportDetails from \"./reports/statsReport/StatsReportDetails\";\r\n\r\nconst StatsReport = (props) => {\r\n  const {\r\n    avrgQueryTime,\r\n    adherence,\r\n    effectiveness,\r\n    attention1,\r\n    attention2,\r\n    dropOuts1,\r\n    dropOuts2,\r\n    entries,\r\n    showDetails,\r\n  } = props;\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    resume: {\r\n      marginBottom: \"40px\",\r\n      padding: \"10px\",\r\n      \"&> h2\": {\r\n        fontFamily: \"Verdana, Arial, Helvetica, sans-serif\",\r\n        textAlign: \"center\",\r\n      },\r\n    },\r\n    resumeTotal: {\r\n      display: \"flex\",\r\n      backgroundColor: \"#4d5abd\",\r\n      marginBottom: \"10px\",\r\n      \"&> p\": {\r\n        width: \"70%\",\r\n        marginLeft: \"4%\",\r\n        color: \"white\",\r\n        fontFamily: \"Verdana, Arial, Helvetica, sans-serif\",\r\n      },\r\n      \"&> div\": {\r\n        width: \"7%\",\r\n        backgroundColor: \"white\",\r\n        transform: \"skewX(-10deg)\",\r\n        boxShadow: \"inset 0px 0px 10px -5px rgba(0,0,0,0.76)\",\r\n      },\r\n      \"&> span\": {\r\n        marginTop: \"20px\",\r\n        marginLeft: \"3%\",\r\n        color: \"white\",\r\n        fontFamily: \"Verdana, Arial, Helvetica, sans-serif\",\r\n      },\r\n    },\r\n    detailButton: {\r\n      width: \"100%\",\r\n    },\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  //if (loading) return <CircularProgress />;\r\n  \r\n  return (\r\n    <Grid container spacing={3}>\r\n      <Grid item xs={12} sm={6}>\r\n        <Paper className={classes.resumeTotal}>\r\n          <p className={classes.ItemTitle}>Avrg. Resolution Query Time</p>\r\n          <div> </div>\r\n          <span>{avrgQueryTime}</span>\r\n        </Paper>\r\n        <Paper className={classes.resumeTotal}>\r\n          <p className={classes.ItemTitle}>Adherence (%)</p>\r\n          <div> </div>\r\n          <span>{adherence}</span>\r\n        </Paper>\r\n        <Paper className={classes.resumeTotal}>\r\n          <p className={classes.ItemTitle}>Effectiveness (%)</p>\r\n          <div> </div>\r\n          <span>{effectiveness}</span>\r\n        </Paper>\r\n        <Paper className={classes.resumeTotal}>\r\n          <p className={classes.ItemTitle}>Dropout Level 1 (%)</p>\r\n          <div> </div>\r\n          <span>{dropOuts1}</span>\r\n        </Paper>\r\n        <Paper className={classes.resumeTotal}>\r\n          <p className={classes.ItemTitle}>Dropout Level 2 (%)</p>\r\n          <div> </div>\r\n          <span>{dropOuts2}</span>\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12} sm={6}>\r\n        <Paper className={classes.resumeTotal}>\r\n          <p className={classes.ItemTitle}>Attention Level 1 (%)</p>\r\n          <div> </div>\r\n          <span>{attention1}</span>\r\n        </Paper>\r\n        <Paper className={classes.resumeTotal}>\r\n          <p className={classes.ItemTitle}>Attention Level 2 (%)</p>\r\n          <div> </div>\r\n          <span>{attention2}</span>\r\n        </Paper>\r\n        <Paper className={classes.resumeTotal}>\r\n          <p className={classes.ItemTitle}>Service Level 1 (%)</p>\r\n          <div> </div>\r\n          <span>{0}</span>\r\n        </Paper>\r\n        <Paper className={classes.resumeTotal}>\r\n          <p className={classes.ItemTitle}>Service Level 2 (%)</p>\r\n          <div> </div>\r\n          <span>{0}</span>\r\n        </Paper>\r\n        <Paper className={classes.resumeTotal}>\r\n          <p className={classes.ItemTitle}>Service Level 3 (%)</p>\r\n          <div> </div>\r\n          <span>{0}</span>\r\n        </Paper>\r\n        <Paper className={classes.resumeTotal}>\r\n          <p className={classes.ItemTitle}>Entries (%)</p>\r\n          <div> </div>\r\n          <span>{entries}</span>\r\n        </Paper>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default StatsReport;\r\n\r\n/*\r\n<Paper elevation={3}>\r\n        <Button\r\n          className={classes.detailButton}\r\n          size=\"large\"\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          onClick={() => setShowDetails(!showDetails)}\r\n        >\r\n          Details\r\n        </Button>\r\n      </Paper>\r\n*/\r\n\r\n//{showDetails && <StatsReportDetails sellers={sellers} />}\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport { AuthContext } from \"../contexts/AuthContext\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport {\r\n  getCampaigns,\r\n  getCompany,\r\n  getSellers,\r\n  getChats,\r\n  getSessions,\r\n} from \"../middleware/Middleware\";\r\nimport { Container, Paper, Button } from \"@material-ui/core\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport NpsReport from \"./NpsReport\";\r\nimport StatsReport from \"./StatsReport\";\r\n\r\nconst Reports = () => {\r\n  const history = useHistory();\r\n  const {\r\n    user: { user },\r\n  } = useContext(AuthContext);\r\n  const [company, setCompany] = useState();\r\n  const [camps, setCamps] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [bestSeller, setBestSeller] = useState();\r\n  const [bestCampaign, setBestCampaign] = useState();\r\n\r\n  const [sellers, setSellers] = useState([]);\r\n  const [avrgQueryTime, setAvrgQueryTime] = useState(0);\r\n  const [adherence, setAdherence] = useState(0);\r\n  const [effectiveness, setEffectiveness] = useState(0);\r\n  const [attention1, setAttention1] = useState(0);\r\n  const [attention2, setAttention2] = useState(0);\r\n  const [dropOuts1, setDropouts1] = useState(0);\r\n  const [dropOuts2, setDropouts2] = useState(0);\r\n  const [entries, setEntries] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const getSellersCampaign = (id, allSellers) => {\r\n      var res = [];\r\n\r\n      for (const key in allSellers) {\r\n        if (allSellers[key].hasOwnProperty(\"campaigns\")) {\r\n          const campaigns = allSellers[key].campaigns;\r\n          if (campaigns.some((c) => c.id === id)) {\r\n            const selCamp = campaigns.filter((c2) => c2.id === id);\r\n            res.push({\r\n              ...allSellers[key],\r\n              nps: selCamp[0].nps ? selCamp[0].nps : 0,\r\n              bestSeller: false,\r\n            });\r\n          }\r\n        }\r\n      }\r\n      return res;\r\n    };\r\n\r\n    const get = async () => {\r\n      var camps = await getCampaigns(user.idcompany);\r\n      //console.log(\"camps\", camps);\r\n      const company1 = await getCompany(user.idcompany);\r\n\r\n      var sellersAll = await getSellers(user.idcompany);\r\n      sellersAll = sellersAll.filter((s) => s.hasOwnProperty(\"mail\"));\r\n\r\n      //Stats for sellers\r\n      var queryTime = 0;\r\n      var countChats = 0;\r\n      var countAttended = 0;\r\n      var countShortAttended = 0;\r\n      var countRejected = 0;\r\n      var countTotalUsers = 0;\r\n      for (let i = 0; i < sellersAll.length; i++) {\r\n        const sel = sellersAll[i];\r\n\r\n        const chats = await getChats(sel.uid);\r\n        const sessions = await getSessions(sel.uid);\r\n        //const services = await getServices(sel.uid);\r\n\r\n        sel[\"chats\"] = chats;\r\n        sel[\"sessions\"] = sessions;\r\n        //sel[\"services\"] = services;\r\n        var selQueryTime = 0;\r\n        if (chats.length > 0) {\r\n          //console.log(\"chats\", chats);\r\n          //console.log(\"sessions\", sessions);\r\n          //console.log(\"services\", services);\r\n          countChats += chats.length;\r\n          for (let c = 0; c < chats.length; c++) {\r\n            const chat = chats[c];\r\n            selQueryTime += chat.tiempoTotal;\r\n          }\r\n          queryTime += selQueryTime;\r\n        }\r\n        var selAttended = 0;\r\n        var selShortAttended = 0;\r\n        var selRejected = 0;\r\n        var selTotalUsers = 0;\r\n        if (sessions.length > 0)\r\n          for (let s = 0; s < sessions.length; s++) {\r\n            const session = sessions[s];\r\n            if (\r\n              session.hasOwnProperty(\"atendidos\") &&\r\n              session.hasOwnProperty(\"rechazados\")\r\n            ) {\r\n              selAttended += Number(session.atendidos);\r\n              selShortAttended += Number(session.antecionesCortas);\r\n              selRejected += Number(session.rechazados);\r\n              selTotalUsers += Number(session.totalUsuarios);\r\n            }\r\n          }\r\n\r\n        sel[\"avrgQueryTime\"] =\r\n          selQueryTime > 0 ? selQueryTime / chats.length : 0;\r\n        sel[\"adherence\"] = 0;\r\n        sel[\"effectiviness\"] =\r\n          selRejected > 0\r\n            ? Math.round((selAttended / selTotalUsers) * 100) / 100\r\n            : 0;\r\n        sel[\"attention2\"] =\r\n          selAttended > 0\r\n            ? Math.round((selAttended / (selTotalUsers - selRejected)) * 100) /\r\n            100\r\n            : 0;\r\n        sel[\"dropouts1\"] =\r\n          selRejected > 0\r\n            ? Math.round((selRejected / selAttended) * 100) / 100\r\n            : 0;\r\n        sel[\"droputs2\"] =\r\n          selRejected > 0\r\n            ? Math.round(\r\n              ((selRejected - selShortAttended) /\r\n                (selAttended - selShortAttended)) *\r\n              100\r\n            ) / 100\r\n            : 0;\r\n        sel[\"entries\"] = chats.length;\r\n        sel[\"service1\"] = 0;\r\n        sel[\"service2\"] = 0;\r\n        sel[\"service3\"] = 0;\r\n\r\n        countAttended += selAttended;\r\n        countShortAttended += selShortAttended;\r\n        countRejected += selRejected;\r\n        countTotalUsers += selTotalUsers;\r\n      }\r\n      setSellers(sellersAll);\r\n\r\n      let vAvrgQueryTime = queryTime / countChats;\r\n      if (isNaN(vAvrgQueryTime))\r\n        vAvrgQueryTime = 0;\r\n      setAvrgQueryTime(vAvrgQueryTime);\r\n\r\n      let vAttention1 = Math.round((countAttended / countTotalUsers) * 100) / 100;\r\n      if (isNaN(vAttention1))\r\n        vAttention1 = 0;\r\n      setAttention1(vAttention1);\r\n\r\n      let vAttention2 = Math.round((countAttended / (countTotalUsers - countRejected)) * 100) / 100;\r\n      if (isNaN(vAttention2))\r\n        vAttention2 = 0;\r\n      setAttention2(vAttention2);\r\n\r\n      let vDropouts1 = Math.round((countRejected / countAttended) * 100) / 100;\r\n      if (isNaN(vDropouts1))\r\n        vDropouts1 = 0;\r\n      setDropouts1(vDropouts1);\r\n\r\n      let vDropouts2 = Math.round(\r\n        ((countRejected - countShortAttended) /\r\n          (countAttended - countShortAttended)) *\r\n        100\r\n      ) / 100;\r\n\r\n      if (isNaN(vDropouts2))\r\n        vDropouts2 = 0;\r\n\r\n      setDropouts2(vDropouts2);\r\n\r\n      setEntries(countChats);\r\n      //Stats for sellers\r\n\r\n      //console.log(\"sellersAll\", sellersAll);\r\n      /*for (let i = 0; i < camps.length; i++) {\r\n        const camp = camps[i];\r\n        let sellers = [];\r\n        sellers = getSellersCampaign(camp.id, sellersAll);\r\n        //console.log(\"sellers \" + camp.name, sellers);\r\n        camp[\"sellers\"] = sellers;\r\n      }*/\r\n\r\n      camps = camps.map((c) => ({\r\n        ...c,\r\n        sellers: getSellersCampaign(c.id, sellersAll),\r\n      }));\r\n\r\n      var npsTotal = 0;\r\n      let maxNpsCampaign = -1;\r\n      for (let i = 0; i < camps.length; i++) {\r\n        const camp = camps[i];\r\n        let npsCamp = 0;\r\n\r\n        let maxNps = 0;\r\n        let indexSel = -1;\r\n        for (let j = 0; j < camp.sellers.length; j++) {\r\n          const sel = camp.sellers[j];\r\n          if (sel.nps !== NaN) npsCamp += Number(sel.nps);\r\n\r\n          if (sel.nps !== NaN && Number(sel.nps) > maxNps) {\r\n            indexSel = j;\r\n            maxNps = Number(sel.nps);\r\n          }\r\n        }\r\n\r\n        if (indexSel > -1) {\r\n          camps[i][\"sellers\"][indexSel][\"bestSeller\"] = true;\r\n          setBestSeller(camps[i][\"sellers\"][indexSel]);\r\n        }\r\n\r\n        camps[i][\"nps\"] =\r\n          camps[i][\"sellers\"].length > 0\r\n            ? npsCamp / camps[i][\"sellers\"].length\r\n            : 0;\r\n        if (camps[i][\"nps\"] > maxNpsCampaign) {\r\n          maxNpsCampaign = camps[i][\"nps\"];\r\n          setBestCampaign(camps[i]);\r\n        }\r\n        npsTotal +=\r\n          camps[i][\"sellers\"].length > 0\r\n            ? npsCamp / camps[i][\"sellers\"].length\r\n            : 0;\r\n      }\r\n      setCamps(camps);\r\n      company1[\"nps\"] = Math.round((npsTotal / camps.length) * 100) / 100;\r\n      setCompany(company1);\r\n      setLoading(false);\r\n    };\r\n    if (camps && camps.length === 0) {\r\n      get();\r\n    }\r\n  }, [camps]);\r\n\r\n  const goToReport = (name) => {\r\n    history.push({\r\n      pathname: \"/\",\r\n      search: \"\",\r\n      hash: \"\",\r\n      state: { to: name, company, camps },\r\n    });\r\n  };\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    reportsCointainer: {\r\n      paddingBottom: \"40px\",\r\n    },\r\n    reportsList: {\r\n      width: \"100%\",\r\n      marginBottom: \"20px\",\r\n      borderRadius: \"0px 50px 0px 0px\",\r\n    },\r\n    report: {\r\n      paddingLeft: \"10px\",\r\n      paddingRight: \"10px\",\r\n    },\r\n    headerDiv: {\r\n      backgroundColor: \"#241332\",\r\n      borderRadius: \"0px 50px 0px 50px\",\r\n      color: \"white\",\r\n      textAlign: \"center\",\r\n      height: \"60px\",\r\n      fontSize: \"40px\",\r\n      letterSpacing: \"4px\",\r\n      marginBottom: \"20px\",\r\n    },\r\n    detailButton: {\r\n      width: \"100%\",\r\n      marginTop: \"20px\",\r\n    },\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  if (loading) return <CircularProgress />;\r\n  console.log(\"camps\", camps);\r\n  return (\r\n    <Container className={classes.reportsCointainer}>\r\n      <Paper className={classes.reportsList} elevation={3}>\r\n        <div className={classes.headerDiv}>\r\n          <p> NPS</p>\r\n        </div>\r\n        <div className={classes.report}>\r\n          <NpsReport\r\n            company={company}\r\n            camps={camps}\r\n            loading={loading}\r\n            bestSeller={bestSeller}\r\n            bestCampaign={bestCampaign}\r\n          />\r\n        </div>\r\n        <Paper elevation={3}>\r\n          <Button\r\n            className={classes.detailButton}\r\n            size=\"large\"\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            onClick={() => goToReport(\"reports/NpsReportDetails\")}\r\n          >\r\n            Details\r\n          </Button>\r\n        </Paper>\r\n      </Paper>\r\n      <Paper className={classes.reportsList} elevation={3}>\r\n        <div className={classes.headerDiv}>\r\n          <p> STATISTICS</p>\r\n        </div>\r\n        <div className={classes.report}>\r\n          <StatsReport\r\n            avrgQueryTime={avrgQueryTime}\r\n            adherence={adherence}\r\n            effectiveness={effectiveness}\r\n            attention1={attention1}\r\n            attention2={attention2}\r\n            dropOuts1={dropOuts1}\r\n            dropOuts2={dropOuts2}\r\n            entries={entries}\r\n          />\r\n        </div>\r\n        <Paper elevation={3}>\r\n          <Button\r\n            className={classes.detailButton}\r\n            size=\"large\"\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            onClick={() => goToReport(\"reports/StatsReportDetails\")}\r\n          >\r\n            Details\r\n          </Button>\r\n        </Paper>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Reports;\r\n\r\n/*\r\n\r\n* <div className={classes.report}>\r\n          <div className={classes.reportName}>\r\n            <div></div>\r\n            <p>NPS's Campaing</p>\r\n          </div>\r\n          <IconButton\r\n            variant=\"outlined\"\r\n            onClick={() => goToReport(\"reports/npsReport\")}\r\n          >\r\n            <ShowChartIcon />\r\n          </IconButton>\r\n        </div>\r\n        <div className={classes.report}>\r\n          <div className={classes.reportName}>\r\n            <div></div>\r\n            <p>Campaing Statistics</p>\r\n          </div>\r\n          <IconButton\r\n            variant=\"outlined\"\r\n            onClick={() => goToReport(\"reports/statsReport\")}\r\n          >\r\n            <ShowChartIcon />\r\n          </IconButton>\r\n        </div>*/\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Avatar } from \"@material-ui/core\";\r\nimport PersonIcon from \"@material-ui/icons/Person\";\r\n\r\nconst NpsSeller = (props) => {\r\n  const { uid, avatar, name, mail, nps, bestSeller } = props.seller;\r\n  const useStyles = makeStyles((theme) => ({\r\n    sellerEntry: {\r\n      marginLeft: \"20%\",\r\n      borderBottom: \"1px solid #161930\",\r\n      display: \"flex\",\r\n    },\r\n    avatar: {\r\n      marginRight: \"40px\",\r\n      padding: \"5px\",\r\n      marginTop: \"10px\",\r\n    },\r\n    npsSeller: {\r\n      height: \"30px\",\r\n      width: \"30px\",\r\n      fontSize: \"15px\",\r\n      marginTop: \"15px !important\",\r\n      backgroundColor: bestSeller ? \"darkorange\" : \"\",\r\n      marginLeft: \"auto\",\r\n      padding: \"5px\",\r\n    },\r\n  }));\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.sellerEntry}>\r\n      <Avatar className={classes.avatar} alt=\"avatar\">\r\n        {avatar ? (\r\n          <img src={avatar} alt=\"avatar\" />\r\n        ) : (\r\n          name\r\n            .match(/\\b(\\w)/g)\r\n            .join(\"\")\r\n            .toUpperCase()\r\n        )}\r\n      </Avatar>\r\n      <h4>{name}</h4>\r\n      <Avatar className={classes.npsSeller}>{nps}</Avatar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NpsSeller;\r\n","import React, { Fragment } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport NpsSeller from \"./NpsSeller\";\r\nimport { Avatar } from \"@material-ui/core\";\r\n\r\nconst NpsCampaign = (props) => {\r\n  const { id, name, sellers, nps } = props.camp;\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    campEntry: {\r\n      marginTop: \"40px\",\r\n      marginLeft: \"10%\",\r\n      borderBottom: \"2px solid #161930\",\r\n      display: \"flex\",\r\n      \"&> h3\": { marginRight: \"40px\" },\r\n    },\r\n    npsCamp: {\r\n      marginTop: \"10px\",\r\n      marginLeft: \"auto\",\r\n    },\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Fragment>\r\n      <div key={id} className={classes.campEntry}>\r\n        <h3>{name}</h3>\r\n        <Avatar className={classes.npsCamp}>{nps}</Avatar>\r\n      </div>\r\n      {sellers.map((s) => (\r\n        <NpsSeller key={s.uid} seller={s} />\r\n      ))}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default NpsCampaign;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport NpsCampaign from \"./NpsCampaign\";\r\nimport { Avatar, Paper } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst NpsReportDetails = (props) => {\r\n  const history = useHistory();\r\n  const { company, camps } = history.location.state;\r\n\r\n  //console.log(\"history\", history);\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    details: {\r\n      marginTop: \"40px\",\r\n      padding: \"5px\",\r\n      marginLeft: \"20px\",\r\n      marginRight: \"20px\",\r\n      paddingBottom: \"40px\",\r\n    },\r\n    companyTitle: {\r\n      width: \"100%\",\r\n      borderBottom: \"3px solid #161930\",\r\n      display: \"flex\",\r\n      marginRight: \"40px\",\r\n      \"&> h2\": {\r\n        marginRight: \"40px\",\r\n      },\r\n    },\r\n    npsCompany: {\r\n      marginTop: \"10px\",\r\n      height: \"50px\",\r\n      width: \"50px\",\r\n      marginLeft: \"auto\",\r\n    },\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Paper elevation={3} className={classes.details}>\r\n      <div className={classes.companyTitle}>\r\n        <h2>{company.name}</h2>\r\n        <Avatar className={classes.npsCompany}>{company.nps}</Avatar>\r\n      </div>\r\n      {camps.map((c) => (\r\n        <NpsCampaign key={c.id} camp={c} />\r\n      ))}\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default NpsReportDetails;\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\n\r\nconst StatsSeller = ({ seller }) => {\r\n  const useStyles = makeStyles((theme) => ({\r\n    nested: {\r\n      paddingLeft: theme.spacing(4),\r\n    },\r\n  }));\r\n  const classes = useStyles();\r\n  return (\r\n    <ListItem button className={classes.nested}>\r\n      {seller.name}\r\n    </ListItem>\r\n  );\r\n};\r\n\r\nexport default StatsSeller;\r\n","import React, { useState, Fragment } from \"react\";\r\nimport { List, ListItem, Collapse, Chip } from \"@material-ui/core\";\r\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\r\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\r\nimport StatsSeller from \"./StatsSeller\";\r\n\r\nconst StatsCampaign = ({ camp }) => {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClick = () => {\r\n    setOpen(!open);\r\n  };\r\n  return camp.sellers.length === 0 ? (\r\n    <ListItem button>\r\n      <div>{camp.name}</div>\r\n      <Chip\r\n        variant=\"outlined\"\r\n        size=\"small\"\r\n        label={`avrgQueryTime ${camp.avrgQueryTime}`}\r\n      />\r\n    </ListItem>\r\n  ) : (\r\n    <Fragment>\r\n      <ListItem button onClick={handleClick}>\r\n        <div>{camp.name}</div>\r\n\r\n        {open ? <ExpandLess /> : <ExpandMore />}\r\n      </ListItem>\r\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n        <List component=\"div\" disablePadding>\r\n          {camp.sellers.map((s) => (\r\n            <StatsSeller key={s.uid} seller={s} />\r\n          ))}\r\n        </List>\r\n      </Collapse>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default StatsCampaign;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\r\nimport List from \"@material-ui/core/List\";\r\nimport StatsCampaign from \"./StatsCampaign\";\r\n\r\nconst StatsReportDetails = (props) => {\r\n  const history = useHistory();\r\n  const { camps } = history.location.state;\r\n  const [open, setOpen] = useState(true);\r\n\r\n  useEffect(() => {\r\n    for (let i = 0; i < camps.length; i++) {\r\n      const camp = camps[i];\r\n\r\n      if (camp.hasOwnProperty(\"sellers\")) {\r\n        var avrgQueryTime = 0;\r\n        var adherence = 0;\r\n        var effectiviness = 0;\r\n        var attention2 = 0;\r\n        var dropouts1 = 0;\r\n        var droputs2 = 0;\r\n        var entries = 0;\r\n        var service1 = 0;\r\n        var service2 = 0;\r\n        var service3 = 0;\r\n\r\n        for (let s = 0; s < camp.sellers.length; s++) {\r\n          const sel = camp.sellers[s];\r\n\r\n          avrgQueryTime += sel[\"avrgQueryTime\"];\r\n          adherence += sel[\"adherence\"];\r\n          effectiviness += sel[\"effectiviness\"];\r\n          attention2 += sel[\"attention2\"];\r\n          dropouts1 += sel[\"dropouts1\"];\r\n          droputs2 += sel[\"droputs2\"];\r\n          entries += sel[\"entries\"];\r\n          service1 += sel[\"service1\"];\r\n          service2 += sel[\"service2\"];\r\n          service3 += sel[\"service3\"];\r\n        }\r\n\r\n        camp[\"avrgQueryTime\"] = avrgQueryTime;\r\n        camp[\"adherence\"] = adherence;\r\n        camp[\"effectiviness\"] = effectiviness;\r\n        camp[\"attention2\"] = attention2;\r\n        camp[\"dropouts1\"] = dropouts1;\r\n        camp[\"droputs2\"] = droputs2;\r\n        camp[\"entries\"] = entries;\r\n        camp[\"service1\"] = service1;\r\n        camp[\"service2\"] = service2;\r\n        camp[\"service3\"] = service3;\r\n      }\r\n    }\r\n  }, [camps]);\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      width: \"100%\",\r\n      maxWidth: 360,\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n  }));\r\n  const classes = useStyles();\r\n  console.log(\"campaigns\", camps);\r\n  return (\r\n    <List\r\n      component=\"nav\"\r\n      aria-labelledby=\"nested-list-subheader\"\r\n      subheader={\r\n        <ListSubheader component=\"div\" id=\"nested-list-subheader\">\r\n          Nested List Items\r\n        </ListSubheader>\r\n      }\r\n      className={classes.root}\r\n    >\r\n      {camps.map((c) => (\r\n        <StatsCampaign key={c.id} camp={c} />\r\n      ))}\r\n    </List>\r\n  );\r\n};\r\n\r\nexport default StatsReportDetails;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { AuthContext } from \"./contexts/AuthContext\";\r\nimport { BrowserRouter, Route } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Main from \"./components/Main\";\r\nimport NavBar from \"./components/NavBar\";\r\nimport Sellers from \"./components/Sellers\";\r\nimport Campaigns from \"./components/Campaigns\";\r\nimport Campaign from \"./components/Campaign\";\r\nimport Wellcome from \"./components/Wellcome\";\r\nimport Seller from \"./components/Seller\";\r\nimport Users from \"./components/Users\";\r\nimport Admins from \"./components/Admins\";\r\nimport Reports from \"./components/Reports\";\r\nimport NpsReportDetails from \"./components/reports/npsReport/NpsReportDetails\";\r\nimport StatsReportDetails from \"./components/reports/statsReport/StatsReportDetails\";\r\n\r\nfunction App() {\r\n  const { user } = useContext(AuthContext);\r\n  const useStyles = makeStyles((theme) => ({\r\n    app: {\r\n      backgroundColor: \"#ffffff\",\r\n    },\r\n  }));\r\n\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    if (user.user && !user.hasOwnProperty(\"error\"))\r\n      document.getElementsByTagName(\"body\")[0].style =\r\n        \"background-color: #ffffff\";\r\n  }, [user]);\r\n\r\n  if (!user.user || (user.hasOwnProperty(\"error\") && user.error))\r\n    return <Wellcome />;\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <div className={classes.app}>\r\n        <header>\r\n          <NavBar />\r\n        </header>\r\n        <Route\r\n          path=\"/\"\r\n          render={(props) => {\r\n            if (props.location.state) {\r\n              const { to } = props.location.state;\r\n              if (to === \"sellers\") return <Sellers />;\r\n              else if (to === \"campaigns\") return <Campaigns />;\r\n              else if (to === \"users\") return <Users />;\r\n              else if (to === \"admins\") return <Admins />;\r\n              else if (to === \"reports\") return <Reports />;\r\n              else if (to === \"reports/NpsReportDetails\")\r\n                return <NpsReportDetails />;\r\n              else if (to === \"reports/StatsReportDetails\")\r\n                return <StatsReportDetails />;\r\n              else return <Main />;\r\n            } else if (props.location.hasOwnProperty(\"to2\")) {\r\n              const { to2, id } = props.location;\r\n              localStorage.setItem(\"lastRoute\", to2);\r\n              localStorage.setItem(\"idSelected\", id);\r\n              if (to2 === \"campaign\") return <Campaign />;\r\n              else if (to2 === \"seller\") return <Seller />;\r\n              else return <Main user={user.user} />;\r\n            } else if (localStorage.getItem(\"lastRoute\") !== null) {\r\n              const to = localStorage.getItem(\"lastRoute\");\r\n              if (to === \"campaign\") return <Campaign />;\r\n              else if (to === \"seller\") return <Seller />;\r\n              else return <Main user={user.user} />;\r\n            } else return <Main user={user.user} />;\r\n          }}\r\n        />\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n/*\r\n<Switch\r\n          location={{ pathname: \"/\", search: \"\", hash: \"\", state: undefined }}\r\n        >\r\n          <Route exact path=\"/\" component={Main} />\r\n          <Route path=\"/sellers\" component={Sellers} />\r\n          <Route path=\"/campaigns\" component={Campaigns} />\r\n          <Route path=\"/campaign\" component={Campaign} />\r\n          <Route path=\"/seller\" component={Seller} />\r\n          <Route path=\"/users\" component={Users} />\r\n        </Switch>\r\n\r\n       \r\n*/\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport \"./css/style.css\";\r\nimport AuthContextProvider from \"./contexts/AuthContext\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AuthContextProvider>\r\n      <App />\r\n    </AuthContextProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}